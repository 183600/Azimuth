// Azimuth é¡¹ç›®é™„åŠ æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œæä¾›å¤šæ ·åŒ–çš„æµ‹è¯•åœºæ™¯

test "error_handling_with_negative_inputs" {
  // æµ‹è¯•è´Ÿæ•°è¾“å…¥çš„é”™è¯¯å¤„ç†
  let result1 = azimuth::add(-100, -200)
  assert_eq(result1, -300)
  
  let result2 = azimuth::multiply(-15, -4)
  assert_eq(result2, 60)
  
  let result3 = azimuth::multiply(-8, 7)
  assert_eq(result3, -56)
}

test "unicode_string_processing" {
  // æµ‹è¯• Unicode å­—ç¬¦ä¸²å¤„ç†
  let result1 = azimuth::greet("ä¸–ç•Œ")
  assert_eq(result1, "Hello, ä¸–ç•Œ!")
  
  let result2 = azimuth::greet("ğŸš€")
  assert_eq(result2, "Hello, ğŸš€!")
  
  let result3 = azimuth::greet("CafÃ©")
  assert_eq(result3, "Hello, CafÃ©!")
}

test "mathematical_power_calculations" {
  // æµ‹è¯•å¹‚è¿ç®—ï¼ˆé€šè¿‡é‡å¤ä¹˜æ³•å®ç°ï¼‰
  let base = 3
  
  // 3^2 = 9
  let power2 = azimuth::multiply(base, base)
  assert_eq(power2, 9)
  
  // 3^3 = 27
  let power3 = azimuth::multiply(power2, base)
  assert_eq(power3, 27)
  
  // 3^4 = 81
  let power4 = azimuth::multiply(power3, base)
  assert_eq(power4, 81)
}

test "statistical_operations" {
  // æµ‹è¯•ç»Ÿè®¡è¿ç®—
  
  // è®¡ç®—å¹³å‡å€¼: (10 + 20 + 30) / 3 = 20
  let sum = azimuth::add(azimuth::add(10, 20), 30)
  let count = 3
  let average = sum / count
  assert_eq(average, 20)
  
  // è®¡ç®—èŒƒå›´: max - min = 50 - 5 = 45
  let max_val = 50
  let min_val = 5
  let range = azimuth::add(max_val, -min_val)
  assert_eq(range, 45)
}

test "currency_conversion_simulation" {
  // æ¨¡æ‹Ÿè´§å¸è½¬æ¢æµ‹è¯•
  
  // ç¾å…ƒè½¬äººæ°‘å¸ (å‡è®¾æ±‡ç‡ 1:7.2)
  let usd_amount = 100
  let exchange_rate = 7
  let cny_amount = azimuth::multiply(usd_amount, exchange_rate)
  assert_eq(cny_amount, 700)
  
  // æ¬§å…ƒè½¬ç¾å…ƒ (å‡è®¾æ±‡ç‡ 1:1.1)
  let eur_amount = 50
  let eur_to_usd = 1
  let usd_from_eur = azimuth::multiply(eur_amount, eur_to_usd)
  assert_eq(usd_from_eur, 50)
}

test "scientific_notation_operations" {
  // ç§‘å­¦è®¡æ•°æ³•è¿ç®—æµ‹è¯•
  
  // 1.23 * 10^3 = 1230
  let mantissa = 123
  let exponent = 10
  let scientific_result = azimuth::multiply(mantissa, exponent)
  assert_eq(scientific_result, 1230)
  
  // 4.56 * 10^2 = 456
  let mantissa2 = 456
  let exponent2 = 1
  let scientific_result2 = azimuth::multiply(mantissa2, exponent2)
  assert_eq(scientific_result2, 456)
}

test "memory_address_simulation" {
  // æ¨¡æ‹Ÿå†…å­˜åœ°å€è®¡ç®—
  
  let base_address = 1000
  let offset1 = 50
  let offset2 = 25
  let offset3 = 10
  
  // è®¡ç®—æœ€ç»ˆåœ°å€: base + offset1 + offset2 + offset3
  let final_address = azimuth::add(azimuth::add(azimuth::add(base_address, offset1), offset2), offset3)
  assert_eq(final_address, 1085)
}

test "network_protocol_simulation" {
  // ç½‘ç»œåè®®æ¨¡æ‹Ÿæµ‹è¯•
  
  // è®¡ç®—æ•°æ®åŒ…æ€»å¤§å°: header + payload + checksum
  let header_size = 20
  let payload_size = 1024
  let checksum_size = 4
  let total_packet_size = azimuth::add(azimuth::add(header_size, payload_size), checksum_size)
  assert_eq(total_packet_size, 1048)
  
  // è®¡ç®—å¸¦å®½åˆ©ç”¨ç‡: payload_size / total_packet_size
  let bandwidth_utilization = payload_size * 100 / total_packet_size
  assert_eq(bandwidth_utilization, 97)
}

test "game_physics_simulation" {
  // æ¸¸æˆç‰©ç†æ¨¡æ‹Ÿæµ‹è¯•
  
  // è®¡ç®—è‡ªç”±è½ä½“è·ç¦»: d = g * t^2 / 2 (ç®€åŒ–ç‰ˆæœ¬)
  let gravity = 10  // ç®€åŒ–çš„é‡åŠ›åŠ é€Ÿåº¦
  let time = 3
  let time_squared = azimuth::multiply(time, time)
  let distance = azimuth::multiply(gravity, time_squared) / 2
  assert_eq(distance, 45)
  
  // è®¡ç®—é€Ÿåº¦: v = g * t
  let velocity = azimuth::multiply(gravity, time)
  assert_eq(velocity, 30)
}

test "data_compression_simulation" {
  // æ•°æ®å‹ç¼©æ¨¡æ‹Ÿæµ‹è¯•
  
  let original_size = 1000
  let compression_ratio = 70  // 70% å‹ç¼©ç‡
  
  // è®¡ç®—å‹ç¼©åå¤§å°
  let compressed_size = azimuth::multiply(original_size, compression_ratio) / 100
  assert_eq(compressed_size, 700)
  
  // è®¡ç®—èŠ‚çœçš„ç©ºé—´
  let saved_space = azimuth::add(original_size, -compressed_size)
  assert_eq(saved_space, 300)
  
  // è®¡ç®—å‹ç¼©æ•ˆç‡
  let efficiency = saved_space * 100 / original_size
  assert_eq(efficiency, 30)
}