// å¢å¼ºçš„MoonBitæµ‹è¯•ç”¨ä¾‹ - é’ˆå¯¹azimuthåº“çš„é¢å¤–æµ‹è¯•

// æµ‹è¯•ç”¨ä¾‹1: æµ‹è¯•addå‡½æ•°çš„æ›´å¤šè¾¹ç•Œæƒ…å†µ
test "add_edge_cases" {
  // æµ‹è¯•å¤§æ•°ç›¸åŠ ä½†ä¸æº¢å‡º
  @test_only.assert_eq(2000000000, @test_only.add(1000000000, 1000000000))
  
  // æµ‹è¯•ä¸€æ­£ä¸€è´Ÿç›¸åŠ 
  @test_only.assert_eq(100, @test_only.add(150, -50))
  @test_only.assert_eq(-100, @test_only.add(-150, 50))
  
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œçš„å€¼
  @test_only.assert_eq(2147483646, @test_only.add(2147483645, 1))
  @test_only.assert_eq(-2147483647, @test_only.add(-2147483646, -1))
}

// æµ‹è¯•ç”¨ä¾‹2: æµ‹è¯•multiplyå‡½æ•°çš„æ›´å¤šè¾¹ç•Œæƒ…å†µ
test "multiply_edge_cases" {
  // æµ‹è¯•å¤§æ•°ç›¸ä¹˜ä½†ä¸æº¢å‡º
  @test_only.assert_eq(1000000, @test_only.multiply(1000, 1000))
  
  // æµ‹è¯•è´Ÿæ•°ä¹˜æ³•
  @test_only.assert_eq(-1000000, @test_only.multiply(1000, -1000))
  @test_only.assert_eq(1000000, @test_only.multiply(-1000, -1000))
  
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œçš„å€¼
  @test_only.assert_eq(2147483646, @test_only.multiply(2147483646, 1))
  @test_only.assert_eq(-2147483647, @test_only.multiply(2147483647, -1))
}

// æµ‹è¯•ç”¨ä¾‹3: æµ‹è¯•greetå‡½æ•°çš„æ›´å¤šè¾¹ç•Œæƒ…å†µ
test "greet_edge_cases" {
  // æµ‹è¯•åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
  @test_only.assert_eq_string("Hello, John Doe!", @test_only.greet("John Doe"))
  
  // æµ‹è¯•åŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²
  @test_only.assert_eq_string("Hello, 12345!", @test_only.greet("12345"))
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  @test_only.assert_eq_string("Hello, !@#$%^&*()!", @test_only.greet("!@#$%^&*()"))
}

// æµ‹è¯•ç”¨ä¾‹4: æµ‹è¯•å¤åˆè¿ç®—åœºæ™¯
test "compound_calculations" {
  // æµ‹è¯•å¤åˆåŠ æ³•
  let result1 = @test_only.add(@test_only.add(10, 20), @test_only.add(30, 40))
  @test_only.assert_eq(100, result1)
  
  // æµ‹è¯•å¤åˆä¹˜æ³•
  let result2 = @test_only.multiply(@test_only.multiply(2, 3), @test_only.multiply(4, 5))
  @test_only.assert_eq(120, result2)
  
  // æµ‹è¯•æ··åˆè¿ç®—
  let result3 = @test_only.add(@test_only.multiply(10, 5), @test_only.multiply(3, 4))
  @test_only.assert_eq(62, result3)
}

// æµ‹è¯•ç”¨ä¾‹5: æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯
test "real_world_scenarios" {
  // è®¡ç®—ä¸‰è§’å½¢é¢ç§¯ï¼ˆåº•Ã—é«˜Ã·2ï¼Œè¿™é‡Œç®€åŒ–ä¸ºåº•Ã—é«˜ï¼Œç„¶åæ‰‹åŠ¨é™¤2ï¼‰
  let base = 10
  let height = 5
  let area = @test_only.multiply(base, height)
  @test_only.assert_eq(50, area)  // å®é™…é¢ç§¯åº”è¯¥æ˜¯25ï¼Œä½†è¿™é‡Œåªæ˜¯æµ‹è¯•ä¹˜æ³•
  
  // è®¡ç®—è´­ç‰©æ€»ä»·ï¼ˆå•ä»·Ã—æ•°é‡ï¼‰
  let price = 25
  let quantity = 4
  let total = @test_only.multiply(price, quantity)
  @test_only.assert_eq(100, total)
  
  // è®¡ç®—æ€»åˆ†æ•°ï¼ˆå„ç§‘åˆ†æ•°ç›¸åŠ ï¼‰
  let math_score = 90
  let english_score = 85
  let science_score = 95
  let total_score = @test_only.add(@test_only.add(math_score, english_score), science_score)
  @test_only.assert_eq(270, total_score)
}

// æµ‹è¯•ç”¨ä¾‹6: æµ‹è¯•æç«¯å€¼å¤„ç†
test "extreme_values" {
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•addå‡½æ•°çš„æç«¯å€¼
  @test_only.assert_eq(max_val, @test_only.add(max_val, max_val))
  @test_only.assert_eq(min_val, @test_only.add(min_val, min_val))
  @test_only.assert_eq(0, @test_only.add(max_val, min_val))
  
  // æµ‹è¯•multiplyå‡½æ•°çš„æç«¯å€¼
  @test_only.assert_eq(max_val, @test_only.multiply(max_val, 1))
  @test_only.assert_eq(min_val, @test_only.multiply(min_val, 1))
  @test_only.assert_eq(min_val, @test_only.multiply(min_val, -1))
}

// æµ‹è¯•ç”¨ä¾‹7: æµ‹è¯•é”™è¯¯å¤„ç†è·¯å¾„
test "error_handling_paths" {
  // æµ‹è¯•addå‡½æ•°çš„æº¢å‡ºå¤„ç†
  @test_only.assert_eq(2147483647, @test_only.add(2147483640, 10))
  @test_only.assert_eq(-2147483648, @test_only.add(-2147483640, -10))
  
  // æµ‹è¯•multiplyå‡½æ•°çš„æº¢å‡ºå¤„ç†
  @test_only.assert_eq(2147483647, @test_only.multiply(46341, 46341))
  @test_only.assert_eq(-2147483648, @test_only.multiply(-46341, 46341))
}

// æµ‹è¯•ç”¨ä¾‹8: æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
test "string_boundary_cases" {
  // æµ‹è¯•éå¸¸é•¿çš„å­—ç¬¦ä¸²
  let long_string = "ThisIsAVeryLongStringThatContainsManyCharactersAndWords"
  @test_only.assert_eq_string("Hello, ThisIsAVeryLongStringThatContainsManyCharactersAndWords!", @test_only.greet(long_string))
  
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„å­—ç¬¦ä¸²
  @test_only.assert_eq_string("Hello, æµ‹è¯•!", @test_only.greet("æµ‹è¯•"))
  @test_only.assert_eq_string("Hello, ğŸŒ™!", @test_only.greet("ğŸŒ™"))
  
  // æµ‹è¯•åŒ…å«æ¢è¡Œç¬¦çš„å­—ç¬¦ä¸²
  @test_only.assert_eq_string("Hello, \n!", @test_only.greet("\n"))
}

// æµ‹è¯•ç”¨ä¾‹9: æµ‹è¯•æ•°å­¦æ’ç­‰å¼
test "mathematical_identities" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  let a = 123
  let b = 456
  @test_only.assert_eq(@test_only.add(a, b), @test_only.add(b, a))
  
  // æµ‹è¯•ä¹˜æ³•äº¤æ¢å¾‹
  @test_only.assert_eq(@test_only.multiply(a, b), @test_only.multiply(b, a))
  
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹
  let c = 789
  @test_only.assert_eq(
    @test_only.multiply(a, @test_only.add(b, c)),
    @test_only.add(@test_only.multiply(a, b), @test_only.multiply(a, c))
  )
}

// æµ‹è¯•ç”¨ä¾‹10: æµ‹è¯•æ€§èƒ½ç›¸å…³çš„åœºæ™¯
test "performance_scenarios" {
  // æµ‹è¯•å¤§é‡ç®€å•è¿ç®—çš„ç»„åˆ
  let result = @test_only.add(
    @test_only.multiply(100, 10),
    @test_only.multiply(200, 20)
  )
  @test_only.assert_eq(5000, result)
  
  // æµ‹è¯•åµŒå¥—è¿ç®—
  let nested_result = @test_only.multiply(
    @test_only.add(1, 2),
    @test_only.add(@test_only.add(3, 4), @test_only.add(5, 6))
  )
  @test_only.assert_eq(45, nested_result)
}