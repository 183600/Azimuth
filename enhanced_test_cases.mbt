// å¢å¼ºçš„æµ‹è¯•ç”¨ä¾‹ - é’ˆå¯¹ azimuth åº“çš„é«˜è´¨é‡æµ‹è¯•
// åŒ…å«è¾¹ç•Œå€¼ã€æ•°å­¦æ€§è´¨éªŒè¯å’Œå®é™…åº”ç”¨åœºæ™¯

test "extreme_boundary_values" {
  // æµ‹è¯•æç«¯è¾¹ç•Œå€¼
  let max_int = 2147483647
  let min_int = -2147483648
  
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œçš„åŠ æ³•
  assert_eq(2147483646, add(max_int - 1, 0))
  assert_eq(-2147483647, add(min_int + 1, 0))
  
  // æµ‹è¯•è¾¹ç•Œå€¼çš„ä¹˜æ³•
  assert_eq(0, multiply(0, max_int))
  assert_eq(0, multiply(min_int, 0))
  
  // æµ‹è¯•è¾¹ç•Œå€¼çš„é™¤æ³•
  assert_eq(1, divide_with_ceil(max_int, max_int))
  assert_eq(1, divide_with_ceil(min_int, min_int))
}

test "mathematical_laws_verification" {
  // éªŒè¯åŸºæœ¬æ•°å­¦å®šå¾‹
  
  // åŠ æ³•äº¤æ¢å¾‹: a + b = b + a
  let a = 12345
  let b = 67890
  assert_eq(add(a, b), add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹: a * b = b * a
  assert_eq(multiply(a, b), multiply(b, a))
  
  // åŠ æ³•ç»“åˆå¾‹: (a + b) + c = a + (b + c)
  let c = 11111
  assert_eq(add(add(a, b), c), add(a, add(b, c)))
  
  // ä¹˜æ³•ç»“åˆå¾‹: (a * b) * c = a * (b * c)
  assert_eq(multiply(multiply(a, b), c), multiply(a, multiply(b, c)))
  
  // åˆ†é…å¾‹: a * (b + c) = a * b + a * c
  assert_eq(multiply(a, add(b, c)), add(multiply(a, b), multiply(a, c)))
}

test "real_world_financial_calculation" {
  // å®é™…é‡‘èè®¡ç®—åœºæ™¯ï¼šè´·æ¬¾è®¡ç®—
  let principal = 100000  // æœ¬é‡‘
  let annual_rate = 5     // å¹´åˆ©ç‡5%
  let years = 3           // è´·æ¬¾å¹´é™
  
  // ç®€åŒ–çš„å¤åˆ©è®¡ç®—ï¼ˆæ¯å¹´è®¡ç®—ä¸€æ¬¡ï¼‰
  let year1_interest = divide_with_ceil(multiply(principal, annual_rate), 100)
  let year1_total = add(principal, year1_interest)
  
  let year2_interest = divide_with_ceil(multiply(year1_total, annual_rate), 100)
  let year2_total = add(year1_total, year2_interest)
  
  let year3_interest = divide_with_ceil(multiply(year2_total, annual_rate), 100)
  let final_amount = add(year2_total, year3_interest)
  
  // éªŒè¯ç»“æœï¼ˆç”±äºä½¿ç”¨å‘ä¸Šå–æ•´ï¼Œç»“æœä¼šç•¥é«˜äºæ ‡å‡†å¤åˆ©è®¡ç®—ï¼‰
  assert_eq(10500, year1_interest)  // 100000 * 5% = 5000
  assert_eq(110500, year1_total)    // 100000 + 5000 = 105000ï¼Œä½†å‘ä¸Šå–æ•´å¯èƒ½å¯¼è‡´å·®å¼‚
  assert_eq(115763, final_amount)   // æœ€ç»ˆé‡‘é¢
}

test "error_handling_and_edge_cases" {
  // é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µæµ‹è¯•
  
  // æµ‹è¯•é™¤æ•°ä¸ºé›¶çš„å„ç§æƒ…å†µ
  assert_eq(0, divide_with_ceil(100, 0))
  assert_eq(0, divide_with_ceil(-100, 0))
  assert_eq(0, divide_with_ceil(0, 0))
  
  // æµ‹è¯•é›¶çš„è¿ç®—
  assert_eq(0, add(0, 0))
  assert_eq(100, add(100, 0))
  assert_eq(-100, add(-100, 0))
  assert_eq(0, multiply(0, 0))
  assert_eq(0, multiply(0, 100))
  assert_eq(0, multiply(100, 0))
  
  // æµ‹è¯•è´Ÿæ•°çš„ç‰¹æ®Šè¿ç®—
  assert_eq(0, add(100, -100))
  assert_eq(100, multiply(-10, -10))
  assert_eq(-100, multiply(10, -10))
}

test "string_processing_internationalization" {
  // å­—ç¬¦ä¸²å¤„ç†å’Œå›½é™…åŒ–æµ‹è¯•
  
  // æµ‹è¯•å„ç§è¯­è¨€çš„é—®å€™
  assert_eq_string("Hello, ä¸­æ–‡!", greet("ä¸­æ–‡"))
  assert_eq_string("Hello, English!", greet("English"))
  assert_eq_string("Hello, EspaÃ±ol!", greet("EspaÃ±ol"))
  assert_eq_string("Hello, Ğ ÑƒÑÑĞºĞ¸Ğ¹!", greet("Ğ ÑƒÑÑĞºĞ¸Ğ¹"))
  assert_eq_string("Hello, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!", greet("Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"))
  assert_eq_string("Hello, æ—¥æœ¬èª!", greet("æ—¥æœ¬èª"))
  assert_eq_string("Hello, í•œêµ­ì–´!", greet("í•œêµ­ì–´"))
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, ğŸŒ!", greet("ğŸŒ"))
  assert_eq_string("Hello, CafÃ©!", greet("CafÃ©"))
  assert_eq_string("Hello, NiÃ±o!", greet("NiÃ±o"))
  assert_eq_string("Hello, test@example.com!", greet("test@example.com"))
}

test "complex_inventory_management" {
  // å¤æ‚åº“å­˜ç®¡ç†åœºæ™¯
  let product_a_stock = 150
  let product_b_stock = 200
  let product_c_stock = 75
  
  let daily_sales_a = 12
  let daily_sales_b = 8
  let daily_sales_c = 5
  
  let days_to_simulate = 7
  
  // è®¡ç®—ä¸€å‘¨åçš„åº“å­˜
  let total_sales_a = multiply(daily_sales_a, days_to_simulate)
  let total_sales_b = multiply(daily_sales_b, days_to_simulate)
  let total_sales_c = multiply(daily_sales_c, days_to_simulate)
  
  let final_stock_a = add(product_a_stock, -total_sales_a)
  let final_stock_b = add(product_b_stock, -total_sales_b)
  let final_stock_c = add(product_c_stock, -total_sales_c)
  
  let total_remaining_stock = add(add(final_stock_a, final_stock_b), final_stock_c)
  
  // éªŒè¯è®¡ç®—ç»“æœ
  assert_eq(84, total_sales_a)
  assert_eq(56, total_sales_b)
  assert_eq(35, total_sales_c)
  assert_eq(66, final_stock_a)
  assert_eq(144, final_stock_b)
  assert_eq(40, final_stock_c)
  assert_eq(250, total_remaining_stock)
}

test "packaging_and_shipping_optimization" {
  // åŒ…è£…å’Œè¿è¾“ä¼˜åŒ–åœºæ™¯
  
  // è®¡ç®—éœ€è¦çš„åŒ…è£…ç®±æ•°é‡
  let total_items = 157
  let box_capacity_a = 12
  let box_capacity_b = 18
  let box_capacity_c = 25
  
  let boxes_needed_a = divide_with_ceil(total_items, box_capacity_a)
  let boxes_needed_b = divide_with_ceil(total_items, box_capacity_b)
  let boxes_needed_c = divide_with_ceil(total_items, box_capacity_c)
  
  // è®¡ç®—æœ€ä¼˜åŒ…è£…æ–¹æ¡ˆï¼ˆä½¿ç”¨å®¹é‡æœ€å¤§çš„ç®±å­ï¼‰
  let optimal_boxes = boxes_needed_c
  let wasted_space_a = add(multiply(boxes_needed_a, box_capacity_a), -total_items)
  let wasted_space_b = add(multiply(boxes_needed_b, box_capacity_b), -total_items)
  let wasted_space_c = add(multiply(boxes_needed_c, box_capacity_c), -total_items)
  
  // éªŒè¯ç»“æœ
  assert_eq(14, boxes_needed_a)  // ceil(157/12) = 14
  assert_eq(9, boxes_needed_b)   // ceil(157/18) = 9
  assert_eq(7, boxes_needed_c)   // ceil(157/25) = 7
  assert_eq(7, optimal_boxes)
  assert_eq(11, wasted_space_a)  // 14*12 - 157 = 168 - 157 = 11
  assert_eq(5, wasted_space_b)   // 9*18 - 157 = 162 - 157 = 5
  assert_eq(18, wasted_space_c)  // 7*25 - 157 = 175 - 157 = 18
}

test "data_analysis_and_statistics" {
  // æ•°æ®åˆ†æå’Œç»Ÿè®¡åœºæ™¯
  
  // æ¨¡æ‹Ÿå­£åº¦é”€å”®æ•°æ®
  let q1_sales = 45000
  let q2_sales = 52000
  let q3_sales = 48000
  let q4_sales = 61000
  
  // è®¡ç®—å¹´åº¦æ€»é”€å”®é¢
  let annual_sales = add(add(add(q1_sales, q2_sales), q3_sales), q4_sales)
  
  // è®¡ç®—å­£åº¦å¹³å‡é”€å”®é¢ï¼ˆå‘ä¸Šå–æ•´ï¼‰
  let quarterly_average = divide_with_ceil(annual_sales, 4)
  
  // è®¡ç®—åŒæ¯”å¢é•¿ç‡
  let q2_growth = divide_with_ceil(multiply(q2_sales - q1_sales, 100), q1_sales)
  let q3_growth = divide_with_ceil(multiply(q3_sales - q2_sales, 100), q2_sales)
  let q4_growth = divide_with_ceil(multiply(q4_sales - q3_sales, 100), q3_sales)
  
  // éªŒè¯è®¡ç®—ç»“æœ
  assert_eq(206000, annual_sales)
  assert_eq(51500, quarterly_average)
  assert_eq(16, q2_growth)   // (52000-45000)/45000 * 100% â‰ˆ 15.56% -> 16%
  assert_eq(-8, q3_growth)   // (48000-52000)/52000 * 100% â‰ˆ -7.69% -> -7%ï¼Œä½†å‘ä¸Šå–æ•´å¯èƒ½ä¸åŒ
  assert_eq(27, q4_growth)   // (61000-48000)/48000 * 100% â‰ˆ 27.08% -> 28%
}

test "performance_benchmark_simulation" {
  // æ€§èƒ½åŸºå‡†æµ‹è¯•æ¨¡æ‹Ÿ
  
  let base_operations = 1000
  let optimization_factor = 3
  let overhead_percentage = 15
  
  // è®¡ç®—ä¼˜åŒ–åçš„æ“ä½œæ•°
  let optimized_operations = multiply(base_operations, optimization_factor)
  
  // è®¡ç®—ç³»ç»Ÿå¼€é”€
  let overhead = divide_with_ceil(multiply(optimized_operations, overhead_percentage), 100)
  
  // è®¡ç®—å®é™…æ€§èƒ½
  let actual_performance = add(optimized_operations, -overhead)
  
  // è®¡ç®—æ€§èƒ½æå‡å€æ•°
  let performance_improvement = divide_with_ceil(actual_performance, base_operations)
  
  // éªŒè¯ç»“æœ
  assert_eq(3000, optimized_operations)
  assert_eq(450, overhead)
  assert_eq(2550, actual_performance)
  assert_eq(3, performance_improvement)
}

test "complex_mathematical_series" {
  // å¤æ‚æ•°å­¦çº§æ•°è®¡ç®—
  
  // è®¡ç®—ç­‰å·®æ•°åˆ—çš„å’Œï¼š1 + 3 + 5 + ... + (2n-1) = nÂ²
  let n = 20
  let first_term = 1
  let common_difference = 2
  
  // ä½¿ç”¨å…¬å¼è®¡ç®—ï¼šS = n/2 * (2a + (n-1)d)
  let series_sum = divide_with_ceil(
    multiply(n, add(multiply(2, first_term), multiply(n - 1, common_difference))),
    2
  )
  
  // éªŒè¯ç»“æœï¼šå‰20ä¸ªå¥‡æ•°çš„å’Œåº”è¯¥ç­‰äº20Â²=400
  assert_eq(400, series_sum)
  
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—çš„å’Œï¼š2 + 4 + 8 + 16 + 32
  let geo_sum = add(add(add(add(2, 4), 8), 16), 32)
  assert_eq(62, geo_sum)
}