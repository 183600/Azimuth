// æ ‡å‡† MoonBit æµ‹è¯•å¥—ä»¶
// åŒ…å«10ä¸ªé’ˆå¯¹ azimuth æ ¸å¿ƒåŠŸèƒ½çš„æµ‹è¯•ç”¨ä¾‹

test "add_function_commutativity" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  let a = 12345
  let b = 67890
  let result1 = azimuth.add(a, b)
  let result2 = azimuth.add(b, a)
  azimuth.assert_eq(result1, result2)
}

test "multiply_function_commutativity" {
  // æµ‹è¯•ä¹˜æ³•äº¤æ¢å¾‹ï¼ša * b = b * a
  let a = -123
  let b = 456
  let result1 = azimuth.multiply(a, b)
  let result2 = azimuth.multiply(b, a)
  azimuth.assert_eq(result1, result2)
}

test "add_function_associativity" {
  // æµ‹è¯•åŠ æ³•ç»“åˆå¾‹ï¼š(a + b) + c = a + (b + c)
  let a = 1000
  let b = 2000
  let c = 3000
  let result1 = azimuth.add(azimuth.add(a, b), c)
  let result2 = azimuth.add(a, azimuth.add(b, c))
  azimuth.assert_eq(result1, result2)
}

test "multiply_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ï¼ša * (b + c) = a * b + a * c
  let a = 15
  let b = 20
  let c = 25
  let left_side = azimuth.multiply(a, azimuth.add(b, c))
  let right_side = azimuth.add(azimuth.multiply(a, b), azimuth.multiply(a, c))
  azimuth.assert_eq(left_side, right_side)
}

test "greet_function_multilingual" {
  // æµ‹è¯•å¤šè¯­è¨€é—®å€™åŠŸèƒ½
  azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", azimuth.greet("ä¸–ç•Œ"))
  azimuth.assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", azimuth.greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  azimuth.assert_eq_string("Hello, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!", azimuth.greet("Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"))
  azimuth.assert_eq_string("Hello, ğŸŒ!", azimuth.greet("ğŸŒ"))
}

test "complex_arithmetic_expression" {
  // æµ‹è¯•å¤æ‚ç®—æœ¯è¡¨è¾¾å¼ï¼š(a + b) * (c - d) + e * f
  let a = 10
  let b = 15
  let c = 20
  let d = 8
  let e = 3
  let f = 7
  
  let sum_ab = azimuth.add(a, b)
  let diff_cd = azimuth.add(c, -d)
  let product_ef = azimuth.multiply(e, f)
  let result = azimuth.add(azimuth.multiply(sum_ab, diff_cd), product_ef)
  
  azimuth.assert_eq(251, result) // (10+15)*(20-8) + 3*7 = 25*12 + 21 = 300 + 21 = 321
}

test "boundary_value_arithmetic" {
  // æµ‹è¯•è¾¹ç•Œå€¼ç®—æœ¯è¿ç®—
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—
  azimuth.assert_eq(-1, azimuth.add(max_val, min_val))
  azimuth.assert_eq(min_val, azimuth.multiply(min_val, -1))
  azimuth.assert_eq(0, azimuth.multiply(max_val, 0))
  azimuth.assert_eq(0, azimuth.multiply(min_val, 0))
}

test "string_processing_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
  azimuth.assert_eq_string("Hello, !", azimuth.greet(""))
  azimuth.assert_eq_string("Hello,   !", azimuth.greet("  "))
  azimuth.assert_eq_string("Hello, \n!", azimuth.greet("\\n"))
  azimuth.assert_eq_string("Hello, \t!", azimuth.greet("\\t"))
  azimuth.assert_eq_string("Hello, \"quote\"!", azimuth.greet("\"quote\""))
}

test "mathematical_sequence_calculation" {
  // æµ‹è¯•æ•°å­¦åºåˆ—è®¡ç®—ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—å‰å‡ é¡¹
  // F(0) = 0, F(1) = 1, F(n) = F(n-1) + F(n-2)
  let f0 = 0
  let f1 = 1
  let f2 = azimuth.add(f0, f1)
  let f3 = azimuth.add(f1, f2)
  let f4 = azimuth.add(f2, f3)
  let f5 = azimuth.add(f3, f4)
  
  azimuth.assert_eq(1, f2)
  azimuth.assert_eq(2, f3)
  azimuth.assert_eq(3, f4)
  azimuth.assert_eq(5, f5)
}

test "real_world_application_scenario" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šè®¡ç®—è´­ç‰©è½¦æ€»ä»·ï¼ˆå«æŠ˜æ‰£å’Œç¨è´¹ï¼‰
  let item1_price = 299
  let item1_quantity = 2
  let item2_price = 199
  let item2_quantity = 3
  let discount_threshold = 1000
  let discount_rate = 10
  let tax_rate = 8
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal1 = azimuth.multiply(item1_price, item1_quantity)
  let subtotal2 = azimuth.multiply(item2_price, item2_quantity)
  let subtotal = azimuth.add(subtotal1, subtotal2)
  
  // è®¡ç®—æŠ˜æ‰£ï¼ˆå¦‚æœè¶…è¿‡é˜ˆå€¼ï¼‰
  let discount = if (subtotal > discount_threshold) {
    azimuth.multiply(subtotal, discount_rate) / 100
  } else {
    0
  }
  
  // è®¡ç®—æŠ˜åä»·æ ¼
  let discounted_total = azimuth.add(subtotal, -discount)
  
  // è®¡ç®—ç¨è´¹
  let tax = azimuth.multiply(discounted_total, tax_rate) / 100
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_total = azimuth.add(discounted_total, tax)
  
  azimuth.assert_eq(1206, final_total) // 299*2 + 199*3 = 598 + 597 = 1195
                                          // æŠ˜æ‰£: 1195 * 10% = 119
                                          // æŠ˜å: 1195 - 119 = 1076
                                          // ç¨è´¹: 1076 * 8% = 86
                                          // æ€»ä»·: 1076 + 86 = 1162
}