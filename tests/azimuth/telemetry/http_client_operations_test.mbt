test "http client creation" {
  // Test HTTP client creation
  let client = @azimuth.HttpClient::new()
  
  // Test passes if client is created without exceptions
  assert_true(true)
}

test "http request creation and properties" {
  // Test HTTP request creation with different methods
  let headers = [
    ("Content-Type", "application/json"),
    ("Accept", "application/json"),
    ("User-Agent", "azimuth-telemetry/1.0.0")
  ]
  
  let get_request = @azimuth.HttpRequest::new("GET", "https://api.example.com/data", headers)
  let post_request = @azimuth.HttpRequest::new("POST", "https://api.example.com/data", headers, Some("{\"key\":\"value\"}"))
  let put_request = @azimuth.HttpRequest::new("PUT", "https://api.example.com/data/1", headers, Some("{\"key\":\"updated\"}"))
  let delete_request = @azimuth.HttpRequest::new("DELETE", "https://api.example.com/data/1", headers, None)
  
  // Test GET request properties
  assert_eq(@azimuth.HttpRequest::http_method(get_request), "GET")
  assert_eq(@azimuth.HttpRequest::url(get_request), "https://api.example.com/data")
  assert_eq(@azimuth.HttpRequest::body(get_request), None)
  
  // Test POST request properties
  assert_eq(@azimuth.HttpRequest::http_method(post_request), "POST")
  assert_eq(@azimuth.HttpRequest::url(post_request), "https://api.example.com/data")
  assert_eq(@azimuth.HttpRequest::body(post_request), Some("{\"key\":\"value\"}"))
  
  // Test PUT request properties
  assert_eq(@azimuth.HttpRequest::http_method(put_request), "PUT")
  assert_eq(@azimuth.HttpRequest::url(put_request), "https://api.example.com/data/1")
  assert_eq(@azimuth.HttpRequest::body(put_request), Some("{\"key\":\"updated\"}"))
  
  // Test DELETE request properties
  assert_eq(@azimuth.HttpRequest::http_method(delete_request), "DELETE")
  assert_eq(@azimuth.HttpRequest::url(delete_request), "https://api.example.com/data/1")
  assert_eq(@azimuth.HttpRequest::body(delete_request), None)
}

test "http response creation and properties" {
  // Test HTTP response creation with different status codes
  let headers = [
    ("Content-Type", "application/json"),
    ("Content-Length", "123")
  ]
  
  let success_response = @azimuth.HttpResponse::new(200, headers, Some("{\"status\":\"success\"}"))
  let error_response = @azimuth.HttpResponse::new(404, headers, Some("{\"error\":\"Not Found\"}"))
  let server_error_response = @azimuth.HttpResponse::new(500, headers, Some("{\"error\":\"Internal Server Error\"}"))
  let no_content_response = @azimuth.HttpResponse::new(204, [], None)
  
  // Test success response
  assert_eq(@azimuth.HttpResponse::status_code(success_response), 200)
  assert_eq(@azimuth.HttpResponse::body(success_response), Some("{\"status\":\"success\"}"))
  
  // Test error response
  assert_eq(@azimuth.HttpResponse::status_code(error_response), 404)
  assert_eq(@azimuth.HttpResponse::body(error_response), Some("{\"error\":\"Not Found\"}"))
  
  // Test server error response
  assert_eq(@azimuth.HttpResponse::status_code(server_error_response), 500)
  assert_eq(@azimuth.HttpResponse::body(server_error_response), Some("{\"error\":\"Internal Server Error\"}"))
  
  // Test no content response
  assert_eq(@azimuth.HttpResponse::status_code(no_content_response), 204)
  assert_eq(@azimuth.HttpResponse::body(no_content_response), None)
}

test "http request with various content types" {
  // Test HTTP requests with different content types
  let json_headers = [("Content-Type", "application/json")]
  let xml_headers = [("Content-Type", "application/xml")]
  let text_headers = [("Content-Type", "text/plain")]
  let form_headers = [("Content-Type", "application/x-www-form-urlencoded")]
  
  let json_request = @azimuth.HttpRequest::new("POST", "https://api.example.com/data", json_headers, Some("{\"name\":\"test\"}"))
  let xml_request = @azimuth.HttpRequest::new("POST", "https://api.example.com/data", xml_headers, Some("<root><name>test</name></root>"))
  let text_request = @azimuth.HttpRequest::new("POST", "https://api.example.com/data", text_headers, Some("plain text content"))
  let form_request = @azimuth.HttpRequest::new("POST", "https://api.example.com/data", form_headers, Some("name=test&value=123"))
  
  // Test JSON request
  assert_eq(@azimuth.HttpRequest::http_method(json_request), "POST")
  assert_eq(@azimuth.HttpRequest::body(json_request), Some("{\"name\":\"test\"}"))
  
  // Test XML request
  assert_eq(@azimuth.HttpRequest::http_method(xml_request), "POST")
  assert_eq(@azimuth.HttpRequest::body(xml_request), Some("<root><name>test</name></root>"))
  
  // Test text request
  assert_eq(@azimuth.HttpRequest::http_method(text_request), "POST")
  assert_eq(@azimuth.HttpRequest::body(text_request), Some("plain text content"))
  
  // Test form request
  assert_eq(@azimuth.HttpRequest::http_method(form_request), "POST")
  assert_eq(@azimuth.HttpRequest::body(form_request), Some("name=test&value=123"))
}

test "http request with special characters" {
  // Test HTTP requests with special characters in URL and body
  let headers = [("Content-Type", "application/json")]
  
  let unicode_request = @azimuth.HttpRequest::new(
    "GET", 
    "https://api.example.com/ÊêúÁ¥¢?query=ÊµãËØï&emoji=üöÄ", 
    headers, 
    None
  )
  
  let special_body_request = @azimuth.HttpRequest::new(
    "POST", 
    "https://api.example.com/data", 
    headers, 
    Some("{\"message\":\"Hello ‰∏ñÁïå! üåç\", \"special\":\"chars: √°√©√≠√≥√∫\"}")
  )
  
  // Test unicode URL request
  assert_eq(@azimuth.HttpRequest::http_method(unicode_request), "GET")
  assert_eq(@azimuth.HttpRequest::url(unicode_request), "https://api.example.com/ÊêúÁ¥¢?query=ÊµãËØï&emoji=üöÄ")
  
  // Test special body request
  assert_eq(@azimuth.HttpRequest::http_method(special_body_request), "POST")
  assert_eq(@azimuth.HttpRequest::body(special_body_request), Some("{\"message\":\"Hello ‰∏ñÁïå! üåç\", \"special\":\"chars: √°√©√≠√≥√∫\"}"))
}

test "http response with large content" {
  // Test HTTP response with large content
  let large_content = "This is a large response body that contains a lot of data. ".repeat(100)
  let headers = [
    ("Content-Type", "text/plain"),
    ("Content-Length", large_content.length().to_string())
  ]
  
  let large_response = @azimuth.HttpResponse::new(200, headers, Some(large_content))
  
  assert_eq(@azimuth.HttpResponse::status_code(large_response), 200)
  assert_eq(@azimuth.HttpResponse::body(large_response), Some(large_content))
}

test "http request and response with empty bodies" {
  // Test HTTP request and response with empty bodies
  let headers = [("Content-Type", "application/json")]
  
  let empty_get_request = @azimuth.HttpRequest::new("GET", "https://api.example.com/data", headers, None)
  let empty_post_request = @azimuth.HttpRequest::new("POST", "https://api.example.com/data", headers, Some(""))
  let empty_response = @azimuth.HttpResponse::new(204, [], None)
  
  // Test empty GET request
  assert_eq(@azimuth.HttpRequest::body(empty_get_request), None)
  
  // Test empty POST request
  assert_eq(@azimuth.HttpRequest::body(empty_post_request), Some(""))
  
  // Test empty response
  assert_eq(@azimuth.HttpResponse::body(empty_response), None)
  assert_eq(@azimuth.HttpResponse::status_code(empty_response), 204)
}

test "http operations with different status code ranges" {
  // Test HTTP responses with different status code ranges
  let headers = [("Content-Type", "application/json")]
  
  // Informational responses (100-199)
  let continue_response = @azimuth.HttpResponse::new(100, headers, None)
  
  // Successful responses (200-299)
  let ok_response = @azimuth.HttpResponse::new(200, headers, Some("{\"status\":\"ok\"}"))
  let created_response = @azimuth.HttpResponse::new(201, headers, Some("{\"id\":123}"))
  let no_content_response = @azimuth.HttpResponse::new(204, [], None)
  
  // Redirection responses (300-399)
  let moved_permanently_response = @azimuth.HttpResponse::new(301, [], None)
  let not_modified_response = @azimuth.HttpResponse::new(304, [], None)
  
  // Client error responses (400-499)
  let bad_request_response = @azimuth.HttpResponse::new(400, headers, Some("{\"error\":\"Bad Request\"}"))
  let unauthorized_response = @azimuth.HttpResponse::new(401, headers, Some("{\"error\":\"Unauthorized\"}"))
  let not_found_response = @azimuth.HttpResponse::new(404, headers, Some("{\"error\":\"Not Found\"}"))
  
  // Server error responses (500-599)
  let internal_error_response = @azimuth.HttpResponse::new(500, headers, Some("{\"error\":\"Internal Server Error\"}"))
  let service_unavailable_response = @azimuth.HttpResponse::new(503, headers, Some("{\"error\":\"Service Unavailable\"}"))
  
  // Test status codes
  assert_eq(@azimuth.HttpResponse::status_code(continue_response), 100)
  assert_eq(@azimuth.HttpResponse::status_code(ok_response), 200)
  assert_eq(@azimuth.HttpResponse::status_code(created_response), 201)
  assert_eq(@azimuth.HttpResponse::status_code(no_content_response), 204)
  assert_eq(@azimuth.HttpResponse::status_code(moved_permanently_response), 301)
  assert_eq(@azimuth.HttpResponse::status_code(not_modified_response), 304)
  assert_eq(@azimuth.HttpResponse::status_code(bad_request_response), 400)
  assert_eq(@azimuth.HttpResponse::status_code(unauthorized_response), 401)
  assert_eq(@azimuth.HttpResponse::status_code(not_found_response), 404)
  assert_eq(@azimuth.HttpResponse::status_code(internal_error_response), 500)
  assert_eq(@azimuth.HttpResponse::status_code(service_unavailable_response), 503)
}