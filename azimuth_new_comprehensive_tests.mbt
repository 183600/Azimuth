// Azimuth é¡¹ç›®æ–°å¢ç»¼åˆæµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œè¡¥å……ç°æœ‰æµ‹è¯•è¦†ç›–

test "add_zero_handling" {
  // æµ‹è¯•åŠ æ³•çš„é›¶å€¼å¤„ç†
  assert_eq(42, add(0, 42))
  assert_eq(42, add(42, 0))
  assert_eq(0, add(0, 0))
  assert_eq(-17, add(0, -17))
  assert_eq(-17, add(-17, 0))
}

test "add_large_numbers" {
  // æµ‹è¯•å¤§æ•°åŠ æ³•
  assert_eq(2000000000, add(1000000000, 1000000000))
  assert_eq(-2000000000, add(-1000000000, -1000000000))
  assert_eq(0, add(1500000000, -1500000000))
}

test "multiply_by_zero_and_one" {
  // æµ‹è¯•ä¹˜æ³•çš„é›¶å€¼å’Œå•ä½å€¼å¤„ç†
  assert_eq(0, multiply(12345, 0))
  assert_eq(0, multiply(0, 12345))
  assert_eq(0, multiply(0, 0))
  assert_eq(12345, multiply(12345, 1))
  assert_eq(12345, multiply(1, 12345))
  assert_eq(-12345, multiply(-12345, 1))
  assert_eq(-12345, multiply(1, -12345))
}

test "multiply_negative_numbers" {
  // æµ‹è¯•è´Ÿæ•°ä¹˜æ³•
  assert_eq(15, multiply(-3, -5))
  assert_eq(-15, multiply(3, -5))
  assert_eq(-15, multiply(-3, 5))
  assert_eq(0, multiply(-3, 0))
}

test "multiply_edge_cases" {
  // æµ‹è¯•ä¹˜æ³•è¾¹ç•Œæƒ…å†µ
  let min_val = -2147483648
  assert_eq(min_val, multiply(min_val, -1))
  assert_eq(min_val, multiply(min_val, 2))
  assert_eq(min_val, multiply(2, min_val))
  assert_eq(0, multiply(min_val, 0))
}

test "greet_empty_and_special" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„ç©ºå­—ç¬¦ä¸²å’Œç‰¹æ®Šå­—ç¬¦
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, !", greet(" "))
  assert_eq_string("Hello, \n\t!", greet("\n\t"))
  assert_eq_string("Hello, \"quote\"!", greet("\"quote\""))
}

test "greet_unicode_and_emojis" {
  // æµ‹è¯• Unicode å’Œ Emoji å­—ç¬¦
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))
  assert_eq_string("Hello, ğŸŒŸâœ¨!", greet("ğŸŒŸâœ¨"))
  assert_eq_string("Hello, cafÃ©!", greet("cafÃ©"))
}

test "complex_arithmetic_sequence" {
  // æµ‹è¯•å¤æ‚æ•°å­¦åºåˆ—è®¡ç®—
  // è®¡ç®— 1 + 2 + 3 + 4 + 5
  let sum1 = add(1, add(2, add(3, add(4, 5))))
  assert_eq(15, sum1)
  
  // è®¡ç®— 2*3 + 4*5
  let term1 = multiply(2, 3)
  let term2 = multiply(4, 5)
  let result = add(term1, term2)
  assert_eq(26, result)
}

test "nested_calculations" {
  // æµ‹è¯•åµŒå¥—è®¡ç®—
  // (2 + 3) * (4 + 5)
  let sum1 = add(2, 3)
  let sum2 = add(4, 5)
  let product = multiply(sum1, sum2)
  assert_eq(45, product)
  
  // 10 + (20 * 3) + (40 / 2) - ä½¿ç”¨æ•´æ•°è¿ç®—æ¨¡æ‹Ÿ
  let mult = multiply(20, 3)
  let total = add(10, mult)
  assert_eq(70, total)
}

test "real_world_scenarios" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯
  // è®¡ç®—çŸ©å½¢é¢ç§¯å’Œå‘¨é•¿
  let length = 8
  let width = 6
  let area = multiply(length, width)
  let perimeter = add(multiply(2, length), multiply(2, width))
  assert_eq(48, area)
  assert_eq(28, perimeter)
  
  // è®¡ç®—æŠ˜æ‰£ä»·æ ¼ï¼šåŸä»·100ï¼ŒæŠ˜æ‰£20%ï¼Œæœ€ç»ˆä»·æ ¼
  let original_price = 100
  let discount_rate = 20  // 20%
  let discount_amount = multiply(original_price, discount_rate) / 100
  let final_price = add(original_price, -discount_amount)
  assert_eq(80, final_price)
}