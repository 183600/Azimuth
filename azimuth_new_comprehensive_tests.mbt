// Azimuth é¡¹ç›®æ–°å¢ç»¼åˆæµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œæ¶µç›–å¤šç§æµ‹è¯•åœºæ™¯

test "add_function_edge_cases" {
  // æµ‹è¯•åŠ æ³•å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  let result1 = add(2147483647, 0)  // æœ€å¤§æ•´æ•°åŠ é›¶
  let result2 = add(-2147483648, 0)  // æœ€å°æ•´æ•°åŠ é›¶
  let result3 = add(1000000, 1000000)  // å¤§æ•°ç›¸åŠ 
  let result4 = add(-1000000, 1000000)  // ç›¸åæ•°ç›¸åŠ 
  
  assert_eq(2147483647, result1)
  assert_eq(-2147483648, result2)
  assert_eq(2000000, result3)
  assert_eq(0, result4)
}

test "multiply_function_edge_cases" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  let result1 = multiply(2147483647, 1)  // æœ€å¤§æ•´æ•°ä¹˜ä»¥1
  let result2 = multiply(-2147483648, 1)  // æœ€å°æ•´æ•°ä¹˜ä»¥1
  let result3 = multiply(1000, 1000)  // å¤§æ•°ç›¸ä¹˜
  let result4 = multiply(12345, 0)  // ä¹˜ä»¥é›¶
  
  assert_eq(2147483647, result1)
  assert_eq(-2147483648, result2)
  assert_eq(1000000, result3)
  assert_eq(0, result4)
}

test "greet_function_multilingual" {
  // æµ‹è¯•å¤šè¯­è¨€é—®å€™åŠŸèƒ½
  let result1 = greet("ä¸–ç•Œ")
  let result2 = greet("World")
  let result3 = greet("ğŸŒ")
  let result4 = greet("123")
  
  assert_eq_string("Hello, ä¸–ç•Œ!", result1)
  assert_eq_string("Hello, World!", result2)
  assert_eq_string("Hello, ğŸŒ!", result3)
  assert_eq_string("Hello, 123!", result4)
}

test "complex_mathematical_operations" {
  // æµ‹è¯•å¤æ‚æ•°å­¦è¿ç®—
  let a = 12
  let b = 8
  let c = 5
  
  // æµ‹è¯•ç»„åˆè¿ç®—ï¼š(a + b) * c
  let result1 = multiply(add(a, b), c)
  assert_eq(100, result1)
  
  // æµ‹è¯•åˆ†é…å¾‹ï¼ša * b + a * c
  let result2 = add(multiply(a, b), multiply(a, c))
  assert_eq(156, result2)
  
  // æµ‹è¯•åµŒå¥—è¿ç®—ï¼š(a - b) * (a + b)
  let result3 = multiply(add(a, -b), add(a, b))
  assert_eq(80, result3)
}

test "business_calculation_scenarios" {
  // æµ‹è¯•å•†ä¸šè®¡ç®—åœºæ™¯
  let unit_price = 199
  let quantity = 5
  let discount_rate = 10  // 10% æŠ˜æ‰£
  let tax_rate = 8        // 8% ç¨ç‡
  
  // è®¡ç®—å°è®¡
  let subtotal = multiply(unit_price, quantity)
  assert_eq(995, subtotal)
  
  // è®¡ç®—æŠ˜æ‰£
  let discount = multiply(subtotal, discount_rate) / 100
  assert_eq(99, discount)
  
  // è®¡ç®—æŠ˜åä»·
  let discounted_price = add(subtotal, -discount)
  assert_eq(896, discounted_price)
  
  // è®¡ç®—ç¨è´¹
  let tax = multiply(discounted_price, tax_rate) / 100
  assert_eq(71, tax)
  
  // è®¡ç®—æ€»ä»·
  let total = add(discounted_price, tax)
  assert_eq(967, total)
}

test "scientific_calculations" {
  // æµ‹è¯•ç§‘å­¦è®¡ç®—
  let base = 10
  let exponent = 3
  let coefficient = 2
  
  // è®¡ç®— 2 * 10^3 (ç®€åŒ–ä¸ºä¹˜æ³•)
  let result1 = multiply(coefficient, multiply(base, multiply(base, base)))
  assert_eq(2000, result1)
  
  // è®¡ç®—å¹³æ–¹å·®å…¬å¼ï¼ša^2 - b^2 = (a - b)(a + b)
  let a = 15
  let b = 8
  let result2 = multiply(add(a, -b), add(a, b))
  assert_eq(161, result2)
  
  // è®¡ç®—ç«‹æ–¹å’Œï¼ša^3 + b^3 (ç®€åŒ–)
  let result3 = add(multiply(a, multiply(a, a)), multiply(b, multiply(b, b)))
  assert_eq(4607, result3)
}

test "date_and_time_calculations" {
  // æµ‹è¯•æ—¥æœŸæ—¶é—´è®¡ç®—
  let days_in_week = 7
  let weeks_in_month = 4
  let months_in_year = 12
  
  // è®¡ç®—ä¸€å¹´ä¸­çš„å¤©æ•°ï¼ˆç®€åŒ–ï¼‰
  let days_in_year = multiply(days_in_week, multiply(weeks_in_month, months_in_year))
  assert_eq(336, days_in_year)
  
  // è®¡ç®—åŠå¹´å¤©æ•°
  let half_year_days = multiply(days_in_year, 50) / 100
  assert_eq(168, half_year_days)
  
  // è®¡ç®—å­£åº¦å¤©æ•°
  let quarter_days = multiply(days_in_year, 25) / 100
  assert_eq(84, quarter_days)
}

test "statistical_calculations" {
  // æµ‹è¯•ç»Ÿè®¡è®¡ç®—
  let values = [65, 78, 92, 85, 70]
  let count = 5
  
  // è®¡ç®—æ€»å’Œ
  let sum = add(add(add(add(values[0], values[1]), values[2]), values[3]), values[4])
  assert_eq(390, sum)
  
  // è®¡ç®—å¹³å‡å€¼
  let average = sum / count
  assert_eq(78, average)
  
  // è®¡ç®—æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®
  let max_val = 92
  let min_val = 65
  let range = add(max_val, -min_val)
  assert_eq(27, range)
}

test "unit_conversion_calculations" {
  // æµ‹è¯•å•ä½è½¬æ¢è®¡ç®—
  let meters = 100
  let kilometers = multiply(meters, 1) / 1000  // ç±³è½¬å…¬é‡Œ
  let centimeters = multiply(meters, 100)     // ç±³è½¬å˜ç±³
  
  assert_eq(0, kilometers)  // æ•´æ•°é™¤æ³•
  assert_eq(10000, centimeters)
  
  // æµ‹è¯•é‡é‡è½¬æ¢
  let kilograms = 5
  let grams = multiply(kilograms, 1000)  // å…¬æ–¤è½¬å…‹
  let tons = multiply(kilograms, 1) / 1000  // å…¬æ–¤è½¬å¨
  
  assert_eq(5000, grams)
  assert_eq(0, tons)  // æ•´æ•°é™¤æ³•
}

test "game_score_calculations" {
  // æµ‹è¯•æ¸¸æˆå¾—åˆ†è®¡ç®—
  let base_score = 100
  let level_multiplier = 3
  let combo_bonus = 500
  let penalty = 150
  
  // è®¡ç®—ç­‰çº§å¾—åˆ†
  let level_score = multiply(base_score, level_multiplier)
  assert_eq(300, level_score)
  
  // è®¡ç®—è¿å‡»å¾—åˆ†
  let combo_score = add(level_score, combo_bonus)
  assert_eq(800, combo_score)
  
  // è®¡ç®—æœ€ç»ˆå¾—åˆ†
  let final_score = add(combo_score, -penalty)
  assert_eq(650, final_score)
  
  // è®¡ç®—æ’ååŠ æˆï¼ˆå‰20%åŠ æˆ10%ï¼‰
  let rank_bonus = multiply(final_score, 10) / 100
  let ranked_score = add(final_score, rank_bonus)
  assert_eq(715, ranked_score)
}