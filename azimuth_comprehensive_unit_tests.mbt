// Azimuth é¡¹ç›®ç»¼åˆå•å…ƒæµ‹è¯•
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼ŒåŒ…å«10ä¸ªé«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹

test "add_function_comprehensive" {
  // æµ‹è¯•åŠ æ³•å‡½æ•°çš„ç»¼åˆæƒ…å†µ
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  @azimuth.assert_eq(10, @azimuth.add(7, 3))
  @azimuth.assert_eq(-10, @azimuth.add(-7, -3))
  @azimuth.assert_eq(0, @azimuth.add(-5, 5))
  @azimuth.assert_eq(100, @azimuth.add(50, 50))
}

test "multiply_function_edge_cases" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(0, @azimuth.multiply(0, 5))
  @azimuth.assert_eq(0, @azimuth.multiply(5, 0))
  @azimuth.assert_eq(1, @azimuth.multiply(1, 1))
  @azimuth.assert_eq(-1, @azimuth.multiply(-1, 1))
  @azimuth.assert_eq(25, @azimuth.multiply(-5, -5))
}

test "greet_function_unicode_and_special_chars" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„Unicodeå’Œç‰¹æ®Šå­—ç¬¦
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
  @azimuth.assert_eq_string("Hello, @#$%!", @azimuth.greet("@#$%"))
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, Line\nBreak!", @azimuth.greet("Line\nBreak"))
}

test "divide_with_ceil_comprehensive" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„ç»¼åˆæƒ…å†µ
  @azimuth.assert_eq(4, @azimuth.divide_with_ceil(10, 3))
  @azimuth.assert_eq(3, @azimuth.divide_with_ceil(9, 3))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(5, 0))
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-10, 3))
  @azimuth.assert_eq(4, @azimuth.divide_with_ceil(-10, -3))
}

test "complex_business_calculation" {
  // æµ‹è¯•å¤æ‚ä¸šåŠ¡è®¡ç®—åœºæ™¯
  // è£…ç›’é—®é¢˜ï¼š47ä¸ªç‰©å“ï¼Œæ¯ç›’12ä¸ªï¼Œéœ€è¦å¤šå°‘ç›’ï¼Ÿ
  let items = 47
  let box_capacity = 12
  let boxes_needed = @azimuth.divide_with_ceil(items, box_capacity)
  @azimuth.assert_eq(5, boxes_needed)
  
  // ä»·æ ¼è®¡ç®—ï¼šå•ä»·199ï¼Œæ•°é‡3ï¼Œè¿è´¹20
  let price = 199
  let quantity = 3
  let shipping = 20
  let subtotal = @azimuth.multiply(price, quantity)
  let total = @azimuth.add(subtotal, shipping)
  @azimuth.assert_eq(617, total)
}

test "mathematical_properties_and_identities" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨å’Œæ’ç­‰å¼
  let x = 42
  let y = 17
  
  // åŠ æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.add(x, y), @azimuth.add(y, x))
  // ä¹˜æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.multiply(x, y), @azimuth.multiply(y, x))
  // åŠ æ³•å•ä½å…ƒ
  @azimuth.assert_eq(x, @azimuth.add(x, 0))
  // ä¹˜æ³•å•ä½å…ƒ
  @azimuth.assert_eq(x, @azimuth.multiply(x, 1))
  // ä¹˜æ³•é›¶å…ƒ
  @azimuth.assert_eq(0, @azimuth.multiply(x, 0))
}

test "error_handling_and_boundary_conditions" {
  // æµ‹è¯•é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæ¡ä»¶
  // é™¤æ•°ä¸ºé›¶çš„æƒ…å†µ
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(10, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(-10, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 0))
  
  // å¤§æ•°è¿ç®—
  @azimuth.assert_eq(2000000, @azimuth.add(1000000, 1000000))
  @azimuth.assert_eq(1000000000000, @azimuth.multiply(1000000, 1000000))
}

test "sequential_operations_pipeline" {
  // æµ‹è¯•è¿ç»­æ“ä½œç®¡é“
  let initial = 15
  let step1 = @azimuth.add(initial, 10)        // 25
  let step2 = @azimuth.multiply(step1, 2)      // 50
  let step3 = @azimuth.divide_with_ceil(step2, 12)  // 5
  let step4 = @azimuth.add(step3, 3)           // 8
  let step5 = @azimuth.multiply(step4, 1)      // 8
  
  @azimuth.assert_eq(8, step5)
}

test "string_processing_with_greet" {
  // æµ‹è¯•ä½¿ç”¨greetå‡½æ•°è¿›è¡Œå­—ç¬¦ä¸²å¤„ç†
  let names = ["Alice", "Bob", "Charlie", "ä¸–ç•Œ", "ğŸš€"]
  let expected_greetings = [
    "Hello, Alice!",
    "Hello, Bob!", 
    "Hello, Charlie!",
    "Hello, ä¸–ç•Œ!",
    "Hello, ğŸš€!"
  ]
  
  @azimuth.assert_eq_string(expected_greetings[0], @azimuth.greet(names[0]))
  @azimuth.assert_eq_string(expected_greetings[1], @azimuth.greet(names[1]))
  @azimuth.assert_eq_string(expected_greetings[2], @azimuth.greet(names[2]))
  @azimuth.assert_eq_string(expected_greetings[3], @azimuth.greet(names[3]))
  @azimuth.assert_eq_string(expected_greetings[4], @azimuth.greet(names[4]))
}

test "real_world_inventory_management" {
  // æµ‹è¯•ç°å®ä¸–ç•Œåº“å­˜ç®¡ç†åœºæ™¯
  // ä»“åº“æœ‰ä¸åŒæ•°é‡çš„å•†å“ï¼Œéœ€è¦ç»Ÿä¸€åŒ…è£…
  let product_a_qty = 23
  let product_b_qty = 47
  let product_c_qty = 89
  let package_size = 12
  
  let packages_a = @azimuth.divide_with_ceil(product_a_qty, package_size)
  let packages_b = @azimuth.divide_with_ceil(product_b_qty, package_size)
  let packages_c = @azimuth.divide_with_ceil(product_c_qty, package_size)
  
  let total_packages = @azimuth.add(@azimuth.add(packages_a, packages_b), packages_c)
  
  @azimuth.assert_eq(2, packages_a)  // ceil(23/12) = 2
  @azimuth.assert_eq(4, packages_b)  // ceil(47/12) = 4
  @azimuth.assert_eq(8, packages_c)  // ceil(89/12) = 8
  @azimuth.assert_eq(14, total_packages)  // 2 + 4 + 8 = 14
}