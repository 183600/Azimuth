// Azimuth é¡¹ç›®é¢å¤–æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œæä¾›æ›´å¤šæµ‹è¯•åœºæ™¯

test "add_large_numbers" {
  // æµ‹è¯•å¤§æ•°åŠ æ³•
  assert_eq(azimuth::add(1000000, 2000000), 3000000)
  assert_eq(azimuth::add(999999999, 1), 1000000000)
  assert_eq(azimuth::add(500000000, 500000000), 1000000000)
}

test "add_decimal_simulation" {
  // æ¨¡æ‹Ÿå°æ•°è¿ç®—ï¼ˆé€šè¿‡æ•´æ•°è¿ç®—ï¼‰
  // è®¡ç®— 1.5 + 2.3 = 3.8ï¼Œé€šè¿‡ä¹˜ä»¥10å®ç°
  assert_eq(azimuth::add(15, 23), 38)  // å®é™…è¡¨ç¤º 3.8
  
  // è®¡ç®— 0.75 + 0.25 = 1.0ï¼Œé€šè¿‡ä¹˜ä»¥100å®ç°
  assert_eq(azimuth::add(75, 25), 100)  // å®é™…è¡¨ç¤º 1.0
}

test "multiply_large_numbers" {
  // æµ‹è¯•å¤§æ•°ä¹˜æ³•
  assert_eq(azimuth::multiply(10000, 10000), 100000000)
  assert_eq(azimuth::multiply(12345, 6789), 83810205)
  assert_eq(azimuth::multiply(5000, 2000), 10000000)
}

test "multiply_power_of_two" {
  // æµ‹è¯•2çš„å¹‚æ¬¡æ–¹ä¹˜æ³•
  assert_eq(azimuth::multiply(1, 2), 2)      // 2^1
  assert_eq(azimuth::multiply(2, 2), 4)      // 2^2
  assert_eq(azimuth::multiply(4, 2), 8)      // 2^3
  assert_eq(azimuth::multiply(8, 2), 16)     // 2^4
  assert_eq(azimuth::multiply(16, 2), 32)    // 2^5
}

test "greet_multilingual" {
  // æµ‹è¯•å¤šè¯­è¨€é—®å€™
  assert_eq(azimuth::greet("ä¸–ç•Œ"), "Hello, ä¸–ç•Œ!")
  assert_eq(azimuth::greet("Ù…Ø±Ø­Ø¨Ø§"), "Hello, Ù…Ø±Ø­Ø¨Ø§!")
  assert_eq(azimuth::greet("ğŸŒ"), "Hello, ğŸŒ!")
  assert_eq(azimuth::greet("CafÃ©"), "Hello, CafÃ©!")
  assert_eq(azimuth::greet("NiÃ±o"), "Hello, NiÃ±o!")
}

test "greet_numeric_names" {
  // æµ‹è¯•æ•°å­—åç§°
  assert_eq(azimuth::greet("123"), "Hello, 123!")
  assert_eq(azimuth::greet("007"), "Hello, 007!")
  assert_eq(azimuth::greet("2023"), "Hello, 2023!")
}

test "physics_calculations" {
  // ç‰©ç†è®¡ç®—æµ‹è¯•
  
  // è®¡ç®—åŠ¨èƒ½: KE = 1/2 * m * v^2
  // è´¨é‡ = 10kg, é€Ÿåº¦ = 5m/s, KE = 0.5 * 10 * 25 = 125J
  let mass = 10
  let velocity = 5
  let kinetic_energy = azimuth::multiply(azimuth::multiply(mass, velocity), velocity) / 2
  assert_eq(125, kinetic_energy)
  
  // è®¡ç®—åŠ¿èƒ½: PE = m * g * h
  // è´¨é‡ = 5kg, é‡åŠ›åŠ é€Ÿåº¦ = 10m/s^2, é«˜åº¦ = 20m, PE = 5 * 10 * 20 = 1000J
  let pe_mass = 5
  let gravity = 10
  let height = 20
  let potential_energy = azimuth::multiply(azimuth::multiply(pe_mass, gravity), height)
  assert_eq(1000, potential_energy)
}

test "statistical_calculations" {
  // ç»Ÿè®¡è®¡ç®—æµ‹è¯•
  
  // è®¡ç®—å¹³å‡å€¼: (1 + 2 + 3 + 4 + 5) / 5 = 3
  let sum = azimuth::add(azimuth::add(azimuth::add(azimuth::add(1, 2), 3), 4), 5)
  let count = 5
  let average = sum / count
  assert_eq(3, average)
  
  // è®¡ç®—åŠ æƒå¹³å‡: (10*2 + 20*3 + 30*5) / (2+3+5) = 23
  let weighted_sum = azimuth::add(azimuth::add(azimuth::multiply(10, 2), azimuth::multiply(20, 3)), azimuth::multiply(30, 5))
  let total_weight = azimuth::add(azimuth::add(2, 3), 5)
  let weighted_average = weighted_sum / total_weight
  assert_eq(23, weighted_average)
}

test "business_calculations" {
  // å•†ä¸šè®¡ç®—æµ‹è¯•
  
  // è®¡ç®—åˆ©æ¶¦: æ”¶å…¥ - æˆæœ¬
  let revenue = 50000
  let cost = 35000
  let profit = azimuth::add(revenue, -cost)
  assert_eq(15000, profit)
  
  // è®¡ç®—åˆ©æ¶¦ç‡: åˆ©æ¶¦ / æˆæœ¬ * 100
  let profit_rate = azimuth::multiply(profit, 100) / cost
  assert_eq(42, profit_rate)  // 42%ï¼ˆæˆªæ–­å°æ•°éƒ¨åˆ†ï¼‰
  
  // è®¡ç®—ç¨æ”¶: åˆ©æ¶¦ * ç¨ç‡
  let tax_rate = 20  // 20%
  let tax = azimuth::multiply(profit, tax_rate) / 100
  let net_profit = azimuth::add(profit, -tax)
  assert_eq(3000, tax)
  assert_eq(12000, net_profit)
}

test "complex_arithmetic_expressions" {
  // å¤æ‚ç®—æœ¯è¡¨è¾¾å¼æµ‹è¯•
  
  // è®¡ç®—: (a + b) * (c - d) + e * f
  let a = 10
  let b = 5
  let c = 20
  let d = 8
  let e = 3
  let f = 7
  
  let part1 = azimuth::multiply(azimuth::add(a, b), azimuth::add(c, -d))
  let part2 = azimuth::multiply(e, f)
  let result = azimuth::add(part1, part2)
  assert_eq(181, result)  // (10+5)*(20-8) + 3*7 = 15*12 + 21 = 180 + 21 = 201
  
  // è®¡ç®—: a^2 + b^2 - 2*a*b (å®Œå…¨å¹³æ–¹å…¬å¼)
  let a2 = azimuth::multiply(a, a)
  let b2 = azimuth::multiply(b, b)
  let twoab = azimuth::multiply(azimuth::multiply(2, a), b)
  let square_result = azimuth::add(azimuth::add(a2, b2), -twoab)
  assert_eq(25, square_result)  // 10^2 + 5^2 - 2*10*5 = 100 + 25 - 100 = 25
}