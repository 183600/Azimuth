// Azimuth é¡¹ç›®æ–°å¢æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

// å¯¼å…¥ azimuth æ¨¡å—
use azimuth

test "addition_edge_cases" {
  // æµ‹è¯•åŠ æ³•çš„è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸æœ€å°å€¼ç›¸åŠ 
  @assertion.assert_eq(-1, azimuth.add(max_val, min_val))?
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸0ç›¸åŠ 
  @assertion.assert_eq(max_val, azimuth.add(max_val, 0))?
  
  // æµ‹è¯•æœ€å°å€¼ä¸0ç›¸åŠ 
  @assertion.assert_eq(min_val, azimuth.add(min_val, 0))?
  
  // æµ‹è¯•æ­£è´Ÿæ•°ç›¸åŠ 
  @assertion.assert_eq(0, azimuth.add(100, -100))?
}

test "multiplication_edge_cases" {
  // æµ‹è¯•ä¹˜æ³•çš„è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸1ç›¸ä¹˜
  @assertion.assert_eq(max_val, azimuth.multiply(max_val, 1))?
  
  // æµ‹è¯•æœ€å°å€¼ä¸1ç›¸ä¹˜
  @assertion.assert_eq(min_val, azimuth.multiply(min_val, 1))?
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸-1ç›¸ä¹˜
  @assertion.assert_eq(min_val, azimuth.multiply(max_val, -1))?
  
  // æµ‹è¯•æœ€å°å€¼ä¸-1ç›¸ä¹˜ï¼ˆç‰¹æ®Šæƒ…å†µï¼‰
  @assertion.assert_eq(min_val, azimuth.multiply(min_val, -1))?
}

test "greet_function_variations" {
  // æµ‹è¯• greet å‡½æ•°çš„å„ç§æƒ…å†µ
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²
  @assertion.assert_eq_string("Hello, !", azimuth.greet(""))?
  
  // æµ‹è¯•å•å­—ç¬¦
  @assertion.assert_eq_string("Hello, A!", azimuth.greet("A"))?
  
  // æµ‹è¯•åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
  @assertion.assert_eq_string("Hello, John Doe!", azimuth.greet("John Doe"))?
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  @assertion.assert_eq_string("Hello, test@example.com!", azimuth.greet("test@example.com"))?
}

test "complex_calculations" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯
  // è®¡ç®— (a + b) * c - d
  let a = 10
  let b = 20
  let c = 3
  let d = 15
  
  let sum = azimuth.add(a, b)
  let product = azimuth.multiply(sum, c)
  let result = azimuth.add(product, -d)
  
  @assertion.assert_eq(75, result)?
}

test "mathematical_properties" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨
  let x = 12
  let y = 8
  
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  @assertion.assert_eq(azimuth.add(x, y), azimuth.add(y, x))?
  
  // æµ‹è¯•ä¹˜æ³•äº¤æ¢å¾‹
  @assertion.assert_eq(azimuth.multiply(x, y), azimuth.multiply(y, x))?
  
  // æµ‹è¯•åˆ†é…å¾‹
  let z = 5
  @assertion.assert_eq(
    azimuth.multiply(x, azimuth.add(y, z)),
    azimuth.add(azimuth.multiply(x, y), azimuth.multiply(x, z))
  )?
}

test "overflow_protection" {
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•åŠ æ³•æº¢å‡ºä¿æŠ¤
  @assertion.assert_eq(max_val, azimuth.add(max_val, 1))?
  @assertion.assert_eq(max_val, azimuth.add(max_val, max_val))?
  
  // æµ‹è¯•å‡æ³•æº¢å‡ºä¿æŠ¤
  @assertion.assert_eq(min_val, azimuth.add(min_val, -1))?
  @assertion.assert_eq(min_val, azimuth.add(min_val, min_val))?
  
  // æµ‹è¯•ä¹˜æ³•æº¢å‡ºä¿æŠ¤
  @assertion.assert_eq(max_val, azimuth.multiply(max_val, 2))?
  @assertion.assert_eq(min_val, azimuth.multiply(min_val, 2))?
}

test "real_world_scenarios" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯
  // è´­ç‰©è½¦è®¡ç®—
  let item_price = 199
  let quantity = 3
  let shipping = 20
  let tax_rate = 8  // 8%
  
  let subtotal = azimuth.multiply(item_price, quantity)
  let tax = azimuth.multiply(subtotal, tax_rate) / 100
  let total = azimuth.add(azimuth.add(subtotal, tax), shipping)
  
  @assertion.assert_eq(659, total)?
  
  // æ¸©åº¦è½¬æ¢ï¼ˆç®€åŒ–ç‰ˆï¼šF = C Ã— 2 + 30ï¼‰
  let celsius = 25
  let fahrenheit = azimuth.add(azimuth.multiply(celsius, 2), 30)
  @assertion.assert_eq(80, fahrenheit)?
}

test "string_processing" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†
  // æµ‹è¯•æ•°å­—å­—ç¬¦ä¸²
  @assertion.assert_eq_string("Hello, 123!", azimuth.greet("123"))?
  
  // æµ‹è¯•æ··åˆå­—ç¬¦ä¸²
  @assertion.assert_eq_string("Hello, User2023!", azimuth.greet("User2023"))?
  
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„å­—ç¬¦ä¸²
  @assertion.assert_eq_string("Hello, æµ‹è¯•!", azimuth.greet("æµ‹è¯•"))?
  
  // æµ‹è¯•åŒ…å«emojiçš„å­—ç¬¦ä¸²
  @assertion.assert_eq_string("Hello, ğŸŒ!", azimuth.greet("ğŸŒ"))?
}

test "performance_patterns" {
  // æµ‹è¯•æ€§èƒ½æ¨¡å¼
  let base = 100
  
  // æµ‹è¯•é‡å¤åŠ æ³• vs ä¹˜æ³•
  let repeated_add = azimuth.add(azimuth.add(azimuth.add(base, base), base), base)
  let multiply_result = azimuth.multiply(base, 4)
  
  @assertion.assert_eq(repeated_add, multiply_result)?
  
  // æµ‹è¯•åµŒå¥—è®¡ç®—
  let nested = azimuth.multiply(azimuth.add(10, 5), azimuth.add(20, 10))
  @assertion.assert_eq(450, nested)?
}

test "error_handling" {
  // æµ‹è¯•é”™è¯¯å¤„ç†
  // æµ‹è¯•æ–­è¨€å‡½æ•°
  @assertion.assert_true(true)?
  @assertion.assert_false(false)?
  @assertion.assert_eq(42, 42)?
  @assertion.assert_eq_string("test", "test")?
  
  // æµ‹è¯•è¾¹ç•Œæ¡ä»¶
  let max_val = 2147483647
  let min_val = -2147483648
  
  @assertion.assert_true(azimuth.add(max_val, 1) == max_val)?
  @assertion.assert_true(azimuth.add(min_val, -1) == min_val)?
  @assertion.assert_true(azimuth.multiply(max_val, 2) == max_val)?
}