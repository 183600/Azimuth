// æ–°å¢çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½

test "add_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  let a = 123
  let b = 456
  assert_eq(add(a, b), add(b, a))
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  let c = -100
  let d = 200
  assert_eq(add(c, d), add(d, c))
}

test "multiply_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ï¼ša Ã— (b + c) = a Ã— b + a Ã— c
  let a = 5
  let b = 3
  let c = 2
  
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  assert_eq(left_side, right_side)
}

test "greet_with_special_characters" {
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, @#$%!", greet("@#$%"))
  assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", greet("ä¸­æ–‡æµ‹è¯•"))
  assert_eq_string("Hello, ğŸŒ™!", greet("ğŸŒ™"))
}

test "add_with_large_numbers" {
  // æµ‹è¯•å¤§æ•°ç›¸åŠ 
  let large_num1 = 1000000000
  let large_num2 = 1000000000
  assert_eq(2000000000, add(large_num1, large_num2))
  
  // æµ‹è¯•è´Ÿå¤§æ•°ç›¸åŠ 
  let neg_large1 = -1000000000
  let neg_large2 = -1000000000
  assert_eq(-2000000000, add(neg_large1, neg_large2))
}

test "multiply_with_powers_of_two" {
  // æµ‹è¯•2çš„å¹‚ç›¸ä¹˜
  assert_eq(8, multiply(2, 4))
  assert_eq(16, multiply(4, 4))
  assert_eq(64, multiply(8, 8))
  assert_eq(1024, multiply(32, 32))
}

test "calculation_scenario_area" {
  // å®é™…åº”ç”¨åœºæ™¯ï¼šè®¡ç®—çŸ©å½¢é¢ç§¯
  let length = 15
  let width = 8
  let area = multiply(length, width)
  assert_eq(120, area)
  
  // è®¡ç®—å‘¨é•¿
  let perimeter = add(multiply(2, length), multiply(2, width))
  assert_eq(46, perimeter)
}

test "calculation_scenario_temperature" {
  // å®é™…åº”ç”¨åœºæ™¯ï¼šæ¸©åº¦è½¬æ¢ï¼ˆç®€åŒ–ç‰ˆï¼‰
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼šF = C Ã— 2 + 30ï¼ˆç®€åŒ–å…¬å¼ï¼‰
  let celsius = 20
  let fahrenheit = add(multiply(celsius, 2), 30)
  assert_eq(70, fahrenheit)
  
  // æµ‹è¯•å†°ç‚¹
  let freezing = 0
  let freezing_f = add(multiply(freezing, 2), 30)
  assert_eq(30, freezing_f)
}

test "boundary_value_combinations" {
  // æµ‹è¯•è¾¹ç•Œå€¼ç»„åˆ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼ä¸1çš„è¿ç®—
  assert_eq(max_val, add(max_val, 0))
  assert_eq(max_val, multiply(max_val, 1))
  
  // æœ€å°å€¼ä¸1çš„è¿ç®—
  assert_eq(min_val, add(min_val, 0))
  assert_eq(min_val, multiply(min_val, 1))
}

test "string_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²è¾¹ç•Œæƒ…å†µ
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, a!", greet("a"))
  assert_eq_string("Hello, ABCDEFGHIJKLMNOPQRSTUVWXYZ!", greet("ABCDEFGHIJKLMNOPQRSTUVWXYZ"))
  assert_eq_string("Hello, abcdefghijklmnopqrstuvwxyz!", greet("abcdefghijklmnopqrstuvwxyz"))
}

test "complex_nested_calculations" {
  // å¤æ‚åµŒå¥—è®¡ç®—æµ‹è¯•
  let a = 10
  let b = 5
  let c = 3
  let d = 2
  
  // è®¡ç®—ï¼š(a + b) Ã— (c - d) + a Ã— b
  let result1 = add(multiply(add(a, b), add(c, -d)), multiply(a, b))
  assert_eq(85, result1)
  
  // è®¡ç®—ï¼ša Ã— b + c Ã— d - a Ã— c
  let result2 = add(add(multiply(a, b), multiply(c, d)), multiply(-a, c))
  assert_eq(46, result2)
}