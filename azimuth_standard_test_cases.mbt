// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// é’ˆå¯¹ azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•

test "add_function_comprehensive" {
  // åŠ æ³•å‡½æ•°ç»¼åˆæµ‹è¯•
  assert_eq(10, add(7, 3))
  assert_eq(0, add(0, 0))
  assert_eq(-5, add(-2, -3))
  assert_eq(5, add(8, -3))
  assert_eq(1000000, add(500000, 500000))
}

test "multiply_function_comprehensive" {
  // ä¹˜æ³•å‡½æ•°ç»¼åˆæµ‹è¯•
  assert_eq(15, multiply(3, 5))
  assert_eq(0, multiply(0, 100))
  assert_eq(-12, multiply(-3, 4))
  assert_eq(12, multiply(-3, -4))
  assert_eq(1000000, multiply(1000, 1000))
}

test "greet_function_various_inputs" {
  // é—®å€™å‡½æ•°å„ç§è¾“å…¥æµ‹è¯•
  assert_eq_string("Hello, MoonBit!", greet("MoonBit"))
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, 123!", greet("123"))
  assert_eq_string("Hello, ç©ºæ ¼æµ‹è¯• !", greet(" ç©ºæ ¼æµ‹è¯• "))
  assert_eq_string("Hello, ç‰¹æ®Šç¬¦å·@#$!", greet("ç‰¹æ®Šç¬¦å·@#$"))
}

test "divide_with_ceil_comprehensive" {
  // å‘ä¸Šå–æ•´é™¤æ³•ç»¼åˆæµ‹è¯•
  assert_eq(4, divide_with_ceil(10, 3))
  assert_eq(3, divide_with_ceil(9, 3))
  assert_eq(0, divide_with_ceil(5, 0))
  assert_eq(1, divide_with_ceil(1, 100))
  assert_eq(-3, divide_with_ceil(-10, 3))
}

test "complex_business_calculation" {
  // å¤æ‚ä¸šåŠ¡è®¡ç®—æµ‹è¯•
  // åœºæ™¯ï¼šè®¡ç®—è®¢å•æ€»ä»·ï¼ˆå•†å“ä»·æ ¼ Ã— æ•°é‡ + è¿è´¹ - æŠ˜æ‰£ï¼‰
  let product_price = 158
  let quantity = 3
  let shipping = 25
  let discount = 50
  
  let subtotal = multiply(product_price, quantity)
  let total_before_discount = add(subtotal, shipping)
  let final_total = add(total_before_discount, -discount)
  
  assert_eq(499, final_total)  // 158*3 + 25 - 50 = 474 + 25 - 50 = 449
}

test "mathematical_identity_properties" {
  // æ•°å­¦æ’ç­‰æ€§è´¨æµ‹è¯•
  // åŠ æ³•æ’ç­‰å…ƒ
  assert_eq(42, add(42, 0))
  assert_eq(42, add(0, 42))
  
  // ä¹˜æ³•æ’ç­‰å…ƒ
  assert_eq(42, multiply(42, 1))
  assert_eq(42, multiply(1, 42))
  
  // ä¹˜æ³•é›¶å…ƒ
  assert_eq(0, multiply(42, 0))
  assert_eq(0, multiply(0, 42))
}

test "packaging_and_shipping_calculation" {
  // åŒ…è£…å’Œè¿è¾“è®¡ç®—æµ‹è¯•
  // åœºæ™¯ï¼šè®¡ç®—éœ€è¦çš„åŒ…è£…ç®±æ•°é‡å’Œæ€»è¿è¾“æˆæœ¬
  let total_items = 47
  let items_per_box = 8
  let cost_per_box = 15
  
  let boxes_needed = divide_with_ceil(total_items, items_per_box)
  let total_shipping_cost = multiply(boxes_needed, cost_per_box)
  
  assert_eq(6, boxes_needed)  // ceil(47/8) = 6
  assert_eq(90, total_shipping_cost)  // 6 * 15 = 90
}

test "financial_calculation_scenario" {
  // é‡‘èè®¡ç®—åœºæ™¯æµ‹è¯•
  // åœºæ™¯ï¼šè®¡ç®—æŠ•èµ„å›æŠ¥ï¼ˆæœ¬é‡‘ Ã— åˆ©ç‡ + æœ¬é‡‘ï¼‰
  let principal = 10000
  let interest_rate = 8  // 8%
  let years = 3
  
  let annual_interest = divide_with_ceil(multiply(principal, interest_rate), 100)
  let total_interest = multiply(annual_interest, years)
  let final_amount = add(principal, total_interest)
  
  assert_eq(12400, final_amount)  // 10000 + (ceil(10000*8/100) * 3) = 10000 + 2400 = 12400
}

test "error_handling_and_edge_cases" {
  // é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µæµ‹è¯•
  // é™¤é›¶å¤„ç†
  assert_eq(0, divide_with_ceil(100, 0))
  assert_eq(0, divide_with_ceil(-100, 0))
  assert_eq(0, divide_with_ceil(0, 0))
  
  // æå€¼æµ‹è¯•
  assert_eq(2000000000, add(1000000000, 1000000000))
  assert_eq(0, add(2147483647, -2147483647))
}

test "string_processing_with_greet" {
  // å­—ç¬¦ä¸²å¤„ç†ä¸é—®å€™å‡½æ•°æµ‹è¯•
  let names = ["", "A", "Alice", "Alice Smith", "å¼ ä¸‰", "JosÃ© MarÃ­a", "ğŸŒŸStar"]
  let expected = [
    "Hello, !",
    "Hello, A!",
    "Hello, Alice!",
    "Hello, Alice Smith!",
    "Hello, å¼ ä¸‰!",
    "Hello, JosÃ© MarÃ­a!",
    "Hello, ğŸŒŸStar!"
  ]
  
  // æµ‹è¯•å„ç§åå­—è¾“å…¥
  assert_eq_string(expected[0], greet(names[0]))
  assert_eq_string(expected[1], greet(names[1]))
  assert_eq_string(expected[2], greet(names[2]))
  assert_eq_string(expected[3], greet(names[3]))
  assert_eq_string(expected[4], greet(names[4]))
}