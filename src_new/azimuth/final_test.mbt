// 最终测试文件，验证所有边界情况

test "final_add_test" {
  // 测试精确的边界情况
  assert_eq(-2147483648, add(-1073741824, -1073741824))// -1073741824 * 2 = -2147483648
  assert_eq(-2147483647, add(-1073741824, -1073741823))// -1073741824 * 2 + 1 = -2147483647
  assert_eq(-2147483648, add(-1610612736, -536870912))// -1610612736 + -536870912 = -2147483648
  assert_eq(-2147483648, add(-2000000000, -147483648))// -2000000000 + -147483648 = -2147483648
  
  // 测试不溢出的情况
  assert_eq(-2, add(-1, -1))
  assert_eq(-100, add(-50, -50))
  assert_eq(-2147483646, add(-2147483647, 1))
}

test "final_multiply_test" {
  // 测试最小值的特殊情况
  assert_eq(-2147483648, multiply(-2147483648, 1))
  assert_eq(-2147483648, multiply(1, -2147483648))
  assert_eq(-2147483648, multiply(-2147483648, -1))
  assert_eq(-2147483648, multiply(-1, -2147483648))
  assert_eq(0, multiply(-2147483648, 0))
  assert_eq(0, multiply(0, -2147483648))
  
  // 测试边界溢出
  assert_eq(2147483647, multiply(46341, 46341))
  assert_eq(2147483647, multiply(46342, 46342))
  assert_eq(-2147483648, multiply(-46341, 46341))
  assert_eq(-2147483648, multiply(46341, -46341))
}
