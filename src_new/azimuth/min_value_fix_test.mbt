// 测试最小值修复的验证

test "min_value_positive_add" {
  // 测试最小值加正数的情况（之前会被错误地处理为溢出）
  assert_eq(-2147483647, add(-2147483648, 1))// 最小值 + 1
  assert_eq(-2147483646, add(-2147483648, 2))// 最小值 + 2
  assert_eq(-2147483640, add(-2147483648, 8))// 最小值 + 8
  assert_eq(-2147483648, add(-2147483648, 0))// 最小值 + 0
  assert_eq(-1, add(-2147483648, 2147483647))// 最小值 + 最大正数
  
  // 反过来测试
  assert_eq(-2147483647, add(1, -2147483648))// 1 + 最小值
  assert_eq(-2147483646, add(2, -2147483648))// 2 + 最小值
  assert_eq(-2147483640, add(8, -2147483648))// 8 + 最小值
  assert_eq(-2147483648, add(0, -2147483648))// 0 + 最小值
  
  // 测试最小值加负数（应该溢出）
  assert_eq(-2147483648, add(-2147483648, -1))// 最小值 + -1
  assert_eq(-2147483648, add(-2147483648, -2))// 最小值 + -2
  assert_eq(-2147483648, add(-1, -2147483648))// -1 + 最小值
  assert_eq(-2147483648, add(-2, -2147483648))// -2 + 最小值
}