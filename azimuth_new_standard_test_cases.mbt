// Azimuth é¡¹ç›®æ–°å¢ MoonBit æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œè¦†ç›–æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•

// å¯¼å…¥å¿…è¦çš„æ¨¡å—
use azimuth

test "basic_arithmetic_operations" {
  // åŸºæœ¬ç®—æœ¯è¿ç®—æµ‹è¯•
  let a = 15
  let b = 7
  
  // æµ‹è¯•åŠ æ³•
  let sum_result = azimuth.add(a, b)
  @assertion.assert_eq(22, sum_result)?
  
  // æµ‹è¯•ä¹˜æ³•
  let mul_result = azimuth.multiply(a, b)
  @assertion.assert_eq(105, mul_result)?
  
  // æµ‹è¯•ä¸0çš„è¿ç®—
  @assertion.assert_eq(15, azimuth.add(a, 0))?
  @assertion.assert_eq(0, azimuth.multiply(a, 0))?
}

test "boundary_value_handling" {
  // è¾¹ç•Œå€¼å¤„ç†æµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼è¾¹ç•Œ
  @assertion.assert_eq(max_val, azimuth.add(max_val, 1))?
  @assertion.assert_eq(max_val, azimuth.multiply(max_val, 2))?
  
  // æµ‹è¯•æœ€å°å€¼è¾¹ç•Œ
  @assertion.assert_eq(min_val, azimuth.add(min_val, -1))?
  @assertion.assert_eq(min_val, azimuth.multiply(min_val, -1))?
  
  // æµ‹è¯•è¾¹ç•Œå€¼ç»„åˆ
  @assertion.assert_eq(-1, azimuth.add(max_val, min_val))?
}

test "string_processing_functions" {
  // å­—ç¬¦ä¸²å¤„ç†åŠŸèƒ½æµ‹è¯•
  let test_name = "MoonBit"
  
  // æµ‹è¯•åŸºæœ¬é—®å€™åŠŸèƒ½
  let greeting = azimuth.greet(test_name)
  @assertion.assert_eq_string("Hello, MoonBit!", greeting)?
  
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²å¤„ç†
  let empty_greeting = azimuth.greet("")
  @assertion.assert_eq_string("Hello, !", empty_greeting)?
  
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦å­—ç¬¦ä¸²
  let special_name = "æµ‹è¯•@123"
  let special_greeting = azimuth.greet(special_name)
  @assertion.assert_eq_string("Hello, æµ‹è¯•@123!", special_greeting)?
}

test "mathematical_formula_verification" {
  // æ•°å­¦å…¬å¼éªŒè¯æµ‹è¯•
  let x = 12
  let y = 5
  let z = 3
  
  // éªŒè¯åˆ†é…å¾‹: x * (y + z) = x * y + x * z
  let left_side = azimuth.multiply(x, azimuth.add(y, z))
  let right_side = azimuth.add(azimuth.multiply(x, y), azimuth.multiply(x, z))
  @assertion.assert_eq(left_side, right_side)?
  
  // éªŒè¯ç»“åˆå¾‹: (x + y) + z = x + (y + z)
  let add_left = azimuth.add(azimuth.add(x, y), z)
  let add_right = azimuth.add(x, azimuth.add(y, z))
  @assertion.assert_eq(add_left, add_right)?
}

test "real_world_calculation_scenario" {
  // å®é™…è®¡ç®—åœºæ™¯æµ‹è¯•ï¼šè®¢å•æ€»ä»·è®¡ç®—
  let unit_price = 199
  let quantity = 3
  let discount_rate = 10  // 10% æŠ˜æ‰£
  let shipping_fee = 15
  let tax_rate = 8  // 8% ç¨è´¹
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = azimuth.multiply(unit_price, quantity)
  
  // è®¡ç®—æŠ˜æ‰£é‡‘é¢
  let discount = azimuth.multiply(subtotal, discount_rate) / 100
  
  // è®¡ç®—æŠ˜åä»·æ ¼
  let discounted_price = azimuth.add(subtotal, -discount)
  
  // è®¡ç®—ç¨è´¹
  let tax = azimuth.multiply(discounted_price, tax_rate) / 100
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_total = azimuth.add(azimuth.add(discounted_price, tax), shipping_fee)
  
  // éªŒè¯ç»“æœ: (199Ã—3 - 10%) + 8% + 15 = 597 - 59.7 + 47.76 + 15 = 600.06 â‰ˆ 600
  @assertion.assert_eq(600, final_total)?
}

test "error_handling_robustness" {
  // é”™è¯¯å¤„ç†å¥å£®æ€§æµ‹è¯•
  let normal_value = 100
  let extreme_value = 2147483647
  
  // æµ‹è¯•æ­£å¸¸æƒ…å†µä¸‹çš„æ–­è¨€å‡½æ•°
  @assertion.assert_true(true)?
  @assertion.assert_false(false)?
  @assertion.assert_eq(normal_value, 100)?
  @assertion.assert_eq_string("test", "test")?
  
  // æµ‹è¯•æå€¼æƒ…å†µä¸‹çš„å¤„ç†
  let extreme_add = azimuth.add(extreme_value, extreme_value)
  @assertion.assert_eq(extreme_value, extreme_add)?
  
  let extreme_mul = azimuth.multiply(extreme_value, extreme_value)
  @assertion.assert_eq(extreme_value, extreme_mul)?
}

test "complex_calculation_workflow" {
  // å¤æ‚è®¡ç®—å·¥ä½œæµæµ‹è¯•ï¼šè®¡ç®—æ•°ç»„å…ƒç´ çš„å’Œä¸å¹³å‡å€¼
  let elements = [15, 25, 35, 45, 55]
  
  // è®¡ç®—æ€»å’Œ
  let sum = azimuth.add(azimuth.add(azimuth.add(azimuth.add(elements[0], elements[1]), elements[2]), elements[3]), elements[4])
  @assertion.assert_eq(175, sum)?
  
  // è®¡ç®—å¹³å‡å€¼
  let average = sum / 5
  @assertion.assert_eq(35, average)?
  
  // è®¡ç®—æ–¹å·®ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let diff1 = azimuth.add(elements[0], -average)
  let diff2 = azimuth.add(elements[1], -average)
  let diff3 = azimuth.add(elements[2], -average)
  let diff4 = azimuth.add(elements[3], -average)
  let diff5 = azimuth.add(elements[4], -average)
  
  let variance = azimuth.add(azimuth.add(azimuth.add(azimuth.add(
    azimuth.multiply(diff1, diff1), 
    azimuth.multiply(diff2, diff2)), 
    azimuth.multiply(diff3, diff3)), 
    azimuth.add(azimuth.multiply(diff4, diff4), azimuth.multiply(diff5, diff5))) / 5
  
  @assertion.assert_eq(200, variance)?
}

test "performance_efficiency_check" {
  // æ€§èƒ½æ•ˆç‡æ£€æŸ¥æµ‹è¯•ï¼šå¤§é‡æ•°æ®è®¡ç®—æ¨¡æ‹Ÿ
  let base_value = 100
  let multiplier = 1000
  
  // æµ‹è¯•å¤§æ•°ç›¸åŠ 
  let large_sum = azimuth.add(base_value, multiplier)
  @assertion.assert_eq(1100, large_sum)?
  
  // æµ‹è¯•å¤§æ•°ç›¸ä¹˜
  let large_product = azimuth.multiply(base_value, multiplier)
  @assertion.assert_eq(100000, large_product)?
  
  // æµ‹è¯•è¿ç»­è¿ç®—æ€§èƒ½
  let chain_result = azimuth.add(azimuth.multiply(base_value, 10), azimuth.multiply(multiplier, 2))
  @assertion.assert_eq(2100, chain_result)?
}

test "unicode_and_internationalization" {
  // Unicode å’Œå›½é™…åŒ–æµ‹è¯•
  let chinese_name = "å¼ ä¸‰"
  let japanese_name = "ç”°ä¸­"
  let emoji_name = "ğŸŒ"
  let mixed_name = "Helloä¸–ç•Œ123"
  
  // æµ‹è¯•ä¸­æ–‡å¤„ç†
  let chinese_greeting = azimuth.greet(chinese_name)
  @assertion.assert_eq_string("Hello, å¼ ä¸‰!", chinese_greeting)?
  
  // æµ‹è¯•æ—¥æ–‡å¤„ç†
  let japanese_greeting = azimuth.greet(japanese_name)
  @assertion.assert_eq_string("Hello, ç”°ä¸­!", japanese_greeting)?
  
  // æµ‹è¯• Emoji å¤„ç†
  let emoji_greeting = azimuth.greet(emoji_name)
  @assertion.assert_eq_string("Hello, ğŸŒ!", emoji_greeting)?
  
  // æµ‹è¯•æ··åˆå­—ç¬¦ä¸²å¤„ç†
  let mixed_greeting = azimuth.greet(mixed_name)
  @assertion.assert_eq_string("Hello, Helloä¸–ç•Œ123!", mixed_greeting)?
}