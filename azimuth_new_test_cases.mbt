// Azimuth é¡¹ç›®æ–°å¢æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œæµ‹è¯•æ ¸å¿ƒåŠŸèƒ½çš„å„ç§åœºæ™¯

test "add_function_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  let result1 = add(15, 27)
  let result2 = add(27, 15)
  assert_eq(result1, result2)
}

test "add_function_associative_property" {
  // æµ‹è¯•åŠ æ³•ç»“åˆå¾‹
  let result1 = add(add(10, 20), 30)
  let result2 = add(10, add(20, 30))
  assert_eq(result1, result2)
}

test "multiply_function_commutative_property" {
  // æµ‹è¯•ä¹˜æ³•äº¤æ¢å¾‹
  let result1 = multiply(12, 8)
  let result2 = multiply(8, 12)
  assert_eq(result1, result2)
}

test "multiply_function_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹
  let a = 5
  let b = 3
  let c = 2
  let result1 = multiply(a, add(b, c))
  let result2 = add(multiply(a, b), multiply(a, c))
  assert_eq(result1, result2)
}

test "greet_function_with_unicode" {
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„é—®å€™åŠŸèƒ½
  let result1 = greet("ä¸–ç•Œ")
  let result2 = greet("ğŸŒ")
  let result3 = greet("MoonBitæµ‹è¯•")
  assert_eq_string("Hello, ä¸–ç•Œ!", result1)
  assert_eq_string("Hello, ğŸŒ!", result2)
  assert_eq_string("Hello, MoonBitæµ‹è¯•!", result3)
}

test "combined_operations" {
  // æµ‹è¯•ç»„åˆè¿ç®—
  let x = 10
  let y = 5
  let z = 3
  
  // è®¡ç®— (x + y) * z
  let result1 = multiply(add(x, y), z)
  assert_eq(45, result1)
  
  // è®¡ç®— x * y + z
  let result2 = add(multiply(x, y), z)
  assert_eq(53, result2)
}

test "edge_case_large_numbers" {
  // æµ‹è¯•å¤§æ•°è¿ç®—
  let large1 = 1000000
  let large2 = 2000000
  
  let add_result = add(large1, large2)
  assert_eq(3000000, add_result)
  
  let mul_result = multiply(large1, 2)
  assert_eq(2000000, mul_result)
}

test "edge_case_negative_operations" {
  // æµ‹è¯•è´Ÿæ•°è¿ç®—
  let neg1 = -15
  let neg2 = -8
  let pos = 10
  
  // è´Ÿæ•°åŠ æ³•
  let result1 = add(neg1, neg2)
  assert_eq(-23, result1)
  
  // æ­£è´Ÿæ•°åŠ æ³•
  let result2 = add(neg1, pos)
  assert_eq(-5, result2)
  
  // è´Ÿæ•°ä¹˜æ³•
  let result3 = multiply(neg1, neg2)
  assert_eq(120, result3)
  
  // æ­£è´Ÿæ•°ä¹˜æ³•
  let result4 = multiply(neg1, pos)
  assert_eq(-150, result4)
}

test "greet_function_with_whitespace" {
  // æµ‹è¯•åŒ…å«ç©ºæ ¼çš„é—®å€™åŠŸèƒ½
  let result1 = greet("  spaced  ")
  let result2 = greet("tabbed")
  let result3 = greet("newlined")
  assert_eq_string("Hello,   spaced  !", result1)
  assert_eq_string("Hello, tabbed!", result2)
  assert_eq_string("Hello, newlined!", result3)
}

test "complex_calculation_scenario" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯
  let base_price = 100
  let quantity = 5
  let discount = 20
  let tax_rate = 8
  
  // è®¡ç®—æ€»ä»·
  let subtotal = multiply(base_price, quantity)
  
  // åº”ç”¨æŠ˜æ‰£
  let discounted = add(subtotal, -discount)
  
  // è®¡ç®—ç¨è´¹ï¼ˆç®€åŒ–ä¸ºå›ºå®šå€¼ï¼‰
  let tax = 38
  
  // æœ€ç»ˆä»·æ ¼
  let final_price = add(discounted, tax)
  
  // éªŒè¯ï¼š(100*5 - 20) + 38 = 480 + 38 = 518
  assert_eq(518, final_price)
}