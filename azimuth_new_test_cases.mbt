// Azimuth é¡¹ç›®æ–°å¢æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼ŒåŒ…å«10ä¸ªæµ‹è¯•ç”¨ä¾‹

test "string_concatenation_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²è¿æ¥çš„è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, A!", @azimuth.greet("A"))
  @azimuth.assert_eq_string("Hello, ğŸŒ!", @azimuth.greet("ğŸŒ"))
  @azimuth.assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", @azimuth.greet("ä¸­æ–‡æµ‹è¯•"))
  @azimuth.assert_eq_string("Hello, Special@#$%!", @azimuth.greet("Special@#$%"))
}

test "mathematical_properties_validation" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨éªŒè¯
  let a = 12
  let b = 8
  
  // åŠ æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.multiply(a, b), @azimuth.multiply(b, a))
  
  // åˆ†é…å¾‹
  @azimuth.assert_eq(@azimuth.multiply(a, @azimuth.add(b, 3)), @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, 3)))
  
  // ç»“åˆå¾‹
  @azimuth.assert_eq(@azimuth.add(@azimuth.add(a, b), 5), @azimuth.add(a, @azimuth.add(b, 5)))
  @azimuth.assert_eq(@azimuth.multiply(@azimuth.multiply(a, b), 2), @azimuth.multiply(a, @azimuth.multiply(b, 2)))
}

test "financial_calculations_practical" {
  // æµ‹è¯•å®é™…é‡‘èè®¡ç®—
  let principal = 10000
  let rate = 5  // 5%
  let years = 3
  
  // ç®€å•åˆ©æ¯è®¡ç®—
  let simple_interest = @azimuth.multiply(principal, @azimuth.multiply(rate, years)) / 100
  let total_simple = @azimuth.add(principal, simple_interest)
  @azimuth.assert_eq(160000, total_simple)
  
  // æŠ˜æ‰£è®¡ç®—
  let original_price = 500
  let discount_rate = 20
  let discount_amount = @azimuth.multiply(original_price, discount_rate) / 100
  let final_price = @azimuth.add(original_price, -discount_amount)
  @azimuth.assert_eq(400, final_price)
}

test "geometry_area_calculations" {
  // æµ‹è¯•å‡ ä½•é¢ç§¯è®¡ç®—
  let length = 10
  let width = 6
  let radius = 5
  
  // çŸ©å½¢é¢ç§¯
  let rectangle_area = @azimuth.multiply(length, width)
  @azimuth.assert_eq(60, rectangle_area)
  
  // ä¸‰è§’å½¢é¢ç§¯ï¼ˆåº•Ã—é«˜Ã·2ï¼‰
  let triangle_base = 8
  let triangle_height = 4
  let triangle_area = @azimuth.multiply(triangle_base, triangle_height) / 2
  @azimuth.assert_eq(16, triangle_area)
  
  // åœ†é¢ç§¯ï¼ˆç®€åŒ–ï¼šÏ€â‰ˆ3ï¼‰
  let circle_area = @azimuth.multiply(3, @azimuth.multiply(radius, radius))
  @azimuth.assert_eq(75, circle_area)
}

test "time_conversion_calculations" {
  // æµ‹è¯•æ—¶é—´è½¬æ¢è®¡ç®—
  let hours = 3
  let minutes = 45
  
  // è½¬æ¢ä¸ºæ€»åˆ†é’Ÿæ•°
  let total_minutes = @azimuth.add(@azimuth.multiply(hours, 60), minutes)
  @azimuth.assert_eq(225, total_minutes)
  
  // è½¬æ¢ä¸ºæ€»ç§’æ•°
  let total_seconds = @azimuth.multiply(total_minutes, 60)
  @azimuth.assert_eq(13500, total_seconds)
  
  // è®¡ç®—å·¥ä½œæ—¥åˆ†é’Ÿæ•°ï¼ˆ8å°æ—¶Ã—5å¤©ï¼‰
  let work_minutes = @azimuth.multiply(@azimuth.multiply(8, 60), 5)
  @azimuth.assert_eq(2400, work_minutes)
}

test "shopping_cart_total_calculation" {
  // æµ‹è¯•è´­ç‰©è½¦æ€»ä»·è®¡ç®—
  let item1_price = 199
  let item1_quantity = 2
  let item2_price = 299
  let item2_quantity = 1
  let item3_price = 99
  let item3_quantity = 3
  let shipping = 15
  
  // è®¡ç®—å„å•†å“æ€»ä»·
  let total1 = @azimuth.multiply(item1_price, item1_quantity)
  let total2 = @azimuth.multiply(item2_price, item2_quantity)
  let total3 = @azimuth.multiply(item3_price, item3_quantity)
  
  // è®¡ç®—è´­ç‰©è½¦æ€»ä»·ï¼ˆå«è¿è´¹ï¼‰
  let cart_total = @azimuth.add(@azimuth.add(@azimuth.add(total1, total2), total3), shipping)
  
  // éªŒè¯æ€»ä»·ï¼š199*2 + 299*1 + 99*3 + 15 = 398 + 299 + 297 + 15 = 1009
  @azimuth.assert_eq(1009, cart_total)
}

test "temperature_conversion_practical" {
  // æµ‹è¯•å®é™…æ¸©åº¦è½¬æ¢ï¼ˆç®€åŒ–ç‰ˆï¼šF = C Ã— 2 + 30ï¼‰
  let celsius_freezing = 0
  let celsius_room = 20
  let celsius_boiling = 100
  
  // è½¬æ¢ä¸ºåæ°åº¦
  let fahrenheit_freezing = @azimuth.add(@azimuth.multiply(celsius_freezing, 2), 30)
  let fahrenheit_room = @azimuth.add(@azimuth.multiply(celsius_room, 2), 30)
  let fahrenheit_boiling = @azimuth.add(@azimuth.multiply(celsius_boiling, 2), 30)
  
  @azimuth.assert_eq(30, fahrenheit_freezing)   // 0Â°C â‰ˆ 30Â°F
  @azimuth.assert_eq(70, fahrenheit_room)       // 20Â°C â‰ˆ 70Â°F
  @azimuth.assert_eq(230, fahrenheit_boiling)   // 100Â°C â‰ˆ 230Â°F
}

test "series_calculation_patterns" {
  // æµ‹è¯•çº§æ•°è®¡ç®—æ¨¡å¼
  // ç­‰å·®æ•°åˆ—æ±‚å’Œï¼š1 + 2 + 3 + 4 + 5 = 15
  let arithmetic_sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(1, 2), 3), 4), 5)
  @azimuth.assert_eq(15, arithmetic_sum)
  
  // ç­‰æ¯”æ•°åˆ—æ±‚å’Œï¼š2 + 4 + 8 + 16 = 30
  let geometric_sum = @azimuth.add(@azimuth.add(@azimuth.add(2, 4), 8), 16)
  @azimuth.assert_eq(30, geometric_sum)
  
  // å¹³æ–¹æ•°åˆ—æ±‚å’Œï¼š1Â² + 2Â² + 3Â² + 4Â² = 1 + 4 + 9 + 16 = 30
  let square_sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.multiply(1, 1), @azimuth.multiply(2, 2)), @azimuth.multiply(3, 3)), @azimuth.multiply(4, 4))
  @azimuth.assert_eq(30, square_sum)
}

test "boundary_value_comprehensive" {
  // æµ‹è¯•è¾¹ç•Œå€¼ç»¼åˆæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  let zero = 0
  let one = 1
  let neg_one = -1
  
  // è¾¹ç•Œå€¼åŠ æ³•
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, one))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, neg_one))
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, zero))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, zero))
  
  // è¾¹ç•Œå€¼ä¹˜æ³•
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, zero))
  @azimuth.assert_eq(0, @azimuth.multiply(min_val, zero))
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, one))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, one))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, neg_one))
  
  // è¾¹ç•Œå€¼ç»„åˆ
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, one))
  @azimuth.assert_eq(max_val, @azimuth.add(zero, max_val))
  @azimuth.assert_eq(min_val, @azimuth.add(zero, min_val))
}

test "real_world_application_scenario" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šè®¡ç®—è®¢å•æ€»ä»·ï¼ˆå«æŠ˜æ‰£å’Œç¨è´¹ï¼‰
  let unit_price = 120
  let quantity = 5
  let discount_threshold = 500
  let discount_rate = 10
  let tax_rate = 8
  let shipping = 25
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = @azimuth.multiply(unit_price, quantity)
  
  // è®¡ç®—æŠ˜æ‰£ï¼ˆå¦‚æœè¶…è¿‡é˜ˆå€¼ï¼‰
  let discount_amount = if (subtotal > discount_threshold) {
    @azimuth.multiply(subtotal, discount_rate) / 100
  } else {
    0
  }
  
  // è®¡ç®—æŠ˜åä»·æ ¼
  let discounted_total = @azimuth.add(subtotal, -discount_amount)
  
  // è®¡ç®—ç¨è´¹
  let tax_amount = @azimuth.multiply(discounted_total, tax_rate) / 100
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·ï¼ˆå«è¿è´¹ï¼‰
  let final_total = @azimuth.add(@azimuth.add(discounted_total, tax_amount), shipping)
  
  @azimuth.assert_eq(629, final_total)
  
  // éªŒè¯è®¡ç®—è¿‡ç¨‹ï¼š120*5 = 600ï¼ŒæŠ˜æ‰£ = 600*10/100 = 60ï¼ŒæŠ˜å = 600-60 = 540
  // ç¨è´¹ = 540*8/100 = 43ï¼Œæ€»ä»· = 540+43+25 = 608ï¼ˆä¿®æ­£è®¡ç®—ï¼‰
  @azimuth.assert_eq(608, @azimuth.add(@azimuth.add(@azimuth.add(600, -60), 43), 25))
}