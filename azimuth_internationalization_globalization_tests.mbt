// Azimuth Telemetry System - å›½é™…åŒ–å…¨çƒåŒ–æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯•ç³»ç»Ÿåœ¨ä¸åŒè¯­è¨€ã€åœ°åŒºå’Œæ–‡åŒ–ç¯å¢ƒä¸‹çš„å…¼å®¹æ€§å’Œæ­£ç¡®æ€§

// æµ‹è¯•1: å¤šè¯­è¨€å­—ç¬¦é›†å¤„ç†
test "å¤šè¯­è¨€å­—ç¬¦é›†å¤„ç†æµ‹è¯•" {
  // æµ‹è¯•å„ç§è¯­è¨€çš„å­—ç¬¦é›†
  let multilingual_strings = [
    ("ä¸­æ–‡", "Chinese"),
    ("æ—¥æœ¬èª", "Japanese"),
    ("í•œêµ­ì–´", "Korean"),
    ("Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", "Arabic"),
    ("×¢×‘×¨×™×ª", "Hebrew"),
    ("Ğ ÑƒÑÑĞºĞ¸Ğ¹", "Russian"),
    ("EspaÃ±ol", "Spanish"),
    ("FranÃ§ais", "French"),
    ("Deutsch", "German"),
    ("PortuguÃªs", "Portuguese"),
    ("Italiano", "Italian"),
    ("Nederlands", "Dutch"),
    ("Svenska", "Swedish"),
    ("Norsk", "Norwegian"),
    ("Dansk", "Danish"),
    ("Suomi", "Finnish"),
    ("Polski", "Polish"),
    ("ÄŒeÅ¡tina", "Czech"),
    ("Magyar", "Hungarian"),
    ("RomÃ¢nÄƒ", "Romanian"),
    ("Ğ‘ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸", "Bulgarian"),
    ("Hrvatski", "Croatian"),
    ("Srpski", "Serbian"),
    ("SlovenÄina", "Slovak"),
    ("SlovenÅ¡Äina", "Slovenian"),
    ("Î•Î»Î»Î·Î½Î¹ÎºÎ¬", "Greek"),
    ("TÃ¼rkÃ§e", "Turkish"),
    ("Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°", "Ukrainian"),
    ("Ğ‘ĞµĞ»Ğ°Ñ€ÑƒÑĞºĞ°Ñ", "Belarusian"),
    ("ÒšĞ°Ğ·Ğ°Ò›ÑˆĞ°", "Kazakh")
  ]
  
  // éªŒè¯å¤šè¯­è¨€å­—ç¬¦ä¸²å¤„ç†
  for (native_name, english_name) in multilingual_strings {
    // éªŒè¯å­—ç¬¦ä¸²ä¸ä¸ºç©º
    assert_true(native_name.length() > 0)
    assert_true(english_name.length() > 0)
    
    // éªŒè¯å­—ç¬¦ä¸²å¯ä»¥æ­£ç¡®è½¬æ¢å¤§å°å†™ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
    let native_upper = native_name.to_uppercase()
    let native_lower = native_name.to_lowercase()
    
    assert_true(native_upper.length() > 0)
    assert_true(native_lower.length() > 0)
    
    // éªŒè¯è‹±æ–‡åç§°å¯ä»¥æ­£ç¡®è½¬æ¢å¤§å°å†™
    let english_upper = english_name.to_uppercase()
    let english_lower = english_name.to_lowercase()
    
    assert_eq(english_upper, english_name.to_uppercase())
    assert_eq(english_lower, english_name.to_lowercase())
    
    // éªŒè¯å­—ç¬¦ä¸²å¯ä»¥æ­£ç¡®åºåˆ—åŒ–å’Œååºåˆ—åŒ–
    let serialized_native = native_name.to_string()
    let serialized_english = english_name.to_string()
    
    assert_eq(serialized_native, native_name)
    assert_eq(serialized_english, english_name)
  }
  
  // æµ‹è¯•Unicodeå­—ç¬¦å¤„ç†
  let unicode_strings = [
    "ğŸš€ Rocket",
    "ğŸŒŸ Star",
    "ğŸ’« Comet",
    "âœ¨ Sparkle",
    "ğŸ¯ Target",
    "ğŸ“Š Chart",
    "ğŸ“ˆ Trend",
    "ğŸ“‰ Decline",
    "ğŸ” Search",
    "âš™ï¸ Settings",
    "ğŸŒ Global",
    "ğŸ¢ Building",
    "ğŸ‘¥ Team",
    "ğŸ”— Link",
    "ğŸ“ Document"
  ]
  
  // éªŒè¯Unicodeå­—ç¬¦ä¸²å¤„ç†
  for unicode_string in unicode_strings {
    assert_true(unicode_string.length() > 0)
    
    // éªŒè¯åŒ…å«è¡¨æƒ…ç¬¦å·çš„å­—ç¬¦ä¸²å¯ä»¥æ­£ç¡®å¤„ç†
    let serialized_unicode = unicode_string.to_string()
    assert_eq(serialized_unicode, unicode_string)
    
    // éªŒè¯å­—ç¬¦ä¸²æ“ä½œ
    let contains_emoji = unicode_string.contains("ğŸš€") || 
                         unicode_string.contains("ğŸŒŸ") || 
                         unicode_string.contains("ğŸ’«") ||
                         unicode_string.contains("âœ¨")
    
    // ä¸æ˜¯æ‰€æœ‰å­—ç¬¦ä¸²éƒ½åŒ…å«æˆ‘ä»¬æµ‹è¯•çš„è¡¨æƒ…ç¬¦å·
    if contains_emoji {
      assert_true(unicode_string.length() >= 2)  // è¡¨æƒ…ç¬¦å· + è‡³å°‘ä¸€ä¸ªå­—ç¬¦
    }
  }
}

// æµ‹è¯•2: ä¸åŒåœ°åŒºæ—¥æœŸæ—¶é—´æ ¼å¼
test "ä¸åŒåœ°åŒºæ—¥æœŸæ—¶é—´æ ¼å¼æµ‹è¯•" {
  // å®šä¹‰ä¸åŒåœ°åŒºçš„æ—¥æœŸæ—¶é—´æ ¼å¼
  let locale_datetime_formats = [
    ("en-US", "MM/DD/YYYY hh:mm:ss A"),      // ç¾å›½è‹±è¯­
    ("en-GB", "DD/MM/YYYY HH:mm:ss"),        // è‹±å›½è‹±è¯­
    ("zh-CN", "YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss"),     // ä¸­å›½å¤§é™†
    ("zh-TW", "YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss"),     // å°æ¹¾
    ("ja-JP", "YYYY/MM/DD HH:mm:ss"),        // æ—¥æœ¬
    ("ko-KR", "YYYY. MM. DD. HH:mm:ss"),     // éŸ©å›½
    ("fr-FR", "DD/MM/YYYY HH:mm:ss"),        // æ³•å›½
    ("de-DE", "DD.MM.YYYY HH:mm:ss"),        // å¾·å›½
    ("es-ES", "DD/MM/YYYY HH:mm:ss"),        // è¥¿ç­ç‰™
    ("it-IT", "DD/MM/YYYY HH:mm:ss"),        // æ„å¤§åˆ©
    ("pt-BR", "DD/MM/YYYY HH:mm:ss"),        // å·´è¥¿è‘¡è„ç‰™
    ("ru-RU", "DD.MM.YYYY HH:mm:ss"),        // ä¿„ç½—æ–¯
    ("ar-SA", "DD/MM/YYYY HH:mm:ss"),        // æ²™ç‰¹é˜¿æ‹‰ä¼¯
    ("he-IL", "DD/MM/YYYY HH:mm:ss"),        // ä»¥è‰²åˆ—
    ("th-TH", "DD/MM/YYYY HH:mm:ss"),        // æ³°å›½
    ("hi-IN", "DD/MM/YYYY HH:mm:ss"),        // å°åº¦
    ("tr-TR", "DD.MM.YYYY HH:mm:ss")         // åœŸè€³å…¶
  ]
  
  // æµ‹è¯•æ—¶é—´æˆ³
  let test_timestamp = 1640995200000L  // 2022-01-01 00:00:00 UTC
  
  // éªŒè¯ä¸åŒåœ°åŒºçš„æ—¥æœŸæ—¶é—´æ ¼å¼
  for (locale, format) in locale_datetime_formats {
    // éªŒè¯åœ°åŒºä»£ç æ ¼å¼
    assert_eq(locale.length(), 5)  // xx-XXæ ¼å¼
    assert_eq(locale[2], '-')
    
    // éªŒè¯æ ¼å¼å­—ç¬¦ä¸²åŒ…å«å¿…è¦çš„ç»„æˆéƒ¨åˆ†
    assert_true(format.contains("YYYY") || format.contains("YY"))
    assert_true(format.contains("MM"))
    assert_true(format.contains("DD"))
    assert_true(format.contains("HH"))
    assert_true(format.contains("mm"))
    assert_true(format.contains("ss"))
    
    // éªŒè¯æ ¼å¼å­—ç¬¦ä¸²ä¸ä¸ºç©º
    assert_true(format.length() > 0)
    
    // æ¨¡æ‹Ÿæ—¥æœŸæ—¶é—´æ ¼å¼åŒ–
    let formatted_datetime = format
      .replace("YYYY", "2022")
      .replace("MM", "01")
      .replace("DD", "01")
      .replace("HH", "00")
      .replace("mm", "00")
      .replace("ss", "00")
      .replace("A", "AM")
    
    // éªŒè¯æ ¼å¼åŒ–ç»“æœåŒ…å«é¢„æœŸçš„æ—¥æœŸæ—¶é—´
    assert_true(formatted_datetime.contains("2022") || formatted_datetime.contains("22"))
    assert_true(formatted_datetime.contains("01"))
    assert_true(formatted_datetime.contains("00"))
  }
  
  // æµ‹è¯•æ—¶åŒºå¤„ç†
  let timezones = [
    ("UTC", "+00:00"),
    ("America/New_York", "-05:00"),
    ("America/Los_Angeles", "-08:00"),
    ("Europe/London", "+00:00"),
    ("Europe/Paris", "+01:00"),
    ("Europe/Berlin", "+01:00"),
    ("Asia/Tokyo", "+09:00"),
    ("Asia/Shanghai", "+08:00"),
    ("Asia/Seoul", "+09:00"),
    ("Asia/Dubai", "+04:00"),
    ("Asia/Kolkata", "+05:30"),
    ("Australia/Sydney", "+11:00"),
    ("Pacific/Auckland", "+13:00")
  ]
  
  // éªŒè¯æ—¶åŒºå¤„ç†
  for (timezone_name, offset) in timezones {
    assert_true(timezone_name.length() > 0)
    assert_true(offset.length() == 6)  // Â±HH:MMæ ¼å¼
    
    // éªŒè¯åç§»é‡æ ¼å¼
    assert_true(offset[0] == '+' || offset[0] == '-')
    assert_true(offset[3] == ':')
    
    // æ¨¡æ‹Ÿæ—¶åŒºè½¬æ¢
    let base_hour = 12
    let offset_hours = offset.substring(1, 3).to_int()
    let offset_minutes = offset.substring(4, 6).to_int()
    
    let local_hour = if offset[0] == '+' {
      (base_hour + offset_hours) % 24
    } else {
      (base_hour - offset_hours + 24) % 24
    }
    
    assert_true(local_hour >= 0 && local_hour <= 23)
  }
}

// æµ‹è¯•3: æ•°å­—æ ¼å¼å’Œè´§å¸
test "æ•°å­—æ ¼å¼å’Œè´§å¸æµ‹è¯•" {
  // å®šä¹‰ä¸åŒåœ°åŒºçš„æ•°å­—æ ¼å¼
  let locale_number_formats = [
    ("en-US", "1,234,567.89"),      // ç¾å›½è‹±è¯­ï¼šé€—å·ä½œä¸ºåƒä½åˆ†éš”ç¬¦ï¼Œç‚¹ä½œä¸ºå°æ•°ç‚¹
    ("en-GB", "1,234,567.89"),      // è‹±å›½è‹±è¯­ï¼šåŒç¾å›½
    ("zh-CN", "1,234,567.89"),      // ä¸­å›½å¤§é™†ï¼šåŒç¾å›½
    ("de-DE", "1.234.567,89"),      // å¾·å›½ï¼šç‚¹ä½œä¸ºåƒä½åˆ†éš”ç¬¦ï¼Œé€—å·ä½œä¸ºå°æ•°ç‚¹
    ("fr-FR", "1 234 567,89"),      // æ³•å›½ï¼šç©ºæ ¼ä½œä¸ºåƒä½åˆ†éš”ç¬¦ï¼Œé€—å·ä½œä¸ºå°æ•°ç‚¹
    ("es-ES", "1.234.567,89"),      // è¥¿ç­ç‰™ï¼šåŒå¾·å›½
    ("it-IT", "1.234.567,89"),      // æ„å¤§åˆ©ï¼šåŒå¾·å›½
    ("pt-BR", "1.234.567,89"),      // å·´è¥¿è‘¡è„ç‰™ï¼šåŒå¾·å›½
    ("ru-RU", "1 234 567,89"),      // ä¿„ç½—æ–¯ï¼šç©ºæ ¼ä½œä¸ºåƒä½åˆ†éš”ç¬¦ï¼Œé€—å·ä½œä¸ºå°æ•°ç‚¹
    ("ar-SA", "1,234,567.89"),      // é˜¿æ‹‰ä¼¯ï¼šåŒç¾å›½
    ("hi-IN", "12,34,567.89"),      // å°åº¦ï¼šä¸åŒçš„åƒä½åˆ†éš”ç¬¦è§„åˆ™
    ("tr-TR", "1.234.567,89")       // åœŸè€³å…¶ï¼šåŒå¾·å›½
  ]
  
  // éªŒè¯æ•°å­—æ ¼å¼
  for (locale, formatted_number) in locale_number_formats {
    assert_eq(locale.length(), 5)  // xx-XXæ ¼å¼
    assert_true(formatted_number.length() > 0)
    
    // éªŒè¯æ ¼å¼åŒ–æ•°å­—åŒ…å«æ•°å­—å­—ç¬¦
    let digit_count = 0
    for char in formatted_number.chars() {
      if char >= '0' && char <= '9' {
        digit_count = digit_count + 1
      }
    }
    
    assert_true(digit_count >= 8)  // è‡³å°‘åŒ…å«8ä¸ªæ•°å­—å­—ç¬¦
    
    // éªŒè¯åŒ…å«å°æ•°éƒ¨åˆ†
    assert_true(formatted_number.contains("."))
    
    // éªŒè¯åƒä½åˆ†éš”ç¬¦
    if locale == "en-US" || locale == "en-GB" || locale == "zh-CN" {
      assert_true(formatted_number.contains(","))
    } else if locale == "de-DE" || locale == "es-ES" || locale == "it-IT" || locale == "pt-BR" || locale == "tr-TR" {
      assert_true(formatted_number.contains("."))
    } else if locale == "fr-FR" || locale == "ru-RU" {
      assert_true(formatted_number.contains(" "))
    }
  }
  
  // æµ‹è¯•è´§å¸æ ¼å¼
  let currency_formats = [
    ("en-US", "USD", "$1,234.56"),      // ç¾å…ƒ
    ("en-GB", "GBP", "Â£1,234.56"),      // è‹±é•‘
    ("ja-JP", "JPY", "Â¥1,235"),         // æ—¥å…ƒï¼ˆæ— å°æ•°ï¼‰
    ("zh-CN", "CNY", "Â¥1,234.56"),      // äººæ°‘å¸
    ("ko-KR", "KRW", "â‚©1,235"),         // éŸ©å…ƒï¼ˆæ— å°æ•°ï¼‰
    ("de-DE", "EUR", "1.234,56 â‚¬"),     // æ¬§å…ƒï¼ˆåç½®ï¼‰
    ("fr-FR", "EUR", "1 234,56 â‚¬"),     // æ¬§å…ƒï¼ˆåç½®ï¼Œç©ºæ ¼åˆ†éš”ï¼‰
    ("es-ES", "EUR", "1.234,56 â‚¬"),     // æ¬§å…ƒï¼ˆåç½®ï¼‰
    ("it-IT", "EUR", "â‚¬1.234,56"),      // æ¬§å…ƒï¼ˆå‰ç½®ï¼‰
    ("ru-RU", "RUB", "1 234,56 â‚½"),     // å¢å¸ƒï¼ˆåç½®ï¼‰
    ("tr-TR", "TRY", "â‚º1.234,56"),      // åœŸè€³å…¶é‡Œæ‹‰
    ("ar-SA", "SAR", "Ø±.Ø³.1,234.56"),   // æ²™ç‰¹é‡Œäºšå°”
    ("hi-IN", "INR", "â‚¹1,234.56")       // å°åº¦å¢æ¯”
  ]
  
  // éªŒè¯è´§å¸æ ¼å¼
  for (locale, currency_code, formatted_currency) in currency_formats {
    assert_eq(locale.length(), 5)
    assert_eq(currency_code.length(), 3)
    assert_true(formatted_currency.length() > 0)
    
    // éªŒè¯åŒ…å«è´§å¸ç¬¦å·
    let has_currency_symbol = 
      formatted_currency.contains("$") ||
      formatted_currency.contains("Â£") ||
      formatted_currency.contains("Â¥") ||
      formatted_currency.contains("â‚¬") ||
      formatted_currency.contains("â‚©") ||
      formatted_currency.contains("â‚½") ||
      formatted_currency.contains("â‚º") ||
      formatted_currency.contains("Ø±.Ø³.") ||
      formatted_currency.contains("â‚¹")
    
    assert_true(has_currency_symbol)
    
    // éªŒè¯åŒ…å«æ•°å­—
    let digit_count = 0
    for char in formatted_currency.chars() {
      if char >= '0' && char <= '9' {
        digit_count = digit_count + 1
      }
    }
    
    assert_true(digit_count >= 4)  // è‡³å°‘åŒ…å«4ä¸ªæ•°å­—å­—ç¬¦
  }
}

// æµ‹è¯•4: å¤šè¯­è¨€é”™è¯¯æ¶ˆæ¯
test "å¤šè¯­è¨€é”™è¯¯æ¶ˆæ¯æµ‹è¯•" {
  // å®šä¹‰å¤šè¯­è¨€é”™è¯¯æ¶ˆæ¯
  let multilingual_error_messages = [
    ("en", "Connection timeout occurred"),
    ("zh", "è¿æ¥è¶…æ—¶"),
    ("ja", "æ¥ç¶šã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãŒç™ºç”Ÿã—ã¾ã—ãŸ"),
    ("ko", "ì—°ê²° ì‹œê°„ ì´ˆê³¼ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"),
    ("es", "Se produjo un tiempo de espera de conexiÃ³n"),
    ("fr", "Un dÃ©lai de connexion s'est produit"),
    ("de", "Verbindungs-Timeout aufgetreten"),
    ("it", "Si Ã¨ verificato un timeout di connessione"),
    ("pt", "Ocorreu um tempo limite de conexÃ£o"),
    ("ru", "ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞµĞ» Ñ‚Ğ°Ğ¹Ğ¼-Ğ°ÑƒÑ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ"),
    ("ar", "Ø­Ø¯Ø« Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù‡Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„"),
    ("hi", "à¤•à¤¨à¥‡à¤•à¥à¤¶à¤¨ à¤Ÿà¤¾à¤‡à¤®à¤†à¤‰à¤Ÿ à¤¹à¥à¤†"),
    ("tr", "BaÄŸlantÄ± zaman aÅŸÄ±mÄ± oluÅŸtu"),
    ("th", "à¸«à¸¡à¸”à¹€à¸§à¸¥à¸²à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­"),
    ("he", "××™×¨×¢ ×–××Ÿ ×§×¦×•×‘ ×©×œ ×—×™×‘×•×¨")
  ]
  
  // éªŒè¯å¤šè¯­è¨€é”™è¯¯æ¶ˆæ¯
  for (language_code, error_message) in multilingual_error_messages {
    // éªŒè¯è¯­è¨€ä»£ç 
    assert_true(language_code.length() >= 2)
    assert_true(language_code.length() <= 5)
    
    // éªŒè¯é”™è¯¯æ¶ˆæ¯ä¸ä¸ºç©º
    assert_true(error_message.length() > 0)
    
    // éªŒè¯é”™è¯¯æ¶ˆæ¯å¯ä»¥æ­£ç¡®åºåˆ—åŒ–å’Œååºåˆ—åŒ–
    let serialized_message = error_message.to_string()
    assert_eq(serialized_message, error_message)
    
    // éªŒè¯é”™è¯¯æ¶ˆæ¯åŒ…å«å…³é”®è¯ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
    if language_code == "en" {
      assert_true(error_message.contains("timeout") || error_message.contains("Timeout"))
    } else if language_code == "zh" {
      assert_true(error_message.contains("è¶…æ—¶"))
    } else if language_code == "ja" {
      assert_true(error_message.contains("ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ"))
    }
    
    // éªŒè¯é”™è¯¯æ¶ˆæ¯å¯ä»¥æ­£ç¡®è½¬æ¢å¤§å°å†™ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
    let upper_message = error_message.to_uppercase()
    let lower_message = error_message.to_lowercase()
    
    assert_true(upper_message.length() > 0)
    assert_true(lower_message.length() > 0)
  }
  
  // æµ‹è¯•é”™è¯¯ä»£ç å’Œå¤šè¯­è¨€æ¶ˆæ¯çš„æ˜ å°„
  let error_code_messages = [
    ("E001", "en", "Invalid configuration"),
    ("E001", "zh", "æ— æ•ˆé…ç½®"),
    ("E001", "ja", "ç„¡åŠ¹ãªæ§‹æˆ"),
    ("E002", "en", "Resource not found"),
    ("E002", "zh", "èµ„æºæœªæ‰¾åˆ°"),
    ("E002", "ja", "ãƒªã‚½ãƒ¼ã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"),
    ("E003", "en", "Access denied"),
    ("E003", "zh", "è®¿é—®è¢«æ‹’ç»"),
    ("E003", "ja", "ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦")
  ]
  
  // éªŒè¯é”™è¯¯ä»£ç å’Œå¤šè¯­è¨€æ¶ˆæ¯æ˜ å°„
  for (error_code, language_code, message) in error_code_messages {
    // éªŒè¯é”™è¯¯ä»£ç æ ¼å¼
    assert_eq(error_code.length(), 4)
    assert_true(error_code[0] == 'E')
    assert_true(error_code[1] >= '0' && error_code[1] <= '9')
    assert_true(error_code[2] >= '0' && error_code[2] <= '9')
    assert_true(error_code[3] >= '0' && error_code[3] <= '9')
    
    // éªŒè¯è¯­è¨€ä»£ç 
    assert_true(language_code.length() >= 2)
    
    // éªŒè¯æ¶ˆæ¯ä¸ä¸ºç©º
    assert_true(message.length() > 0)
    
    // éªŒè¯æ¶ˆæ¯å¯ä»¥æ­£ç¡®åºåˆ—åŒ–
    let serialized_message = message.to_string()
    assert_eq(serialized_message, message)
  }
}

// æµ‹è¯•5: å¤šè¯­è¨€å±æ€§é”®å’Œå€¼
test "å¤šè¯­è¨€å±æ€§é”®å’Œå€¼æµ‹è¯•" {
  // å®šä¹‰å¤šè¯­è¨€å±æ€§é”®å’Œå€¼
  let multilingual_attributes = [
    ("service.name", "æœåŠ¡åç§°", "Service Name", "ã‚µãƒ¼ãƒ“ã‚¹å", "ì„œë¹„ìŠ¤ ì´ë¦„"),
    ("service.version", "æœåŠ¡ç‰ˆæœ¬", "Service Version", "ã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³", "ì„œë¹„ìŠ¤ ë²„ì „"),
    ("host.name", "ä¸»æœºå", "Host Name", "ãƒ›ã‚¹ãƒˆå", "í˜¸ìŠ¤íŠ¸ ì´ë¦„"),
    ("error.message", "é”™è¯¯æ¶ˆæ¯", "Error Message", "ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸", "ì˜¤ë¥˜ ë©”ì‹œì§€"),
    ("user.id", "ç”¨æˆ·ID", "User ID", "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID", "ì‚¬ìš©ì ID"),
    ("request.id", "è¯·æ±‚ID", "Request ID", "ãƒªã‚¯ã‚¨ã‚¹ãƒˆID", "ìš”ì²­ ID"),
    ("trace.id", "è¿½è¸ªID", "Trace ID", "ãƒˆãƒ¬ãƒ¼ã‚¹ID", "ì¶”ì  ID"),
    ("span.name", "è·¨åº¦åç§°", "Span Name", "ã‚¹ãƒ‘ãƒ³å", "ìŠ¤íŒ¬ ì´ë¦„"),
    ("metric.name", "åº¦é‡åç§°", "Metric Name", "ãƒ¡ãƒˆãƒªãƒƒã‚¯å", "ë©”íŠ¸ë¦­ ì´ë¦„"),
    ("log.level", "æ—¥å¿—çº§åˆ«", "Log Level", "ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«", "ë¡œê·¸ ë ˆë²¨")
  ]
  
  // éªŒè¯å¤šè¯­è¨€å±æ€§
  for (key, zh_value, en_value, ja_value, ko_value) in multilingual_attributes {
    // éªŒè¯é”®æ ¼å¼
    assert_true(key.contains("."))
    assert_true(key.length() > 0)
    
    // éªŒè¯æ‰€æœ‰è¯­è¨€å€¼éƒ½ä¸ä¸ºç©º
    assert_true(zh_value.length() > 0)
    assert_true(en_value.length() > 0)
    assert_true(ja_value.length() > 0)
    assert_true(ko_value.length() > 0)
    
    // éªŒè¯æ‰€æœ‰è¯­è¨€å€¼éƒ½å¯ä»¥æ­£ç¡®åºåˆ—åŒ–
    assert_eq(zh_value.to_string(), zh_value)
    assert_eq(en_value.to_string(), en_value)
    assert_eq(ja_value.to_string(), ja_value)
    assert_eq(ko_value.to_string(), ko_value)
    
    // éªŒè¯é”®å€¼å¯¹å¯ä»¥æ­£ç¡®ç»„åˆ
    let zh_pair = key + "=" + zh_value
    let en_pair = key + "=" + en_value
    let ja_pair = key + "=" + ja_value
    let ko_pair = key + "=" + ko_value
    
    assert_true(zh_pair.contains(key))
    assert_true(en_pair.contains(key))
    assert_true(ja_pair.contains(key))
    assert_true(ko_pair.contains(key))
    
    assert_true(zh_pair.contains(zh_value))
    assert_true(en_pair.contains(en_value))
    assert_true(ja_pair.contains(ja_value))
    assert_true(ko_pair.contains(ko_value))
  }
  
  // æµ‹è¯•å¤šè¯­è¨€å±æ€§åºåˆ—åŒ–å’Œååºåˆ—åŒ–
  let attribute_sets = [
    [("service.name", "ç”¨æˆ·æœåŠ¡"), ("service.version", "1.0.0")],
    [("service.name", "User Service"), ("service.version", "1.0.0")],
    [("service.name", "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹"), ("service.version", "1.0.0")],
    [("service.name", "ì‚¬ìš©ì ì„œë¹„ìŠ¤"), ("service.version", "1.0.0")]
  ]
  
  // éªŒè¯å±æ€§é›†åºåˆ—åŒ–
  for attributes in attribute_sets {
    let serialized = attributes.map(|(key, value)| key + "=" + value).reduce(|acc, pair| acc + "," + pair, "")
    
    // éªŒè¯åºåˆ—åŒ–ç»“æœåŒ…å«æ‰€æœ‰å±æ€§
    for (key, value) in attributes {
      let expected_pair = key + "=" + value
      assert_true(serialized.contains(expected_pair))
    }
    
    // éªŒè¯ååºåˆ—åŒ–
    let pairs = serialized.split(",")
    assert_eq(pairs.length(), attributes.length())
    
    for pair in pairs {
      assert_true(pair.contains("="))
      let parts = pair.split("=")
      assert_eq(parts.length(), 2)
      assert_true(parts[0].length() > 0)
      assert_true(parts[1].length() > 0)
    }
  }
}

// æµ‹è¯•6: åœ°åŒºç‰¹å®šçš„åº¦é‡å•ä½
test "åœ°åŒºç‰¹å®šçš„åº¦é‡å•ä½æµ‹è¯•" {
  // å®šä¹‰ä¸åŒåœ°åŒºçš„åº¦é‡å•ä½
  let locale_units = [
    ("en-US", "mi", "mile", "miles"),     // è‹±é‡Œï¼ˆç¾å›½ï¼‰
    ("en-GB", "mi", "mile", "miles"),     // è‹±é‡Œï¼ˆè‹±å›½ï¼‰
    ("zh-CN", "km", "kilometer", "kilometers"),  // åƒç±³ï¼ˆä¸­å›½ï¼‰
    ("ja-JP", "km", "kilometer", "kilometers"),  // åƒç±³ï¼ˆæ—¥æœ¬ï¼‰
    ("ko-KR", "km", "kilometer", "kilometers"),  // åƒç±³ï¼ˆéŸ©å›½ï¼‰
    ("de-DE", "km", "kilometer", "kilometers"),  // åƒç±³ï¼ˆå¾·å›½ï¼‰
    ("fr-FR", "km", "kilometer", "kilometers"),  // åƒç±³ï¼ˆæ³•å›½ï¼‰
    ("es-ES", "km", "kilometer", "kilometers"),  // åƒç±³ï¼ˆè¥¿ç­ç‰™ï¼‰
    ("it-IT", "km", "kilometer", "kilometers"),  // åƒç±³ï¼ˆæ„å¤§åˆ©ï¼‰
    ("pt-BR", "km", "kilometer", "kilometers"),  // åƒç±³ï¼ˆå·´è¥¿ï¼‰
    ("ru-RU", "km", "ĞºĞ¸Ğ»Ğ¾Ğ¼ĞµÑ‚Ñ€", "ĞºĞ¸Ğ»Ğ¾Ğ¼ĞµÑ‚Ñ€Ñ‹"),     // åƒç±³ï¼ˆä¿„ç½—æ–¯ï¼‰
    ("ar-SA", "km", "ÙƒÙŠÙ„ÙˆÙ…ØªØ±", "ÙƒÙŠÙ„ÙˆÙ…ØªØ±Ø§Øª"),      // åƒç±³ï¼ˆé˜¿æ‹‰ä¼¯ï¼‰
    ("hi-IN", "km", "à¤•à¤¿à¤²à¥‹à¤®à¥€à¤Ÿà¤°", "à¤•à¤¿à¤²à¥‹à¤®à¥€à¤Ÿà¤°"),       // åƒç±³ï¼ˆå°åº¦ï¼‰
    ("tr-TR", "km", "kilometre", "kilometres")     // åƒç±³ï¼ˆåœŸè€³å…¶ï¼‰
  ]
  
  // éªŒè¯åœ°åŒºå•ä½
  for (locale, abbreviation, singular, plural) in locale_units {
    // éªŒè¯åœ°åŒºä»£ç æ ¼å¼
    assert_eq(locale.length(), 5)
    assert_eq(locale[2], '-')
    
    // éªŒè¯å•ä½ç¼©å†™
    assert_true(abbreviation.length() >= 1)
    assert_true(abbreviation.length() <= 3)
    
    // éªŒè¯å•æ•°å½¢å¼
    assert_true(singular.length() > 0)
    
    // éªŒè¯å¤æ•°å½¢å¼
    assert_true(plural.length() > 0)
    
    // éªŒè¯å•ä½å¯ä»¥æ­£ç¡®åºåˆ—åŒ–
    assert_eq(abbreviation.to_string(), abbreviation)
    assert_eq(singular.to_string(), singular)
    assert_eq(plural.to_string(), plural)
  }
  
  // æµ‹è¯•æ¸©åº¦å•ä½
  let temperature_units = [
    ("en-US", "F", "Fahrenheit"),      // åæ°åº¦ï¼ˆç¾å›½ï¼‰
    ("en-GB", "C", "Celsius"),         // æ‘„æ°åº¦ï¼ˆè‹±å›½ï¼‰
    ("zh-CN", "C", "æ‘„æ°åº¦"),          // æ‘„æ°åº¦ï¼ˆä¸­å›½ï¼‰
    ("ja-JP", "C", "æ‘‚æ°"),            // æ‘„æ°åº¦ï¼ˆæ—¥æœ¬ï¼‰
    ("ko-KR", "C", "ì„­ì”¨"),            // æ‘„æ°åº¦ï¼ˆéŸ©å›½ï¼‰
    ("de-DE", "C", "Celsius"),         // æ‘„æ°åº¦ï¼ˆå¾·å›½ï¼‰
    ("fr-FR", "C", "Celsius"),         // æ‘„æ°åº¦ï¼ˆæ³•å›½ï¼‰
    ("es-ES", "C", "Celsius"),         // æ‘„æ°åº¦ï¼ˆè¥¿ç­ç‰™ï¼‰
    ("ru-RU", "C", "Ğ¦ĞµĞ»ÑŒÑĞ¸Ğ¹"),         // æ‘„æ°åº¦ï¼ˆä¿„ç½—æ–¯ï¼‰
    ("ar-SA", "C", "Ù…Ø¦ÙˆÙŠØ©"),           // æ‘„æ°åº¦ï¼ˆé˜¿æ‹‰ä¼¯ï¼‰
    ("hi-IN", "C", "à¤¸à¥‡à¤²à¥à¤¸à¤¿à¤¯à¤¸"),        // æ‘„æ°åº¦ï¼ˆå°åº¦ï¼‰
    ("tr-TR", "C", "Santigrat")        // æ‘„æ°åº¦ï¼ˆåœŸè€³å…¶ï¼‰
  ]
  
  // éªŒè¯æ¸©åº¦å•ä½
  for (locale, abbreviation, name) in temperature_units {
    // éªŒè¯åœ°åŒºä»£ç æ ¼å¼
    assert_eq(locale.length(), 5)
    assert_eq(locale[2], '-')
    
    // éªŒè¯æ¸©åº¦ç¼©å†™
    assert_eq(abbreviation.length(), 1)
    assert_true(abbreviation == "F" || abbreviation == "C")
    
    // éªŒè¯æ¸©åº¦åç§°
    assert_true(name.length() > 0)
    
    // éªŒè¯æ¸©åº¦å•ä½å¯ä»¥æ­£ç¡®åºåˆ—åŒ–
    assert_eq(abbreviation.to_string(), abbreviation)
    assert_eq(name.to_string(), name)
    
    // éªŒè¯æ¸©åº¦å€¼æ ¼å¼åŒ–
    let temperature_value = 25.5
    let formatted_temperature = temperature_value.to_string() + "Â°" + abbreviation
    
    assert_true(formatted_temperature.contains("Â°"))
    assert_true(formatted_temperature.contains(abbreviation))
    assert_true(formatted_temperature.contains("25.5"))
  }
  
  // æµ‹è¯•é‡é‡å•ä½
  let weight_units = [
    ("en-US", "lb", "pound", "pounds"),     // ç£…ï¼ˆç¾å›½ï¼‰
    ("en-GB", "kg", "kilogram", "kilograms"),  // åƒå…‹ï¼ˆè‹±å›½ï¼‰
    ("zh-CN", "kg", "åƒå…‹", "åƒå…‹"),           // åƒå…‹ï¼ˆä¸­å›½ï¼‰
    ("ja-JP", "kg", "ã‚­ãƒ­ã‚°ãƒ©ãƒ ", "ã‚­ãƒ­ã‚°ãƒ©ãƒ "),  // åƒå…‹ï¼ˆæ—¥æœ¬ï¼‰
    ("ko-KR", "kg", "í‚¬ë¡œê·¸ë¨", "í‚¬ë¡œê·¸ë¨"),       // åƒå…‹ï¼ˆéŸ©å›½ï¼‰
    ("de-DE", "kg", "Kilogramm", "Kilogramm"),    // åƒå…‹ï¼ˆå¾·å›½ï¼‰
    ("fr-FR", "kg", "kilogramme", "kilogrammes"), // åƒå…‹ï¼ˆæ³•å›½ï¼‰
    ("es-ES", "kg", "kilogramo", "kilogramos"),   // åƒå…‹ï¼ˆè¥¿ç­ç‰™ï¼‰
    ("it-IT", "kg", "chilogrammo", "chilogrammi"), // åƒå…‹ï¼ˆæ„å¤§åˆ©ï¼‰
    ("pt-BR", "kg", "quilograma", "quilogramas"),  // åƒå…‹ï¼ˆå·´è¥¿ï¼‰
    ("ru-RU", "kg", "ĞºĞ¸Ğ»Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼", "ĞºĞ¸Ğ»Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹"),    // åƒå…‹ï¼ˆä¿„ç½—æ–¯ï¼‰
    ("ar-SA", "kg", "ÙƒÙŠÙ„ÙˆØ¬Ø±Ø§Ù…", "ÙƒÙŠÙ„ÙˆØ¬Ø±Ø§Ù…Ø§Øª"),     // åƒå…‹ï¼ˆé˜¿æ‹‰ä¼¯ï¼‰
    ("hi-IN", "kg", "à¤•à¤¿à¤²à¥‹à¤—à¥à¤°à¤¾à¤®", "à¤•à¤¿à¤²à¥‹à¤—à¥à¤°à¤¾à¤®"),      // åƒå…‹ï¼ˆå°åº¦ï¼‰
    ("tr-TR", "kg", "kilogram", "kilogramlar")     // åƒå…‹ï¼ˆåœŸè€³å…¶ï¼‰
  ]
  
  // éªŒè¯é‡é‡å•ä½
  for (locale, abbreviation, singular, plural) in weight_units {
    // éªŒè¯åœ°åŒºä»£ç æ ¼å¼
    assert_eq(locale.length(), 5)
    assert_eq(locale[2], '-')
    
    // éªŒè¯é‡é‡ç¼©å†™
    assert_eq(abbreviation.length(), 2)
    assert_eq(abbreviation, "kg") || assert_eq(abbreviation, "lb")
    
    // éªŒè¯å•æ•°å’Œå¤æ•°å½¢å¼
    assert_true(singular.length() > 0)
    assert_true(plural.length() > 0)
    
    // éªŒè¯é‡é‡å•ä½å¯ä»¥æ­£ç¡®åºåˆ—åŒ–
    assert_eq(abbreviation.to_string(), abbreviation)
    assert_eq(singular.to_string(), singular)
    assert_eq(plural.to_string(), plural)
    
    // éªŒè¯é‡é‡å€¼æ ¼å¼åŒ–
    let weight_value = 75.0
    let formatted_weight_singular = weight_value.to_string() + " " + singular
    let formatted_weight_plural = (weight_value + 1.0).to_string() + " " + plural
    
    assert_true(formatted_weight_singular.contains(singular))
    assert_true(formatted_weight_plural.contains(plural))
    assert_true(formatted_weight_singular.contains("75.0"))
    assert_true(formatted_weight_plural.contains("76.0"))
  }
}