// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹ - Azimuth åº“å¢å¼ºæµ‹è¯•
// åŒ…å«åŸºæœ¬åŠŸèƒ½ã€è¾¹ç•Œæƒ…å†µã€æ•°å­¦æ€§è´¨å’Œå®é™…åº”ç”¨åœºæ™¯çš„æµ‹è¯•

test "add_function_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  let a = 15
  let b = 27
  assert_eq(add(a, b), add(b, a))
  assert_eq(42, add(15, 27))
  assert_eq(42, add(27, 15))
}

test "multiply_function_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹: a * (b + c) = a * b + a * c
  let a = 5
  let b = 8
  let c = 12
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  assert_eq(left_side, right_side)
}

test "divide_with_ceil_fractional_results" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„å°æ•°ç»“æœ
  assert_eq(4, divide_with_ceil(10, 3))   // 3.333... -> 4
  assert_eq(3, divide_with_ceil(8, 3))    // 2.666... -> 3
  assert_eq(7, divide_with_ceil(13, 2))   // 6.5 -> 7
  assert_eq(2, divide_with_ceil(3, 2))    // 1.5 -> 2
}

test "greet_function_unicode_support" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„Unicodeæ”¯æŒ
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸŒŸ!", greet("ğŸŒŸ"))
  assert_eq_string("Hello, Î±Î²Î³!", greet("Î±Î²Î³"))
  assert_eq_string("Hello, Ã±Ã¡Ã©Ã­Ã³Ãº!", greet("Ã±Ã¡Ã©Ã­Ã³Ãº"))
}

test "negative_number_operations_comprehensive" {
  // æµ‹è¯•è´Ÿæ•°è¿ç®—çš„ç»¼åˆæƒ…å†µ
  assert_eq(-10, add(-3, -7))
  assert_eq(-15, multiply(-3, 5))
  assert_eq(15, multiply(-3, -5))
  assert_eq(-3, divide_with_ceil(-10, 3))
  assert_eq(4, divide_with_ceil(-10, -3))
}

test "zero_element_properties" {
  // æµ‹è¯•é›¶å…ƒç´ æ€§è´¨
  assert_eq(0, multiply(5, 0))
  assert_eq(0, multiply(0, 5))
  assert_eq(0, multiply(0, 0))
  assert_eq(5, add(5, 0))
  assert_eq(0, divide_with_ceil(0, 5))
  assert_eq(0, divide_with_ceil(5, 0))
}

test "complex_business_calculation" {
  // æµ‹è¯•å¤æ‚ä¸šåŠ¡è®¡ç®—åœºæ™¯
  let unit_price = 45
  let quantity = 12
  let discount_rate = 10
  let shipping_cost = 25
  
  // è®¡ç®—å°è®¡
  let subtotal = multiply(unit_price, quantity)
  // è®¡ç®—æŠ˜æ‰£
  let discount = divide_with_ceil(multiply(subtotal, discount_rate), 100)
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_total = add(add(subtotal, -discount), shipping_cost)
  
  assert_eq(540, subtotal)
  assert_eq(54, discount)
  assert_eq(511, final_total)
}

test "resource_allocation_calculation" {
  // æµ‹è¯•èµ„æºåˆ†é…è®¡ç®—
  let total_items = 157
  let container_capacity = 25
  let containers_needed = divide_with_ceil(total_items, container_capacity)
  
  // è®¡ç®—å‰©ä½™ç©ºé—´
  let total_capacity = multiply(containers_needed, container_capacity)
  let remaining_space = add(total_capacity, -total_items)
  
  assert_eq(7, containers_needed)
  assert_eq(175, total_capacity)
  assert_eq(18, remaining_space)
}

test "mathematical_series_summation" {
  // æµ‹è¯•æ•°å­¦çº§æ•°æ±‚å’Œ
  // è®¡ç®—ç­‰å·®æ•°åˆ—å‰né¡¹å’Œ: 1 + 3 + 5 + ... + (2n-1) = nÂ²
  let n = 10
  let series_sum = multiply(n, n)
  
  // éªŒè¯ç»“æœ
  assert_eq(100, series_sum)
  
  // ä½¿ç”¨å¦ä¸€ç§æ–¹æ³•éªŒè¯
  let manual_sum = add(add(add(add(add(1, 3), add(5, 7)), add(9, 11)), add(add(13, 15), add(17, 19)))
  assert_eq(series_sum, manual_sum)
}

test "time_and_project_management" {
  // æµ‹è¯•æ—¶é—´å’Œé¡¹ç›®ç®¡ç†è®¡ç®—
  let total_tasks = 67
  let tasks_per_day = 8
  let work_days_per_week = 5
  
  // è®¡ç®—éœ€è¦çš„å·¥ä½œæ—¥
  let work_days_needed = divide_with_ceil(total_tasks, tasks_per_day)
  // è®¡ç®—éœ€è¦çš„å‘¨æ•°
  let weeks_needed = divide_with_ceil(work_days_needed, work_days_per_week)
  // è®¡ç®—æ€»å·¥ä½œå°æ—¶æ•°
  let total_work_hours = multiply(work_days_needed, 8)
  
  assert_eq(9, work_days_needed)
  assert_eq(2, weeks_needed)
  assert_eq(72, total_work_hours)
}