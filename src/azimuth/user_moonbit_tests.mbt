// ç”¨æˆ·è‡ªå®šä¹‰çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• Azimuth é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•

test "basic_arithmetic_operations" {
  // æµ‹è¯•åŸºæœ¬ç®—æœ¯è¿ç®—
  assert_eq(10, add(3, 7))
  assert_eq(-2, add(5, -7))
  assert_eq(15, multiply(3, 5))
  assert_eq(-12, multiply(-3, 4))
  assert_eq(0, multiply(0, 123))
}

test "string_processing_functions" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†åŠŸèƒ½
  assert_eq_string("Hello, Alice!", greet("Alice"))
  assert_eq_string("Hello, Bob123!", greet("Bob123"))
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, æµ‹è¯•!", greet("æµ‹è¯•"))
}

test "mathematical_commutativity" {
  // æµ‹è¯•æ•°å­¦äº¤æ¢å¾‹
  let a = 12
  let b = 8
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(add(a, b), add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(multiply(a, b), multiply(b, a))
  
  // æµ‹è¯•è´Ÿæ•°çš„æƒ…å†µ
  let c = -5
  let d = 15
  
  assert_eq(add(c, d), add(d, c))
  assert_eq(multiply(c, d), multiply(d, c))
}

test "boundary_value_handling" {
  // æµ‹è¯•è¾¹ç•Œå€¼å¤„ç†
  let max_val = 2147483647
  let min_val = -2147483648
  
  // è¾¹ç•Œå€¼åŠ æ³•æµ‹è¯•
  assert_eq(max_val, add(max_val, 1))
  assert_eq(min_val, add(min_val, -1))
  assert_eq(-1, add(max_val, min_val))
  
  // è¾¹ç•Œå€¼ä¹˜æ³•æµ‹è¯•
  assert_eq(0, multiply(max_val, 0))
  assert_eq(min_val, multiply(min_val, 1))
  assert_eq(min_val, multiply(min_val, -1))
}

test "real_world_shopping_cart" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šè´­ç‰©è½¦è®¡ç®—
  let item1_price = 99
  let item1_quantity = 2
  let item2_price = 149
  let item2_quantity = 1
  let shipping_fee = 12
  
  // è®¡ç®—æ¯ç§å•†å“çš„æ€»ä»·
  let total1 = multiply(item1_price, item1_quantity)
  let total2 = multiply(item2_price, item2_quantity)
  
  // è®¡ç®—è´­ç‰©è½¦æ€»ä»·
  let cart_total = add(add(total1, total2), shipping_fee)
  
  // éªŒè¯æ€»ä»·ï¼š99*2 + 149*1 + 12 = 198 + 149 + 12 = 359
  assert_eq(359, cart_total)
}

test "temperature_conversion_scenario" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šæ¸©åº¦è½¬æ¢
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼šF = C * 2 + 30
  
  let celsius_temp = 20
  let fahrenheit_temp = add(multiply(celsius_temp, 2), 30)
  assert_eq(70, fahrenheit_temp)
  
  // æµ‹è¯•å†°ç‚¹
  let freezing_temp = add(multiply(0, 2), 30)
  assert_eq(30, freezing_temp)
  
  // æµ‹è¯•æ²¸ç‚¹
  let boiling_temp = add(multiply(100, 2), 30)
  assert_eq(230, boiling_temp)
}

test "compound_calculations" {
  // æµ‹è¯•å¤åˆè®¡ç®—åœºæ™¯
  // è®¡ç®— (a + b) * (c - d) + e
  let a = 10
  let b = 5
  let c = 20
  let d = 8
  let e = 15
  
  let sum_ab = add(a, b)  // 15
  let diff_cd = add(c, -d)  // 12
  let product = multiply(sum_ab, diff_cd)  // 180
  let result = add(product, e)  // 195
  
  assert_eq(195, result)
}

test "special_character_strings" {
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦å­—ç¬¦ä¸²å¤„ç†
  assert_eq_string("Hello, user@example.com!", greet("user@example.com"))
  assert_eq_string("Hello, John_Doe123!", greet("John_Doe123"))
  assert_eq_string("Hello,   spaced   !", greet("  spaced   "))
  assert_eq_string("Hello, ğŸŒŸ!", greet("ğŸŒŸ"))
}

test "assertion_functions_test" {
  // æµ‹è¯•æ–­è¨€å‡½æ•°
  assert_true(true)
  assert_false(false)
  assert_eq(42, 42)
  assert_eq_string("MoonBit", "MoonBit")
  
  // æµ‹è¯•è®¡ç®—ç»“æœçš„æ–­è¨€
  let result = add(17, 25)
  assert_true(result > 40)
  assert_false(result < 40)
}

test "mathematical_series_calculation" {
  // æµ‹è¯•æ•°å­¦æ•°åˆ—è®¡ç®—
  // è®¡ç®—ç­‰å·®æ•°åˆ—çš„å’Œï¼š3 + 6 + 9 + ... + 30ï¼ˆå‰10ä¸ª3çš„å€æ•°ï¼‰
  // ä½¿ç”¨å…¬å¼ï¼šn Ã— (é¦–é¡¹ + æœ«é¡¹) / 2
  
  let n = 10
  let first = 3
  let last = 30
  
  let series_sum = multiply(n, add(first, last)) / 2
  assert_eq(165, series_sum)  // 10 Ã— (3 + 30) / 2 = 165
}