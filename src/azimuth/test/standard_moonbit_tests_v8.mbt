// æ–°å¢çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

test "add_basic_functionality" {
  // æµ‹è¯•åŸºæœ¬åŠ æ³•åŠŸèƒ½
  @azimuth.assert_eq(5, @azimuth.add(2, 3))
  @azimuth.assert_eq(0, @azimuth.add(-1, 1))
  @azimuth.assert_eq(-10, @azimuth.add(-5, -5))
  @azimuth.assert_eq(100, @azimuth.add(50, 50))
}

test "add_overflow_handling" {
  // æµ‹è¯•åŠ æ³•æº¢å‡ºå¤„ç†
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æ­£æ•°æº¢å‡º
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1))
  @azimuth.assert_eq(max_val, @azimuth.add(1000000000, 1500000000))
  
  // æµ‹è¯•è´Ÿæ•°æº¢å‡º
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -1))
  @azimuth.assert_eq(min_val, @azimuth.add(-1000000000, -1500000000))
  
  // æµ‹è¯•è¾¹ç•Œå€¼ç»„åˆ
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
}

test "multiply_basic_functionality" {
  // æµ‹è¯•åŸºæœ¬ä¹˜æ³•åŠŸèƒ½
  @azimuth.assert_eq(6, @azimuth.multiply(2, 3))
  @azimuth.assert_eq(0, @azimuth.multiply(5, 0))
  @azimuth.assert_eq(-15, @azimuth.multiply(3, -5))
  @azimuth.assert_eq(25, @azimuth.multiply(-5, -5))
  @azimuth.assert_eq(100, @azimuth.multiply(10, 10))
}

test "multiply_overflow_handling" {
  // æµ‹è¯•ä¹˜æ³•æº¢å‡ºå¤„ç†
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æ­£æ•°æº¢å‡º
  @azimuth.assert_eq(max_val, @azimuth.multiply(46341, 46341))
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 2))
  
  // æµ‹è¯•è´Ÿæ•°æº¢å‡º
  @azimuth.assert_eq(min_val, @azimuth.multiply(-46341, 46341))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 2))
  
  // æµ‹è¯•ç‰¹æ®Šè¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
}

test "greet_function_basic" {
  // æµ‹è¯•åŸºæœ¬é—®å€™åŠŸèƒ½
  @azimuth.assert_eq_string("Hello, World!", @azimuth.greet("World"))
  @azimuth.assert_eq_string("Hello, MoonBit!", @azimuth.greet("MoonBit"))
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, A!", @azimuth.greet("A"))
}

test "greet_function_special_characters" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„ç‰¹æ®Šå­—ç¬¦å¤„ç†
  @azimuth.assert_eq_string("Hello, ä¸­æ–‡!", @azimuth.greet("ä¸­æ–‡"))
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
  @azimuth.assert_eq_string("Hello, @#$%!", @azimuth.greet("@#$%"))
  @azimuth.assert_eq_string("Hello,   spaced   !", @azimuth.greet("  spaced   "))
  @azimuth.assert_eq_string("Hello, \"quoted\"!", @azimuth.greet("\"quoted\""))
}

test "divide_with_ceil_functionality" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•åŠŸèƒ½
  @azimuth.assert_eq(3, @azimuth.divide_with_ceil(10, 3))
  @azimuth.assert_eq(4, @azimuth.divide_with_ceil(12, 3))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(2, 5))
  @azimuth.assert_eq(-2, @azimuth.divide_with_ceil(-5, 3))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(-3, 5))
}

test "complex_calculation_scenario" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯ï¼šè®¡ç®—ç®€å•åˆ©æ¯å’Œå¤åˆ©
  let principal = 1000
  let rate = 5
  let time = 3
  
  // ç®€å•åˆ©æ¯ï¼šæœ¬é‡‘ Ã— (1 + åˆ©ç‡ Ã— æ—¶é—´)
  let simple_interest = @azimuth.multiply(principal, @azimuth.add(1, @azimuth.multiply(rate, time)))
  @azimuth.assert_eq(16000, simple_interest)
  
  // å¤åˆ©è®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼šæœ¬é‡‘ Ã— (1 + åˆ©ç‡)^æ—¶é—´
  let compound_growth = @azimuth.add(1, rate)
  let compound_factor = @azimuth.multiply(compound_growth, compound_growth)  // (1+rate)^2
  let compound_amount = @azimuth.multiply(principal, compound_factor)
  @azimuth.assert_eq(36000, compound_amount)
}

test "geometry_calculations" {
  // æµ‹è¯•å‡ ä½•è®¡ç®—
  let radius = 5
  
  // åœ†çš„å‘¨é•¿ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š2 Ã— Ï€ Ã— r â‰ˆ 2 Ã— 3 Ã— r
  let circumference = @azimuth.multiply(@azimuth.multiply(2, 3), radius)
  @azimuth.assert_eq(30, circumference)
  
  // åœ†çš„é¢ç§¯ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼šÏ€ Ã— rÂ² â‰ˆ 3 Ã— rÂ²
  let area = @azimuth.multiply(3, @azimuth.multiply(radius, radius))
  @azimuth.assert_eq(75, area)
  
  // çƒä½“ä½“ç§¯ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š4/3 Ã— Ï€ Ã— rÂ³ â‰ˆ 4 Ã— rÂ³
  let volume = @azimuth.multiply(4, @azimuth.multiply(radius, @azimuth.multiply(radius, radius)))
  @azimuth.assert_eq(500, volume)
}

test "assertion_functions_test" {
  // æµ‹è¯•æ–­è¨€å‡½æ•°
  @azimuth.assert_true(true)
  @azimuth.assert_false(false)
  @azimuth.assert_eq(42, 42)
  @azimuth.assert_eq_string("test", "test")
  
  // æµ‹è¯•æ•°å­¦è¡¨è¾¾å¼çš„æ–­è¨€
  let a = 10
  let b = 20
  @azimuth.assert_true(@azimuth.add(a, b) == 30)
  @azimuth.assert_false(@azimuth.add(a, b) == 25)
  @azimuth.assert_eq(200, @azimuth.multiply(a, b))
}