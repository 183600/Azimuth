// è´¨é‡å¯¼å‘çš„æµ‹è¯•å¥—ä»¶ - é’ˆå¯¹ azimuth åº“çš„é«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹
// åŒ…å«è¾¹ç•Œæƒ…å†µã€å®é™…åº”ç”¨åœºæ™¯å’Œæ•°å­¦æ€§è´¨éªŒè¯

test "add_function_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  @azimuth.assert_eq(@azimuth.add(3, 7), @azimuth.add(7, 3))
  @azimuth.assert_eq(@azimuth.add(-5, 10), @azimuth.add(10, -5))
  @azimuth.assert_eq(@azimuth.add(0, 100), @azimuth.add(100, 0))
  @azimuth.assert_eq(@azimuth.add(-20, -30), @azimuth.add(-30, -20))
  @azimuth.assert_eq(@azimuth.add(999, 1), @azimuth.add(1, 999))
}

test "multiply_function_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ï¼ša * (b + c) = a * b + a * c
  let a = 5
  let b = 3
  let c = 7
  
  let left_side = @azimuth.multiply(a, @azimuth.add(b, c))
  let right_side = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
  
  @azimuth.assert_eq(left_side, right_side)  // 5 * (3 + 7) = 5 * 3 + 5 * 7 = 50
}

test "divide_with_ceil_real_world_scenarios" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„å®é™…åº”ç”¨åœºæ™¯
  
  // åœºæ™¯1ï¼šè®¡ç®—éœ€è¦çš„è½¦è¾†æ•°é‡ï¼ˆæ¯è¾†è½¦æœ€å¤šè½½4äººï¼‰
  let passengers = 15
  let capacity_per_vehicle = 4
  let vehicles_needed = @azimuth.divide_with_ceil(passengers, capacity_per_vehicle)
  @azimuth.assert_eq(4, vehicles_needed)  // ceil(15/4) = 4
  
  // åœºæ™¯2ï¼šè®¡ç®—éœ€è¦çš„æˆ¿é—´æ•°é‡ï¼ˆæ¯é—´æˆ¿æœ€å¤šä½3äººï¼‰
  let guests = 10
  let capacity_per_room = 3
  let rooms_needed = @azimuth.divide_with_ceil(guests, capacity_per_room)
  @azimuth.assert_eq(4, rooms_needed)  // ceil(10/3) = 4
}

test "greet_function_multilingual_support" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„å¤šè¯­è¨€æ”¯æŒ
  @azimuth.assert_eq_string("Hello, å¼ ä¸‰!", @azimuth.greet("å¼ ä¸‰"))
  @azimuth.assert_eq_string("Hello, JosÃ©!", @azimuth.greet("JosÃ©"))
  @azimuth.assert_eq_string("Hello, Muhammad!", @azimuth.greet("Muhammad"))
  @azimuth.assert_eq_string("Hello, Ğ’Ğ»Ğ°Ğ´Ğ¸Ğ¼Ğ¸Ñ€!", @azimuth.greet("Ğ’Ğ»Ğ°Ğ´Ğ¸Ğ¼Ğ¸Ñ€"))
  @azimuth.assert_eq_string("Hello, John Doe!", @azimuth.greet("John Doe"))
}

test "complex_business_calculation" {
  // å¤æ‚ä¸šåŠ¡è®¡ç®—ï¼šè®¡ç®—è®¢å•æ€»ä»·ï¼ˆåŒ…æ‹¬ç¨è´¹å’ŒæŠ˜æ‰£ï¼‰
  let unit_price = 25
  let quantity = 12
  let tax_rate = 8  // 8%
  let discount_threshold = 200  // è¶…è¿‡200å…ƒäº«å—æŠ˜æ‰£
  let discount_amount = 15
  
  // è®¡ç®—å°è®¡
  let subtotal = @azimuth.multiply(unit_price, quantity)
  
  // è®¡ç®—ç¨è´¹ï¼ˆå‘ä¸Šå–æ•´ï¼‰
  let tax = @azimuth.divide_with_ceil(@azimuth.multiply(subtotal, tax_rate), 100)
  
  // è®¡ç®—æŠ˜æ‰£å‰æ€»ä»·
  let total_before_discount = @azimuth.add(subtotal, tax)
  
  // åº”ç”¨æŠ˜æ‰£ï¼ˆå¦‚æœæ»¡è¶³æ¡ä»¶ï¼‰
  let final_total = if total_before_discount > discount_threshold {
    @azimuth.add(total_before_discount, -discount_amount)
  } else {
    total_before_discount
  }
  
  // éªŒè¯ç»“æœï¼š25*12 + ceil(300*8/100) - 15 = 300 + 24 - 15 = 309
  @azimuth.assert_eq(309, final_total)
}

test "mathematical_sequence_calculation" {
  // æ•°å­¦åºåˆ—è®¡ç®—ï¼šè®¡ç®—ç­‰å·®æ•°åˆ—çš„å’Œ
  let first_term = 2
  let common_difference = 3
  
  // æ‰‹åŠ¨è®¡ç®—ç­‰å·®æ•°åˆ—ï¼š2 + 5 + 8 + 11 + 14 + 17 = 57
  let term1 = first_term
  let term2 = @azimuth.add(term1, common_difference)  // 5
  let term3 = @azimuth.add(term2, common_difference)  // 8
  let term4 = @azimuth.add(term3, common_difference)  // 11
  let term5 = @azimuth.add(term4, common_difference)  // 14
  let term6 = @azimuth.add(term5, common_difference)  // 17
  
  let sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(term1, term2), term3), term4), term5), term6)
  @azimuth.assert_eq(57, sum)
}

test "error_handling_boundary_conditions" {
  // é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæ¡ä»¶æµ‹è¯•
  
  // æµ‹è¯•é™¤æ•°ä¸ºé›¶çš„æƒ…å†µ
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(100, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(-100, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 0))
  
  // æµ‹è¯•æå€¼æƒ…å†µ
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(1, 1))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(-1, -1))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 1))
  
  // æµ‹è¯•å¤§æ•°è¿ç®—ï¼ˆä½¿ç”¨è¾ƒå°æ•°å€¼é¿å…æº¢å‡ºï¼‰
  let large_num = 10000
  @azimuth.assert_eq(20000, @azimuth.add(large_num, large_num))
  @azimuth.assert_eq(100000000, @azimuth.multiply(large_num, large_num))
}

test "string_processing_with_greet" {
  // å­—ç¬¦ä¸²å¤„ç†ä¸é—®å€™å‡½æ•°ç»“åˆæµ‹è¯•
  
  // æµ‹è¯•ç»„åˆå§“å
  let full_name1 = "John" + " " + "Doe"
  let greeting1 = @azimuth.greet(full_name1)
  @azimuth.assert_eq_string("Hello, John Doe!", greeting1)
  
  let full_name2 = "Mary" + " " + "Smith"
  let greeting2 = @azimuth.greet(full_name2)
  @azimuth.assert_eq_string("Hello, Mary Smith!", greeting2)
  
  let full_name3 = "å¼ " + " " + "ä¸‰"
  let greeting3 = @azimuth.greet(full_name3)
  @azimuth.assert_eq_string("Hello, å¼  ä¸‰!", greeting3)
  
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦å¤„ç†
  @azimuth.assert_eq_string("Hello, @#$%!", @azimuth.greet("@#$%"))
  @azimuth.assert_eq_string("Hello, 123!", @azimuth.greet("123"))
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
  @azimuth.assert_eq_string("Hello, Î±Î²Î³!", @azimuth.greet("Î±Î²Î³"))
}