// MoonBit æµ‹è¯•ç”¨ä¾‹ç¤ºä¾‹
// ä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•ï¼Œæµ‹è¯• azimuth åŒ…çš„æ ¸å¿ƒåŠŸèƒ½

test "basic_arithmetic_operations" {
  // æµ‹è¯•åŸºæœ¬ç®—æœ¯è¿ç®—
  @azimuth.assert_eq(10, @azimuth.add(7, 3))
  @azimuth.assert_eq(-5, @azimuth.add(-8, 3))
  @azimuth.assert_eq(15, @azimuth.multiply(3, 5))
  @azimuth.assert_eq(-12, @azimuth.multiply(-3, 4))
}

test "overflow_protection" {
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤æœºåˆ¶
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•åŠ æ³•æº¢å‡ºä¿æŠ¤
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 100))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -100))
  
  // æµ‹è¯•ä¹˜æ³•æº¢å‡ºä¿æŠ¤
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 2))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 2))
}

test "string_greeting_functionality" {
  // æµ‹è¯•å­—ç¬¦ä¸²é—®å€™åŠŸèƒ½
  @azimuth.assert_eq_string("Hello, MoonBit!", @azimuth.greet("MoonBit"))
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, ç”¨æˆ·123!", @azimuth.greet("ç”¨æˆ·123"))
  @azimuth.assert_eq_string("Hello, ğŸŒ!", @azimuth.greet("ğŸŒ"))
}

test "mathematical_formula_evaluation" {
  // æµ‹è¯•æ•°å­¦å…¬å¼è®¡ç®—
  let a = 8
  let b = 12
  let c = 5
  
  // è®¡ç®— (a + b) * c
  let sum = @azimuth.add(a, b)
  let product = @azimuth.multiply(sum, c)
  @azimuth.assert_eq(100, product)
  
  // è®¡ç®— a * b + c
  let mult = @azimuth.multiply(a, b)
  let result = @azimuth.add(mult, c)
  @azimuth.assert_eq(101, result)
}

test "boundary_value_handling" {
  // æµ‹è¯•è¾¹ç•Œå€¼å¤„ç†
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸1çš„è¿ç®—
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 0))
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 1))
  
  // æµ‹è¯•æœ€å°å€¼ä¸1çš„è¿ç®—
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 1))
  
  // æµ‹è¯•ç‰¹æ®Šå€¼ç»„åˆ
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
}

test "complex_calculation_scenarios" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯
  // åœ†çš„å‘¨é•¿å’Œé¢ç§¯è®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let radius = 7
  let pi_approx = 3
  
  // å‘¨é•¿ = 2 * Ï€ * r
  let circumference = @azimuth.multiply(@azimuth.multiply(2, pi_approx), radius)
  @azimuth.assert_eq(42, circumference)
  
  // é¢ç§¯ = Ï€ * rÂ²
  let area = @azimuth.multiply(pi_approx, @azimuth.multiply(radius, radius))
  @azimuth.assert_eq(147, area)
}

test "real_world_application" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šè®¢å•æ€»ä»·è®¡ç®—
  let item_price = 199
  let quantity = 3
  let shipping_fee = 15
  let tax_rate = 8  // 8%
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = @azimuth.multiply(item_price, quantity)
  
  // è®¡ç®—ç¨è´¹
  let tax = @azimuth.multiply(subtotal, tax_rate) / 100
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let total = @azimuth.add(@azimuth.add(subtotal, tax), shipping_fee)
  
  // éªŒè¯ç»“æœï¼š(199*3) + (199*3*8/100) + 15 = 597 + 47 + 15 = 659
  @azimuth.assert_eq(659, total)
}

test "special_value_combinations" {
  // æµ‹è¯•ç‰¹æ®Šå€¼ç»„åˆ
  let zero = 0
  let one = 1
  let neg_one = -1
  
  // æµ‹è¯•é›¶çš„è¿ç®—ç‰¹æ€§
  @azimuth.assert_eq(5, @azimuth.add(5, zero))
  @azimuth.assert_eq(0, @azimuth.multiply(5, zero))
  
  // æµ‹è¯•1çš„è¿ç®—ç‰¹æ€§
  @azimuth.assert_eq(6, @azimuth.multiply(6, one))
  @azimuth.assert_eq(6, @azimuth.add(5, one))
  
  // æµ‹è¯•-1çš„è¿ç®—ç‰¹æ€§
  @azimuth.assert_eq(-6, @azimuth.multiply(6, neg_one))
  @azimuth.assert_eq(4, @azimuth.add(5, neg_one))
}

test "assertion_function_verification" {
  // æµ‹è¯•æ–­è¨€å‡½æ•°æœ¬èº«
  @azimuth.assert_true(true)
  @azimuth.assert_false(false)
  @azimuth.assert_eq(42, 42)
  @azimuth.assert_eq_string("test", "test")
  
  // æµ‹è¯•å¤åˆæ¡ä»¶
  let x = 10
  let y = 20
  @azimuth.assert_true(@azimuth.add(x, y) == 30)
  @azimuth.assert_false(@azimuth.multiply(x, y) == 150)
}

test "performance_optimization_patterns" {
  // æµ‹è¯•æ€§èƒ½ä¼˜åŒ–æ¨¡å¼
  let base = 100
  
  // æµ‹è¯•è¿ç»­è¿ç®—ä¼˜åŒ–
  let result1 = @azimuth.add(
    @azimuth.add(base, base),
    @azimuth.add(base, base)
  )
  @azimuth.assert_eq(400, result1)
  
  // æµ‹è¯•åµŒå¥—è¿ç®—
  let result2 = @azimuth.multiply(
    @azimuth.add(base, 50),
    @azimuth.add(base, -50)
  )
  @azimuth.assert_eq(7500, result2)
  
  // æµ‹è¯•å¤æ‚è¡¨è¾¾å¼ï¼š(a + b) * (c + d) - e * f
  let a = 10
  let b = 20
  let c = 5
  let d = 15
  let e = 8
  let f = 12
  
  let sum1 = @azimuth.add(a, b)
  let sum2 = @azimuth.add(c, d)
  let product1 = @azimuth.multiply(sum1, sum2)
  let product2 = @azimuth.multiply(e, f)
  let final_result = @azimuth.add(product1, -product2)
  
  @azimuth.assert_eq(504, final_result)
}