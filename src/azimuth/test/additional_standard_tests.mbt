// é¢å¤–çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½

test "add_negative_to_positive" {
  // æµ‹è¯•è´Ÿæ•°åŠ æ­£æ•°çš„ç»“æœ
  @azimuth.assert_eq(0, @azimuth.add(-100, 100))
  @azimuth.assert_eq(50, @azimuth.add(-50, 100))
  @azimuth.assert_eq(-50, @azimuth.add(-100, 50))
}

test "multiply_by_negative_two" {
  // æµ‹è¯•ä¹˜ä»¥-2çš„æƒ…å†µ
  @azimuth.assert_eq(-20, @azimuth.multiply(10, -2))
  @azimuth.assert_eq(20, @azimuth.multiply(-10, -2))
  @azimuth.assert_eq(0, @azimuth.multiply(0, -2))
}

test "greet_with_spaces" {
  // æµ‹è¯•åŒ…å«å„ç§ç©ºæ ¼çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello,   Multiple   Spaces!", @azimuth.greet("  Multiple   Spaces"))
  @azimuth.assert_eq_string("Hello, Leading Space!", @azimuth.greet(" Leading Space"))
  @azimuth.assert_eq_string("Hello, Trailing Space !", @azimuth.greet("Trailing Space "))
}

test "add_sequence_check" {
  // æµ‹è¯•åºåˆ—åŠ æ³•çš„ä¸€è‡´æ€§
  let a = 15
  let b = 25
  let c = 35
  
  // (a + b) + c åº”è¯¥ç­‰äº a + (b + c)
  let result1 = @azimuth.add(@azimuth.add(a, b), c)
  let result2 = @azimuth.add(a, @azimuth.add(b, c))
  @azimuth.assert_eq(result1, result2)
}

test "multiply_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ a * (b + c) = a * b + a * c
  let a = 7
  let b = 12
  let c = 8
  
  let left_side = @azimuth.multiply(a, @azimuth.add(b, c))
  let right_side = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
  @azimuth.assert_eq(left_side, right_side)
}

test "boundary_zero_operations" {
  // æµ‹è¯•ä¸é›¶ç›¸å…³çš„è¾¹ç•Œæ“ä½œ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // é›¶ä¸æå€¼çš„åŠ æ³•
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, 0))
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  
  // é›¶ä¸æå€¼çš„ä¹˜æ³•
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(min_val, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 0))
}

test "greet_with_special_unicode" {
  // æµ‹è¯•ç‰¹æ®ŠUnicodeå­—ç¬¦
  @azimuth.assert_eq_string("Hello, Î±Î²Î³!", @azimuth.greet("Î±Î²Î³"))
  @azimuth.assert_eq_string("Hello, ğŸŒŸâœ¨!", @azimuth.greet("ğŸŒŸâœ¨"))
  @azimuth.assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", @azimuth.greet("ä¸­æ–‡æµ‹è¯•"))
}

test "add_near_boundary_values" {
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œå€¼çš„åŠ æ³•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æ¥è¿‘æœ€å¤§å€¼çš„åŠ æ³•
  @azimuth.assert_eq(max_val, @azimuth.add(max_val - 1, 2))
  @azimuth.assert_eq(max_val, @azimuth.add(max_val - 100, 101))
  
  // æ¥è¿‘æœ€å°å€¼çš„åŠ æ³•
  @azimuth.assert_eq(min_val, @azimuth.add(min_val + 1, -2))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val + 100, -101))
}

test "multiply_large_numbers_safety" {
  // æµ‹è¯•å¤§æ•°ä¹˜æ³•çš„å®‰å…¨æ€§
  let sqrt_max = 46340  // sqrt(2147483647) çš„æ•´æ•°éƒ¨åˆ†
  
  // å®‰å…¨çš„ä¹˜æ³•
  @azimuth.assert_eq(2147395600, @azimuth.multiply(sqrt_max, sqrt_max))
  
  // å¯èƒ½æº¢å‡ºçš„ä¹˜æ³•
  @azimuth.assert_eq(2147483647, @azimuth.multiply(sqrt_max + 1, sqrt_max + 1))
  @azimuth.assert_eq(-2147483648, @azimuth.multiply(-sqrt_max - 1, sqrt_max + 1))
}

test "complex_arithmetic_expression" {
  // æµ‹è¯•å¤æ‚ç®—æœ¯è¡¨è¾¾å¼ï¼š(a + b) * (c - d) + e * f
  let a = 12
  let b = 8
  let c = 20
  let d = 5
  let e = 3
  let f = 7
  
  // åˆ†æ­¥è®¡ç®—
  let sum_ab = @azimuth.add(a, b)  // 20
  let diff_cd = @azimuth.add(c, -d)  // 15
  let product1 = @azimuth.multiply(sum_ab, diff_cd)  // 300
  let product2 = @azimuth.multiply(e, f)  // 21
  let result = @azimuth.add(product1, product2)  // 321
  
  @azimuth.assert_eq(321, result)
}