// é¢å¤–çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹

test "addition_with_large_numbers" {
  // æµ‹è¯•å¤§æ•°ç›¸åŠ 
  @azimuth.assert_eq(@azimuth.add(1000000, 2000000), 3000000)
  @azimuth.assert_eq(@azimuth.add(-1000000, -2000000), -3000000)
  @azimuth.assert_eq(@azimuth.add(1500000000, 1500000000), 2147483647)
}

test "multiplication_precision_test" {
  // æµ‹è¯•ä¹˜æ³•ç²¾åº¦
  @azimuth.assert_eq(@azimuth.multiply(12345, 6789), 83810205)
  @azimuth.assert_eq(@azimuth.multiply(-12345, 6789), -83810205)
  @azimuth.assert_eq(@azimuth.multiply(12345, -6789), -83810205)
  @azimuth.assert_eq(@azimuth.multiply(-12345, -6789), 83810205)
}

test "greet_function_with_various_name_formats" {
  // æµ‹è¯• greet å‡½æ•°å¤„ç†ä¸åŒæ ¼å¼çš„åå­—
  @azimuth.assert_eq_string(@azimuth.greet("John Doe"), "Hello, John Doe!")
  @azimuth.assert_eq_string(@azimuth.greet("  LeadingSpace"), "Hello,   LeadingSpace!")
  @azimuth.assert_eq_string(@azimuth.greet("TrailingSpace  "), "Hello, TrailingSpace  !")
  @azimuth.assert_eq_string(@azimuth.greet("Mixed CASE"), "Hello, Mixed CASE!")
}

test "mathematical_identity_properties" {
  // æµ‹è¯•æ•°å­¦æ’ç­‰æ€§è´¨
  // åŠ æ³•æ’ç­‰ï¼ša + 0 = a
  @azimuth.assert_eq(@azimuth.add(42, 0), 42)
  @azimuth.assert_eq(@azimuth.add(-42, 0), -42)
  
  // ä¹˜æ³•æ’ç­‰ï¼ša * 1 = a
  @azimuth.assert_eq(@azimuth.multiply(42, 1), 42)
  @azimuth.assert_eq(@azimuth.multiply(-42, 1), -42)
  
  // ä¹˜æ³•é›¶æ€§è´¨ï¼ša * 0 = 0
  @azimuth.assert_eq(@azimuth.multiply(42, 0), 0)
  @azimuth.assert_eq(@azimuth.multiply(-42, 0), 0)
}

test "complex_calculation_sequence" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åºåˆ—
  // è®¡ç®—ï¼š((a + b) * c) + (d * e)
  let a = 10
  let b = 20
  let c = 5
  let d = 3
  let e = 4
  
  let sum_ab = @azimuth.add(a, b)  // 30
  let product1 = @azimuth.multiply(sum_ab, c)  // 150
  let product2 = @azimuth.multiply(d, e)  // 12
  let result = @azimuth.add(product1, product2)  // 162
  
  @azimuth.assert_eq(result, 162)
}

test "string_length_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²é•¿åº¦è¾¹ç•Œæƒ…å†µ
  // å•å­—ç¬¦
  @azimuth.assert_eq_string(@azimuth.greet("A"), "Hello, A!")
  
  // ç©ºå­—ç¬¦ä¸²
  @azimuth.assert_eq_string(@azimuth.greet(""), "Hello, !")
  
  // åŒ…å«ç‰¹æ®Šå­—ç¬¦
  @azimuth.assert_eq_string(@azimuth.greet("\n\t"), "Hello, \n\t!")
  
  // Unicodeå­—ç¬¦
  @azimuth.assert_eq_string(@azimuth.greet("ğŸŒŸ"), "Hello, ğŸŒŸ!")
}

test "number_system_conversions" {
  // æµ‹è¯•æ•°å­—ç³»ç»Ÿè½¬æ¢ï¼ˆé€šè¿‡å­—ç¬¦ä¸²è¡¨ç¤ºï¼‰
  // äºŒè¿›åˆ¶è¡¨ç¤º
  @azimuth.assert_eq_string(@azimuth.greet("1010"), "Hello, 1010!")
  
  // åå…­è¿›åˆ¶è¡¨ç¤º
  @azimuth.assert_eq_string(@azimuth.greet("0xFF"), "Hello, 0xFF!")
  
  // ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤º
  @azimuth.assert_eq_string(@azimuth.greet("1.23e4"), "Hello, 1.23e4!")
}

test "financial_calculations" {
  // æµ‹è¯•é‡‘èè®¡ç®—åœºæ™¯
  // è®¡ç®—æŠ˜æ‰£ä»·ï¼šåŸä»· * (1 - æŠ˜æ‰£ç‡)
  let original_price = 1000
  let discount_rate = 20  // 20%
  
  // ç®€åŒ–è®¡ç®—ï¼š1000 * (100 - 20) / 100 = 1000 * 80 / 100 = 800
  let discounted_price = @azimuth.multiply(original_price, 80) / 100
  @azimuth.assert_eq(discounted_price, 800)
  
  // è®¡ç®—ç¨è´¹ï¼šä»·æ ¼ * ç¨ç‡
  let tax_rate = 8  // 8%
  let tax_amount = @azimuth.multiply(original_price, tax_rate) / 100
  @azimuth.assert_eq(tax_amount, 80)
  
  // è®¡ç®—æ€»ä»·ï¼šä»·æ ¼ + ç¨è´¹
  let total_price = @azimuth.add(original_price, tax_amount)
  @azimuth.assert_eq(total_price, 1080)
}

test "geometric_calculations" {
  // æµ‹è¯•å‡ ä½•è®¡ç®—
  // è®¡ç®—æ­£æ–¹å½¢é¢ç§¯ï¼šè¾¹é•¿Â²
  let side_length = 7
  let square_area = @azimuth.multiply(side_length, side_length)
  @azimuth.assert_eq(square_area, 49)
  
  // è®¡ç®—é•¿æ–¹ä½“ä½“ç§¯ï¼šé•¿ Ã— å®½ Ã— é«˜
  let length = 5
  let width = 3
  let height = 4
  
  let base_area = @azimuth.multiply(length, width)  // 15
  let volume = @azimuth.multiply(base_area, height)  // 60
  @azimuth.assert_eq(volume, 60)
  
  // è®¡ç®—æ¢¯å½¢é¢ç§¯ï¼š(ä¸Šåº• + ä¸‹åº•) Ã— é«˜ Ã· 2
  let top_base = 4
  let bottom_base = 8
  let trapezoid_height = 5
  
  let sum_bases = @azimuth.add(top_base, bottom_base)  // 12
  let trapezoid_area = @azimuth.multiply(sum_bases, trapezoid_height) / 2  // 30
  @azimuth.assert_eq(trapezoid_area, 30)
}

test "error_boundary_conditions" {
  // æµ‹è¯•é”™è¯¯è¾¹ç•Œæ¡ä»¶
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼çš„å„ç§è¿ç®—
  @azimuth.assert_eq(@azimuth.add(max_val, max_val), max_val)
  @azimuth.assert_eq(@azimuth.add(max_val, -max_val), 0)
  @azimuth.assert_eq(@azimuth.multiply(max_val, max_val), max_val)
  
  // æµ‹è¯•æœ€å°å€¼çš„å„ç§è¿ç®—
  @azimuth.assert_eq(@azimuth.add(min_val, min_val), min_val)
  @azimuth.assert_eq(@azimuth.add(min_val, -min_val), 0)
  @azimuth.assert_eq(@azimuth.multiply(min_val, min_val), max_val)
  
  // æµ‹è¯•æœ€å¤§å€¼å’Œæœ€å°å€¼çš„æ··åˆè¿ç®—
  @azimuth.assert_eq(@azimuth.add(max_val, min_val), -1)
  @azimuth.assert_eq(@azimuth.multiply(max_val, min_val), min_val)
}