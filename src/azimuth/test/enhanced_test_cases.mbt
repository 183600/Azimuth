// å¢å¼ºçš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åŒ…çš„æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

test "add_function_commutativity" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  assert_eq(azimuth::add(15, 25), azimuth::add(25, 15))
  assert_eq(azimuth::add(-10, 20), azimuth::add(20, -10))
  assert_eq(azimuth::add(0, 100), azimuth::add(100, 0))
}

test "add_function_associativity" {
  // æµ‹è¯•åŠ æ³•ç»“åˆå¾‹ï¼š(a + b) + c = a + (b + c)
  let a = 10
  let b = 20
  let c = 30
  
  let result1 = azimuth::add(azimuth::add(a, b), c)
  let result2 = azimuth::add(a, azimuth::add(b, c))
  assert_eq(result1, result2)
}

test "multiply_function_commutativity" {
  // æµ‹è¯•ä¹˜æ³•äº¤æ¢å¾‹ï¼ša * b = b * a
  assert_eq(azimuth::multiply(12, 15), azimuth::multiply(15, 12))
  assert_eq(azimuth::multiply(-8, 7), azimuth::multiply(7, -8))
  assert_eq(azimuth::multiply(0, 50), azimuth::multiply(50, 0))
}

test "multiply_function_distributivity" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ï¼ša * (b + c) = a * b + a * c
  let a = 5
  let b = 10
  let c = 15
  
  let left_side = azimuth::multiply(a, azimuth::add(b, c))
  let right_side = azimuth::add(azimuth::multiply(a, b), azimuth::multiply(a, c))
  assert_eq(left_side, right_side)
}

test "greet_function_multilingual" {
  // æµ‹è¯•å¤šè¯­è¨€é—®å€™åŠŸèƒ½
  assert_eq_string("Hello, ä¸–ç•Œ!", azimuth::greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸŒ!", azimuth::greet("ğŸŒ"))
  assert_eq_string("Hello, Ã‘oÃ±o!", azimuth::greet("Ã‘oÃ±o"))
  assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", azimuth::greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
}

test "complex_business_calculation" {
  // æµ‹è¯•å¤æ‚ä¸šåŠ¡è®¡ç®—ï¼šè®¢å•æ€»ä»·è®¡ç®—
  let product_price = 199
  let quantity = 3
  let discount_rate = 10
  let tax_rate = 8
  let shipping = 15
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = azimuth::multiply(product_price, quantity)
  // è®¡ç®—æŠ˜æ‰£
  let discount = azimuth::multiply(subtotal, discount_rate) / 100
  // è®¡ç®—æŠ˜åä»·æ ¼
  let discounted_price = azimuth::add(subtotal, -discount)
  // è®¡ç®—ç¨è´¹
  let tax = azimuth::multiply(discounted_price, tax_rate) / 100
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let total = azimuth::add(azimuth::add(discounted_price, tax), shipping)
  
  assert_eq(698, total)
}

test "temperature_conversion_scenario" {
  // æµ‹è¯•æ¸©åº¦è½¬æ¢åœºæ™¯ï¼šæ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼‰
  // F = C * 9/5 + 32ï¼Œç®€åŒ–ä¸º F = C * 2 + 30
  
  let celsius = 25
  let fahrenheit = azimuth::add(azimuth::multiply(celsius, 2), 30)
  assert_eq(80, fahrenheit)
  
  // æµ‹è¯•å†°ç‚¹
  let freezing = 0
  let freezing_f = azimuth::add(azimuth::multiply(freezing, 2), 30)
  assert_eq(30, freezing_f)
  
  // æµ‹è¯•æ²¸ç‚¹
  let boiling = 100
  let boiling_f = azimuth::add(azimuth::multiply(boiling, 2), 30)
  assert_eq(230, boiling_f)
}

test "geometric_calculations" {
  // æµ‹è¯•å‡ ä½•è®¡ç®—ï¼šçŸ©å½¢å’Œä¸‰è§’å½¢é¢ç§¯
  let length = 12
  let width = 8
  
  // çŸ©å½¢é¢ç§¯ = é•¿ Ã— å®½
  let rectangle_area = azimuth::multiply(length, width)
  assert_eq(96, rectangle_area)
  
  // ä¸‰è§’å½¢é¢ç§¯ = åº• Ã— é«˜ Ã· 2
  let base = 10
  let height = 6
  let triangle_area = azimuth::multiply(base, height) / 2
  assert_eq(30, triangle_area)
  
  // æ¢¯å½¢é¢ç§¯ = (ä¸Šåº• + ä¸‹åº•) Ã— é«˜ Ã· 2
  let top_base = 6
  let bottom_base = 10
  let trapezoid_height = 4
  let trapezoid_area = azimuth::multiply(azimuth::add(top_base, bottom_base), trapezoid_height) / 2
  assert_eq(32, trapezoid_area)
}

test "statistical_calculations" {
  // æµ‹è¯•ç»Ÿè®¡è®¡ç®—ï¼šå¹³å‡å€¼ã€æ€»å’Œç­‰
  let numbers = [15, 25, 35, 45, 55]
  
  // è®¡ç®—æ€»å’Œ
  let sum = azimuth::add(azimuth::add(azimuth::add(azimuth::add(15, 25), 35), 45), 55)
  assert_eq(175, sum)
  
  // è®¡ç®—å¹³å‡å€¼
  let average = sum / 5
  assert_eq(35, average)
  
  // è®¡ç®—ä¸­ä½æ•°ï¼ˆå·²æ’åºæ•°ç»„ï¼‰
  let median = 35
  assert_eq(35, median)
  
  // è®¡ç®—èŒƒå›´ï¼ˆæœ€å¤§å€¼ - æœ€å°å€¼ï¼‰
  let range = azimuth::add(55, -15)
  assert_eq(40, range)
}

test "extreme_boundary_conditions" {
  // æµ‹è¯•æç«¯è¾¹ç•Œæ¡ä»¶
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼çš„å„ç§è¿ç®—
  assert_eq(max_val, azimuth::add(max_val, 0))
  assert_eq(max_val, azimuth::add(max_val, 1))
  assert_eq(max_val, azimuth::multiply(max_val, 1))
  assert_eq(min_val, azimuth::multiply(max_val, -1))
  
  // æµ‹è¯•æœ€å°å€¼çš„å„ç§è¿ç®—
  assert_eq(min_val, azimuth::add(min_val, 0))
  assert_eq(min_val, azimuth::add(min_val, -1))
  assert_eq(min_val, azimuth::multiply(min_val, 1))
  assert_eq(min_val, azimuth::multiply(min_val, -1))
  
  // æµ‹è¯•é›¶çš„è¿ç®—ç‰¹æ€§
  assert_eq(0, azimuth::multiply(0, max_val))
  assert_eq(0, azimuth::multiply(0, min_val))
  assert_eq(max_val, azimuth::add(0, max_val))
  assert_eq(min_val, azimuth::add(0, min_val))
}