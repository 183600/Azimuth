// æ–°å¢çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// åŒ…å«å„ç§å®ç”¨åœºæ™¯çš„æµ‹è¯•ï¼Œä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

test "binary_number_conversion" {
  // äºŒè¿›åˆ¶æ•°è½¬æ¢æµ‹è¯•ï¼šå°†äºŒè¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶
  // äºŒè¿›åˆ¶ 1011 = 1Ã—2Â³ + 0Ã—2Â² + 1Ã—2Â¹ + 1Ã—2â° = 8 + 0 + 2 + 1 = 11
  
  // ä½¿ç”¨ä½è¿ç®—æ¨¡æ‹ŸäºŒè¿›åˆ¶è½¬æ¢
  let binary_1011 = @azimuth.add(
    @azimuth.multiply(1, @azimuth.multiply(2, @azimuth.multiply(2, 2))),  // 1Ã—2Â³
    @azimuth.add(
      @azimuth.multiply(0, @azimuth.multiply(2, 2)),                     // 0Ã—2Â²
      @azimuth.add(
        @azimuth.multiply(1, 2),                                          // 1Ã—2Â¹
        1                                                                 // 1Ã—2â°
      )
    )
  )
  
  @azimuth.assert_eq(11, binary_1011)
  
  // äºŒè¿›åˆ¶ 1100 = 1Ã—2Â³ + 1Ã—2Â² + 0Ã—2Â¹ + 0Ã—2â° = 8 + 4 + 0 + 0 = 12
  let binary_1100 = @azimuth.add(
    @azimuth.multiply(1, @azimuth.multiply(2, @azimuth.multiply(2, 2))),  // 1Ã—2Â³
    @azimuth.add(
      @azimuth.multiply(1, @azimuth.multiply(2, 2)),                      // 1Ã—2Â²
      @azimuth.add(
        @azimuth.multiply(0, 2),                                          // 0Ã—2Â¹
        0                                                                 // 0Ã—2â°
      )
    )
  )
  
  @azimuth.assert_eq(12, binary_1100)
}

test "greatest_common_divisor" {
  // æœ€å¤§å…¬çº¦æ•°è®¡ç®—æµ‹è¯•ï¼ˆä½¿ç”¨æ¬§å‡ é‡Œå¾—ç®—æ³•çš„ç®€åŒ–ç‰ˆæœ¬ï¼‰
  let a = 48
  let b = 18
  
  // ç®€åŒ–çš„GCDè®¡ç®—ï¼šé€šè¿‡è¿ç»­å‡æ³•
  let temp_a = a
  let temp_b = b
  
  // æ¨¡æ‹Ÿè¾—è½¬ç›¸é™¤æ³•çš„è¿‡ç¨‹
  // 48 Ã· 18 = 2 ä½™ 12
  // 18 Ã· 12 = 1 ä½™ 6
  // 12 Ã· 6 = 2 ä½™ 0
  // æ‰€ä»¥GCDæ˜¯6
  
  let remainder1 = @azimuth.add(temp_a, @azimuth.multiply(-2, temp_b))  // 48 - 2Ã—18 = 12
  let remainder2 = @azimuth.add(temp_b, @azimuth.multiply(-1, remainder1))  // 18 - 1Ã—12 = 6
  
  @azimuth.assert_eq(6, remainder2)
  
  // æµ‹è¯•å¦ä¸€å¯¹æ•°
  let c = 56
  let d = 32
  
  // 56 Ã· 32 = 1 ä½™ 24
  // 32 Ã· 24 = 1 ä½™ 8
  // 24 Ã· 8 = 3 ä½™ 0
  // æ‰€ä»¥GCDæ˜¯8
  
  let remainder3 = @azimuth.add(c, @azimuth.multiply(-1, d))  // 56 - 1Ã—32 = 24
  let remainder4 = @azimuth.add(d, @azimuth.multiply(-1, remainder3))  // 32 - 1Ã—24 = 8
  
  @azimuth.assert_eq(8, remainder4)
}

test "fibonacci_sequence_calculation" {
  // æ–æ³¢é‚£å¥‘æ•°åˆ—è®¡ç®—æµ‹è¯•
  // F(0) = 0, F(1) = 1, F(n) = F(n-1) + F(n-2)
  
  // è®¡ç®—å‰å‡ é¡¹
  let f0 = 0
  let f1 = 1
  let f2 = @azimuth.add(f1, f0)  // 1 + 0 = 1
  let f3 = @azimuth.add(f2, f1)  // 1 + 1 = 2
  let f4 = @azimuth.add(f3, f2)  // 2 + 1 = 3
  let f5 = @azimuth.add(f4, f3)  // 3 + 2 = 5
  let f6 = @azimuth.add(f5, f4)  // 5 + 3 = 8
  let f7 = @azimuth.add(f6, f5)  // 8 + 5 = 13
  let f8 = @azimuth.add(f7, f6)  // 13 + 8 = 21
  
  @azimuth.assert_eq(0, f0)
  @azimuth.assert_eq(1, f1)
  @azimuth.assert_eq(1, f2)
  @azimuth.assert_eq(2, f3)
  @azimuth.assert_eq(3, f4)
  @azimuth.assert_eq(5, f5)
  @azimuth.assert_eq(8, f6)
  @azimuth.assert_eq(13, f7)
  @azimuth.assert_eq(21, f8)
  
  // è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å’Œ
  let sum_first_9 = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(f0, f1), f2), f3), f4), f5), f6), f7), f8)
  @azimuth.assert_eq(54, sum_first_9)  // 0+1+1+2+3+5+8+13+21 = 54
}

test "prime_number_check" {
  // è´¨æ•°æ£€æŸ¥æµ‹è¯•ï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼‰
  // æ£€æŸ¥7æ˜¯å¦ä¸ºè´¨æ•°ï¼šä¸èƒ½è¢«2ã€3æ•´é™¤
  let number = 7
  
  // æ£€æŸ¥æ˜¯å¦èƒ½è¢«2æ•´é™¤
  let divisible_by_2 = @azimuth.multiply(number / 2, 2) == number
  @azimuth.assert_eq(0, 1)(divisible_by_2)
  
  // æ£€æŸ¥æ˜¯å¦èƒ½è¢«3æ•´é™¤
  let divisible_by_3 = @azimuth.multiply(number / 3, 3) == number
  @azimuth.assert_eq(0, 1)(divisible_by_3)
  
  // æ£€æŸ¥9æ˜¯å¦ä¸ºè´¨æ•°ï¼šèƒ½è¢«3æ•´é™¤
  let composite_number = 9
  let divisible_by_3_composite = @azimuth.multiply(composite_number / 3, 3) == composite_number
  @azimuth.assert_eq(divisible_by_3_composite, true)
  
  // æ£€æŸ¥11æ˜¯å¦ä¸ºè´¨æ•°ï¼šä¸èƒ½è¢«2ã€3æ•´é™¤
  let prime_number = 11
  let divisible_by_2_prime = @azimuth.multiply(prime_number / 2, 2) == prime_number
  let divisible_by_3_prime = @azimuth.multiply(prime_number / 3, 3) == prime_number
  @azimuth.assert_eq(0, 1)(divisible_by_2_prime)
  @azimuth.assert_eq(0, 1)(divisible_by_3_prime)
}

test "calendar_date_calculation" {
  // æ—¥å†æ—¥æœŸè®¡ç®—æµ‹è¯•
  // è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°ï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼‰
  let year1 = 2023
  let month1 = 1
  let day1 = 15
  
  let year2 = 2023
  let month2 = 2
  let day2 = 10
  
  // ç®€åŒ–è®¡ç®—ï¼šå‡è®¾æ¯æœˆ30å¤©
  let days_in_month = 30
  
  // è½¬æ¢ä¸ºå¤©æ•°
  let total_days1 = @azimuth.add(
    @azimuth.multiply(year1, @azimuth.multiply(12, days_in_month)),
    @azimuth.add(@azimuth.multiply(month1, days_in_month), day1)
  )
  
  let total_days2 = @azimuth.add(
    @azimuth.multiply(year2, @azimuth.multiply(12, days_in_month)),
    @azimuth.add(@azimuth.multiply(month2, days_in_month), day2)
  )
  
  // è®¡ç®—å¤©æ•°å·®
  let days_difference = @azimuth.add(total_days2, -total_days1)
  @azimuth.assert_eq(25, days_difference)  // çº¦25å¤©
  
  // è®¡ç®—æ˜ŸæœŸå‡ ï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼‰
  let start_day = 0  // å‡è®¾1æœˆ1æ—¥æ˜¯æ˜ŸæœŸæ—¥
  let target_day = @azimuth.add(start_day, @azimuth.multiply(14, 1))  // 1æœˆ15æ—¥
  let day_of_week = target_day % 7  // 14 % 7 = 0ï¼Œæ˜ŸæœŸæ—¥
  @azimuth.assert_eq(0, day_of_week)
}

test "bank_loan_calculation" {
  // é“¶è¡Œè´·æ¬¾è®¡ç®—æµ‹è¯•
  let principal = 100000  // æœ¬é‡‘
  let annual_rate = 6     // å¹´åˆ©ç‡ç™¾åˆ†æ¯”
  let years = 5           // è´·æ¬¾å¹´é™
  
  // ç®€åŒ–çš„åˆ©æ¯è®¡ç®—ï¼šæ€»åˆ©æ¯ = æœ¬é‡‘ Ã— å¹´åˆ©ç‡ Ã— å¹´æ•°
  let total_interest = @azimuth.multiply(
    principal,
    @azimuth.multiply(annual_rate, years)
  )
  
  // è®¡ç®—æ€»è¿˜æ¬¾é¢
  let total_payment = @azimuth.add(principal, total_interest)
  
  // è®¡ç®—æœˆä¾›ï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼‰
  let total_months = @azimuth.multiply(years, 12)
  let monthly_payment = total_payment / total_months
  
  @azimuth.assert_eq(3000000, total_interest)  // 100000 Ã— 6 Ã— 5 = 3000000
  @azimuth.assert_eq(3100000, total_payment)   // 100000 + 3000000 = 3100000
  @azimuth.assert_eq(51666, monthly_payment)   // 3100000 Ã· 60 â‰ˆ 51666ï¼ˆæ•´æ•°é™¤æ³•ï¼‰
  
  // æµ‹è¯•æå‰è¿˜æ¬¾çš„æƒ…å†µ
  let early_payment_months = 36  // 3å¹´åæå‰è¿˜æ¬¾
  let paid_amount = @azimuth.multiply(monthly_payment, early_payment_months)
  let remaining_balance = @azimuth.add(total_payment, -paid_amount)
  
  @azimuth.assert_eq(1859976, paid_amount)      // 51666 Ã— 36 = 1859976
  @azimuth.assert_eq(1240024, remaining_balance)  // 3100000 - 1859976 = 1240024
}

test "data_compression_simulation" {
  // æ•°æ®å‹ç¼©æ¨¡æ‹Ÿæµ‹è¯•
  let original_size = 10000  // åŸå§‹æ•°æ®å¤§å°ï¼ˆå­—èŠ‚ï¼‰
  
  // æ¨¡æ‹Ÿå‹ç¼©ç‡ï¼šé‡å¤å­—ç¬¦å‹ç¼©
  let repeated_chars = 2000  // é‡å¤å­—ç¬¦æ•°é‡
  let compression_ratio = 8  // å‹ç¼©æ¯”ä¾‹
  
  // è®¡ç®—å‹ç¼©åçš„å¤§å°
  let compressed_repeated = repeated_chars / compression_ratio  // 2000 Ã· 8 = 250
  let non_repeated_chars = @azimuth.add(original_size, -repeated_chars)  // 10000 - 2000 = 8000
  let compressed_size = @azimuth.add(compressed_repeated, non_repeated_chars)  // 250 + 8000 = 8250
  
  // è®¡ç®—å‹ç¼©ç‡
  let actual_compression_ratio = @azimuth.multiply(100, compressed_size) / original_size
  
  @azimuth.assert_eq(8250, compressed_size)
  @azimuth.assert_eq(82, actual_compression_ratio)  // 82.5%ï¼Œæ•´æ•°é™¤æ³•ä¸º82
  
  // æ¨¡æ‹Ÿè§£å‹ç¼©
  let decompressed_size = @azimuth.add(
    @azimuth.multiply(compressed_repeated, compression_ratio),
    non_repeated_chars
  )
  @azimuth.assert_eq(original_size, decompressed_size)
}

test "network_bandwidth_calculation" {
  // ç½‘ç»œå¸¦å®½è®¡ç®—æµ‹è¯•
  let file_size_mb = 100     // æ–‡ä»¶å¤§å°ï¼ˆMBï¼‰
  let bandwidth_mbps = 10    // å¸¦å®½ï¼ˆMbpsï¼‰
  
  // è®¡ç®—ä¸‹è½½æ—¶é—´ï¼ˆç§’ï¼‰
  // æ³¨æ„ï¼š1 MB = 8 Mbï¼ˆå…†å­—èŠ‚ä¸å…†æ¯”ç‰¹çš„è½¬æ¢ï¼‰
  let file_size_mbits = @azimuth.multiply(file_size_mb, 8)  // 100 Ã— 8 = 800 Mb
  let download_time_seconds = file_size_mbits / bandwidth_mbps  // 800 Ã· 10 = 80ç§’
  
  // è½¬æ¢ä¸ºåˆ†é’Ÿå’Œç§’
  let download_minutes = download_time_seconds / 60  // 80 Ã· 60 = 1
  let remaining_seconds = download_time_seconds % 60  // 80 % 60 = 20
  
  @azimuth.assert_eq(800, file_size_mbits)
  @azimuth.assert_eq(80, download_time_seconds)
  @azimuth.assert_eq(1, download_minutes)
  @azimuth.assert_eq(20, remaining_seconds)
  
  // è®¡ç®—å¤šä¸ªæ–‡ä»¶çš„ä¸‹è½½æ—¶é—´
  let file_count = 5
  let total_download_time = @azimuth.multiply(download_time_seconds, file_count)
  @azimuth.assert_eq(400, total_download_time)  // 80 Ã— 5 = 400ç§’
  
  // è®¡ç®—å¸¦å®½åˆ©ç”¨ç‡ï¼ˆå‡è®¾å®é™…é€Ÿåº¦æ˜¯ç†è®ºé€Ÿåº¦çš„80%ï¼‰
  let actual_speed = @azimuth.multiply(bandwidth_mbps, 80) / 100  // 10 Ã— 80 Ã· 100 = 8
  let actual_download_time = file_size_mbits / actual_speed  // 800 Ã· 8 = 100ç§’
  @azimuth.assert_eq(8, actual_speed)
  @azimuth.assert_eq(100, actual_download_time)
}

test "physics_velocity_calculation" {
  // ç‰©ç†é€Ÿåº¦è®¡ç®—æµ‹è¯•
  let distance_meters = 1000  // è·ç¦»ï¼ˆç±³ï¼‰
  let time_seconds = 60       // æ—¶é—´ï¼ˆç§’ï¼‰
  
  // è®¡ç®—é€Ÿåº¦ï¼ˆç±³/ç§’ï¼‰
  let velocity_mps = distance_meters / time_seconds
  @azimuth.assert_eq(16, velocity_mps)  // 1000 Ã· 60 = 16ï¼ˆæ•´æ•°é™¤æ³•ï¼‰
  
  // è½¬æ¢ä¸ºå…¬é‡Œ/å°æ—¶
  let velocity_kmph = @azimuth.multiply(velocity_mps, 36) / 10  // m/s Ã— 3.6 = km/h
  @azimuth.assert_eq(57, velocity_kmph)  // 16 Ã— 36 Ã· 10 = 57ï¼ˆæ•´æ•°é™¤æ³•ï¼‰
  
  // è®¡ç®—åŠ é€Ÿåº¦ï¼ˆå‡è®¾ä»0åŠ é€Ÿåˆ°æœ€ç»ˆé€Ÿåº¦ï¼‰
  let acceleration = velocity_mps / time_seconds  // v/t
  @azimuth.assert_eq(0, acceleration)  // 16 Ã· 60 = 0ï¼ˆæ•´æ•°é™¤æ³•ï¼‰
  
  // è®¡ç®—åŠ¨èƒ½ï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼šE = Â½mvÂ²ï¼Œå‡è®¾m=1000kgï¼‰
  let mass = 1000  // è´¨é‡ï¼ˆåƒå…‹ï¼‰
  let kinetic_energy = @azimuth.multiply(mass, @azimuth.multiply(velocity_mps, velocity_mps)) / 2
  @azimuth.assert_eq(128000, kinetic_energy)  // 1000 Ã— 16Â² Ã· 2 = 128000
}

test "cryptographic_hash_simulation" {
  // åŠ å¯†å“ˆå¸Œæ¨¡æ‹Ÿæµ‹è¯•ï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼‰
  let input_string = "Hello"
  
  // æ¨¡æ‹Ÿç®€å•çš„å“ˆå¸Œå‡½æ•°ï¼šå­—ç¬¦ASCIIå€¼ä¹‹å’Œ
  // H = 72 + 101 + 108 + 108 + 111 = 500
  let hash_value = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(72, 101), 108), 108), 111)
  @azimuth.assert_eq(500, hash_value)
  
  // æ¨¡æ‹Ÿå“ˆå¸Œçš„é›ªå´©æ•ˆåº”ï¼šå¾®å°å˜åŒ–å¯¼è‡´å¤§å·®å¼‚
  let slightly_different_string = "Hellp"  // æœ€åä¸€ä¸ªå­—ç¬¦ä¸åŒ
  // H = 72 + 101 + 108 + 108 + 112 = 501
  let hash_value_different = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(72, 101), 108), 108), 112)
  @azimuth.assert_eq(501, hash_value_different)
  
  // è®¡ç®—å“ˆå¸Œå·®å¼‚
  let hash_difference = @azimuth.add(hash_value_different, -hash_value)
  @azimuth.assert_eq(1, hash_difference)
  
  // æ¨¡æ‹Ÿå“ˆå¸Œçš„æ¨¡è¿ç®—ï¼ˆç”¨äºå›ºå®šé•¿åº¦è¾“å‡ºï¼‰
  let hash_mod_256 = hash_value % 256
  let hash_different_mod_256 = hash_value_different % 256
  
  @azimuth.assert_eq(244, hash_mod_256)        // 500 % 256 = 244
  @azimuth.assert_eq(245, hash_different_mod_256)  // 501 % 256 = 245
  
  // éªŒè¯æ¨¡è¿ç®—åçš„å·®å¼‚ä»ç„¶ä¿æŒ
  let mod_difference = @azimuth.add(hash_different_mod_256, -hash_mod_256)
  @azimuth.assert_eq(1, mod_difference)
}

// æ–°å¢çš„9ä¸ªæµ‹è¯•ç”¨ä¾‹
test "enhanced_add_commutativity" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹çš„å¤šç§æƒ…å†µ
  let a = 12345
  let b = -6789
  
  // éªŒè¯äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // æµ‹è¯•åŒ…å«0çš„æƒ…å†µ
  @azimuth.assert_eq(@azimuth.add(a, 0), @azimuth.add(0, a))
  
  // æµ‹è¯•ä¸¤ä¸ªè´Ÿæ•°
  let x = -1000
  let y = -2000
  @azimuth.assert_eq(@azimuth.add(x, y), @azimuth.add(y, x))
}

test "enhanced_multiply_properties" {
  // æµ‹è¯•ä¹˜æ³•çš„æ•°å­¦æ€§è´¨
  let a = 15
  let b = 7
  let c = 3
  
  // æµ‹è¯•ç»“åˆå¾‹ (a * b) * c = a * (b * c)
  let result1 = @azimuth.multiply(@azimuth.multiply(a, b), c)
  let result2 = @azimuth.multiply(a, @azimuth.multiply(b, c))
  @azimuth.assert_eq(result1, result2)
  
  // æµ‹è¯•åˆ†é…å¾‹ a * (b + c) = a * b + a * c
  let result3 = @azimuth.multiply(a, @azimuth.add(b, c))
  let result4 = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
  @azimuth.assert_eq(result3, result4)
}

test "enhanced_string_scenarios" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„å„ç§åœºæ™¯
  // æµ‹è¯•åŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, User123!", @azimuth.greet("User123"))
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, test@domain.com!", @azimuth.greet("test@domain.com"))
  
  // æµ‹è¯•åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, John Smith!", @azimuth.greet("John Smith"))
  
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
}

test "enhanced_financial_calculations" {
  // æµ‹è¯•é‡‘èè®¡ç®—åœºæ™¯
  // è®¡ç®—è´·æ¬¾æœˆä¾›ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let principal = 100000  // æœ¬é‡‘
  let annual_rate = 6     // å¹´åˆ©ç‡6%
  let years = 30          // è´·æ¬¾å¹´é™
  
  // ç®€åŒ–çš„æœˆä¾›è®¡ç®—ï¼šæœ¬é‡‘ + æœ¬é‡‘ Ã— å¹´åˆ©ç‡ Ã— å¹´æ•°
  let total_interest = @azimuth.multiply(principal, @azimuth.multiply(annual_rate, years))
  let total_payment = @azimuth.add(principal, total_interest)
  
  @azimuth.assert_eq(1900000, total_payment)
  
  // è®¡ç®—æŠ•èµ„å›æŠ¥
  let investment = 50000
  let return_rate = 8     // 8%å¹´å›æŠ¥ç‡
  let investment_years = 5
  
  let returns = @azimuth.multiply(investment, @azimuth.multiply(return_rate, investment_years))
  let final_value = @azimuth.add(investment, returns)
  
  @azimuth.assert_eq(250000, final_value)
}

test "enhanced_temperature_conversions" {
  // æµ‹è¯•æ¸©åº¦è½¬æ¢åœºæ™¯
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼šF = C Ã— 2 + 30ï¼‰
  
  @azimuth.assert_eq(30, @azimuth.add(@azimuth.multiply(0, 2), 30))
  @azimuth.assert_eq(50, @azimuth.add(@azimuth.multiply(10, 2), 30))
  @azimuth.assert_eq(70, @azimuth.add(@azimuth.multiply(20, 2), 30))
  @azimuth.assert_eq(90, @azimuth.add(@azimuth.multiply(30, 2), 30))
  @azimuth.assert_eq(110, @azimuth.add(@azimuth.multiply(40, 2), 30))
  @azimuth.assert_eq(230, @azimuth.add(@azimuth.multiply(100, 2), 30))
  
  // åæ°åº¦è½¬æ‘„æ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼šC = (F - 30) Ã· 2ï¼‰
  @azimuth.assert_eq(0, @azimuth.add(@azimuth.multiply(30, -1), 30) / 2)
  @azimuth.assert_eq(20, @azimuth.add(@azimuth.multiply(70, -1), 30) / 2)
}

test "enhanced_geometry_calculations" {
  // æµ‹è¯•å‡ ä½•è®¡ç®—
  // è®¡ç®—çŸ©å½¢é¢ç§¯å’Œå‘¨é•¿
  let length = 12
  let width = 8
  
  let area = @azimuth.multiply(length, width)
  let perimeter = @azimuth.add(@azimuth.multiply(2, length), @azimuth.multiply(2, width))
  
  @azimuth.assert_eq(96, area)
  @azimuth.assert_eq(40, perimeter)
  
  // è®¡ç®—ä¸‰è§’å½¢é¢ç§¯ï¼ˆåº•Ã—é«˜Ã·2ï¼‰
  let base = 10
  let height = 6
  let triangle_area = @azimuth.multiply(base, height) / 2
  
  @azimuth.assert_eq(30, triangle_area)
  
  // è®¡ç®—æ¢¯å½¢é¢ç§¯ï¼ˆï¼ˆä¸Šåº•+ä¸‹åº•ï¼‰Ã—é«˜Ã·2ï¼‰
  let top_base = 6
  let bottom_base = 10
  let trapezoid_height = 4
  let trapezoid_area = @azimuth.multiply(@azimuth.add(top_base, bottom_base), trapezoid_height) / 2
  
  @azimuth.assert_eq(32, trapezoid_area)
}

test "enhanced_boundary_value_analysis" {
  // æµ‹è¯•è¾¹ç•Œå€¼åˆ†æ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼çš„å„ç§è¿ç®—
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 0))
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1))
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 100))
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.multiply(max_val, -1))
  
  // æµ‹è¯•æœ€å°å€¼çš„å„ç§è¿ç®—
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -1))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -100))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
  
  // æµ‹è¯•æå€¼ä¹‹é—´çš„è¿ç®—
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(min_val, 0))
}

test "enhanced_statistical_calculations" {
  // æµ‹è¯•ç»Ÿè®¡è®¡ç®—
  // è®¡ç®—ä¸€ç»„æ•°æ®çš„æ€»å’Œã€å¹³å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼
  let data1 = 10
  let data2 = 20
  let data3 = 30
  let data4 = 40
  let data5 = 50
  
  // è®¡ç®—æ€»å’Œ
  let sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(data1, data2), data3), data4), data5)
  @azimuth.assert_eq(150, sum)
  
  // è®¡ç®—å¹³å‡å€¼
  let average = sum / 5
  @azimuth.assert_eq(30, average)
  
  // è®¡ç®—æ–¹å·®ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let diff1 = @azimuth.add(data1, -average)
  let diff2 = @azimuth.add(data2, -average)
  let diff3 = @azimuth.add(data3, -average)
  let diff4 = @azimuth.add(data4, -average)
  let diff5 = @azimuth.add(data5, -average)
  
  let variance = (@azimuth.multiply(diff1, diff1) + @azimuth.multiply(diff2, diff2) + 
                  @azimuth.multiply(diff3, diff3) + @azimuth.multiply(diff4, diff4) + 
                  @azimuth.multiply(diff5, diff5)) / 5
  
  @azimuth.assert_eq(200, variance)
}

test "enhanced_complex_expressions" {
  // æµ‹è¯•å¤æ‚è¡¨è¾¾å¼è®¡ç®—
  // è®¡ç®—ï¼š(a + b) * (c - d) + e * f
  let a = 10
  let b = 5
  let c = 20
  let d = 8
  let e = 3
  let f = 7
  
  let sum_ab = @azimuth.add(a, b)
  let diff_cd = @azimuth.add(c, -d)
  let product_ef = @azimuth.multiply(e, f)
  
  let result = @azimuth.add(@azimuth.multiply(sum_ab, diff_cd), product_ef)
  
  // (10 + 5) * (20 - 8) + 3 * 7 = 15 * 12 + 21 = 180 + 21 = 201
  @azimuth.assert_eq(201, result)
  
  // è®¡ç®—ï¼šaÂ² + bÂ² + 2*a*b (å®Œå…¨å¹³æ–¹å…¬å¼)
  let a_squared = @azimuth.multiply(a, a)
  let b_squared = @azimuth.multiply(b, b)
  let two_ab = @azimuth.multiply(2, @azimuth.multiply(a, b))
  
  let perfect_square = @azimuth.add(@azimuth.add(a_squared, b_squared), two_ab)
  
  // 10Â² + 5Â² + 2*10*5 = 100 + 25 + 100 = 225
  @azimuth.assert_eq(225, perfect_square)
}