// ç”¨æˆ·æœ€ç»ˆçš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// è¿™äº›æµ‹è¯•ç”¨ä¾‹å±•ç¤ºäº† MoonBit æ ‡å‡†æµ‹è¯•è¯­æ³•å’Œæœ€ä½³å®è·µ

test "add_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  let a = 123
  let b = 456
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // æµ‹è¯•è´Ÿæ•°çš„äº¤æ¢å¾‹
  let c = -100
  let d = 200
  @azimuth.assert_eq(@azimuth.add(c, d), @azimuth.add(d, c))
}

test "multiply_associative_property" {
  // æµ‹è¯•ä¹˜æ³•ç»“åˆå¾‹ï¼š(a * b) * c = a * (b * c)
  let a = 5
  let b = 10
  let c = 20
  
  let result1 = @azimuth.multiply(@azimuth.multiply(a, b), c)
  let result2 = @azimuth.multiply(a, @azimuth.multiply(b, c))
  @azimuth.assert_eq(result1, result2)
}

test "greet_multilingual_support" {
  // æµ‹è¯•å¤šè¯­è¨€æ”¯æŒ
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", @azimuth.greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  @azimuth.assert_eq_string("Hello, ğŸŒ!", @azimuth.greet("ğŸŒ"))
  @azimuth.assert_eq_string("Hello, Ã±oÃ±o!", @azimuth.greet("Ã±oÃ±o"))
}

test "boundary_value_combinations" {
  // æµ‹è¯•è¾¹ç•Œå€¼ç»„åˆ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 1))
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, 0))
}

test "mathematical_formula_validation" {
  // éªŒè¯æ•°å­¦å…¬å¼ï¼š(a + b)Â² = aÂ² + 2ab + bÂ²
  let a = 3
  let b = 4
  
  let left_side = @azimuth.multiply(@azimuth.add(a, b), @azimuth.add(a, b))
  let right_side = @azimuth.add(@azimuth.add(@azimuth.multiply(a, a), @azimuth.multiply(2, @azimuth.multiply(a, b))), @azimuth.multiply(b, b))
  @azimuth.assert_eq(left_side, right_side)
}

test "string_length_handling" {
  // æµ‹è¯•ä¸åŒé•¿åº¦å­—ç¬¦ä¸²çš„å¤„ç†
  let empty = ""
  let single = "A"
  let medium = "MoonBit"
  let long = "ThisIsAVeryLongStringForTestingPurposesInMoonBitLanguage"
  
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(empty))
  @azimuth.assert_eq_string("Hello, A!", @azimuth.greet(single))
  @azimuth.assert_eq_string("Hello, MoonBit!", @azimuth.greet(medium))
  @azimuth.assert_eq_string("Hello, ThisIsAVeryLongStringForTestingPurposesInMoonBitLanguage!", @azimuth.greet(long))
}

test "complex_business_calculation" {
  // å¤æ‚ä¸šåŠ¡è®¡ç®—ï¼šè®¢å•æ€»ä»·è®¡ç®—
  let item_price = 199
  let quantity = 3
  let discount_rate = 10  // 10% æŠ˜æ‰£
  let shipping_fee = 15
  let tax_rate = 8  // 8% ç¨ç‡
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = @azimuth.multiply(item_price, quantity)
  
  // è®¡ç®—æŠ˜æ‰£
  let discount = @azimuth.multiply(subtotal, discount_rate) / 100
  let discounted_total = @azimuth.add(subtotal, -discount)
  
  // è®¡ç®—ç¨è´¹
  let tax = @azimuth.multiply(discounted_total, tax_rate) / 100
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_total = @azimuth.add(@azimuth.add(discounted_total, tax), shipping_fee)
  
  @azimuth.assert_eq(674, final_total)
}

test "sequential_operations" {
  // æµ‹è¯•è¿ç»­è¿ç®—ï¼š((a + b) * c) - d
  let a = 10
  let b = 20
  let c = 3
  let d = 15
  
  let sum_ab = @azimuth.add(a, b)
  let product = @azimuth.multiply(sum_ab, c)
  let result = @azimuth.add(product, -d)
  
  @azimuth.assert_eq(75, result)
}

test "error_boundary_handling" {
  // æµ‹è¯•é”™è¯¯è¾¹ç•Œå¤„ç†
  let max_val = 2147483647
  let min_val = -2147483648
  
  // ç¡®ä¿æº¢å‡ºè¢«æ­£ç¡®å¤„ç†
  @azimuth.assert_true(@azimuth.add(max_val, 1) == max_val)
  @azimuth.assert_true(@azimuth.add(min_val, -1) == min_val)
  @azimuth.assert_true(@azimuth.multiply(max_val, 2) == max_val)
  @azimuth.assert_true(@azimuth.multiply(min_val, -1) == min_val)
  
  // æµ‹è¯•æ–­è¨€å‡½æ•°
  @azimuth.assert_true(true)
  @azimuth.assert_false(false)
}

test "real_world_scenarios" {
  // å®é™…åº”ç”¨åœºæ™¯ï¼šæ¸©åº¦è½¬æ¢å’Œè®¡ç®—
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼šF = C * 2 + 30
  let celsius_temps = [0, 10, 20, 30, 40]
  let expected_fahrenheit = [30, 50, 70, 90, 110]
  
  // æµ‹è¯•ç¬¬ä¸€ä¸ªæ¸©åº¦ç‚¹
  let c1 = celsius_temps[0]
  let f1 = @azimuth.add(@azimuth.multiply(c1, 2), 30)
  @azimuth.assert_eq(expected_fahrenheit[0], f1)
  
  // æµ‹è¯•ç¬¬ä¸‰ä¸ªæ¸©åº¦ç‚¹
  let c3 = celsius_temps[2]
  let f3 = @azimuth.add(@azimuth.multiply(c3, 2), 30)
  @azimuth.assert_eq(expected_fahrenheit[2], f3)
  
  // æµ‹è¯•æœ€åä¸€ä¸ªæ¸©åº¦ç‚¹
  let c5 = celsius_temps[4]
  let f5 = @azimuth.add(@azimuth.multiply(c5, 2), 30)
  @azimuth.assert_eq(expected_fahrenheit[4], f5)
}