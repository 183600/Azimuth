// ç”¨æˆ·æ–°å¢çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•

test "add_function_edge_cases" {
  // æµ‹è¯•åŠ æ³•å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(5, @azimuth.add(5, 0))
  @azimuth.assert_eq(5, @azimuth.add(0, 5))
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  
  // æµ‹è¯•å¤§æ•°ç›¸åŠ 
  @azimuth.assert_eq(2000000, @azimuth.add(1000000, 1000000))
  @azimuth.assert_eq(-2000000, @azimuth.add(-1000000, -1000000))
}

test "multiply_function_edge_cases" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(5, @azimuth.multiply(5, 1))
  @azimuth.assert_eq(5, @azimuth.multiply(1, 5))
  @azimuth.assert_eq(-5, @azimuth.multiply(5, -1))
  @azimuth.assert_eq(-5, @azimuth.multiply(-1, 5))
  
  // æµ‹è¯•å¤§æ•°ç›¸ä¹˜
  @azimuth.assert_eq(1000000, @azimuth.multiply(1000, 1000))
  @azimuth.assert_eq(-1000000, @azimuth.multiply(-1000, 1000))
}

test "greet_function_special_chars" {
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, @#$%!", @azimuth.greet("@#$%"))
  @azimuth.assert_eq_string("Hello, 12345!", @azimuth.greet("12345"))
  @azimuth.assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", @azimuth.greet("ä¸­æ–‡æµ‹è¯•"))
  @azimuth.assert_eq_string("Hello, emojiğŸŒ!", @azimuth.greet("emojiğŸŒ"))
}

test "complex_calculations" {
  // æµ‹è¯•å¤åˆè®¡ç®—åœºæ™¯
  // è®¡ç®—çŸ©å½¢å‘¨é•¿ï¼š2 Ã— (é•¿ + å®½)
  let length = 10
  let width = 5
  let perimeter = @azimuth.multiply(2, @azimuth.add(length, width))
  @azimuth.assert_eq(30, perimeter)
  
  // è®¡ç®— (a + b) Ã— (c + d)
  let a = 3
  let b = 4
  let c = 5
  let d = 6
  let result = @azimuth.multiply(@azimuth.add(a, b), @azimuth.add(c, d))
  @azimuth.assert_eq(77, result)  // (3+4) Ã— (5+6) = 7 Ã— 11 = 77
}

test "overflow_handling" {
  // æµ‹è¯•æº¢å‡ºå¤„ç†
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•åŠ æ³•æº¢å‡º
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1))
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, max_val))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -1))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, min_val))
  
  // æµ‹è¯•ä¹˜æ³•æº¢å‡º
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 2))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 2))
}

test "mathematical_formulas" {
  // æµ‹è¯•æ•°å­¦å…¬å¼
  // è®¡ç®—å¹³æ–¹å’Œï¼šaÂ² + bÂ²
  let a = 3
  let b = 4
  let sum_of_squares = @azimuth.add(@azimuth.multiply(a, a), @azimuth.multiply(b, b))
  @azimuth.assert_eq(25, sum_of_squares)  // 3Â² + 4Â² = 9 + 16 = 25
  
  // è®¡ç®—ç«‹æ–¹å·®ï¼šaÂ³ - bÂ³
  let c = 5
  let d = 2
  let c_cubed = @azimuth.multiply(@azimuth.multiply(c, c), c)
  let d_cubed = @azimuth.multiply(@azimuth.multiply(d, d), d)
  let difference = @azimuth.add(c_cubed, -d_cubed)
  @azimuth.assert_eq(117, difference)  // 5Â³ - 2Â³ = 125 - 8 = 117
}

test "string_concatenation" {
  // æµ‹è¯•å­—ç¬¦ä¸²æ‹¼æ¥
  @azimuth.assert_eq_string("Hello, John Doe!", @azimuth.greet("John Doe"))
  @azimuth.assert_eq_string("Hello,   !", @azimuth.greet("  "))
  @azimuth.assert_eq_string("Hello, a b c!", @azimuth.greet("a b c"))
  @azimuth.assert_eq_string("Hello, line1\nline2!", @azimuth.greet("line1\nline2"))
}

test "real_world_applications" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯
  // è´­ç‰©è½¦è®¡ç®—
  let item1_price = 100
  let item1_quantity = 2
  let item2_price = 50
  let item2_quantity = 3
  let shipping = 10
  
  let total1 = @azimuth.multiply(item1_price, item1_quantity)
  let total2 = @azimuth.multiply(item2_price, item2_quantity)
  let cart_total = @azimuth.add(@azimuth.add(total1, total2), shipping)
  @azimuth.assert_eq(360, cart_total)  // 100Ã—2 + 50Ã—3 + 10 = 200 + 150 + 10 = 360
  
  // æ¸©åº¦è½¬æ¢ï¼ˆæ›´ç²¾ç¡®çš„ç®€åŒ–ç‰ˆï¼‰
  let celsius = 25
  let fahrenheit = @azimuth.add(@azimuth.multiply(celsius, 9), 160) / 5
  @azimuth.assert_eq(77, fahrenheit)  // (25 Ã— 9 + 160) / 5 = (225 + 160) / 5 = 385 / 5 = 77
}

test "error_conditions" {
  // æµ‹è¯•é”™è¯¯æ¡ä»¶å¤„ç†
  @azimuth.assert_true(true)
  @azimuth.assert_false(false)
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  @azimuth.assert_eq(1, @azimuth.multiply(1, 1))
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
}