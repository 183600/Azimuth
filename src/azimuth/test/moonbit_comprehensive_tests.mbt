// MoonBit ç»¼åˆæµ‹è¯•ç”¨ä¾‹
// è¦†ç›– azimuth é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½å’Œå®é™…åº”ç”¨åœºæ™¯

test "add_performance_with_large_numbers" {
  // æµ‹è¯•å¤§æ•°åŠ æ³•æ€§èƒ½
  let large_num1 = 1000000000
  let large_num2 = 1000000000
  
  @azimuth.assert_eq(2000000000, @azimuth.add(large_num1, large_num2))
  @azimuth.assert_eq(-2000000000, @azimuth.add(-large_num1, -large_num2))
  @azimuth.assert_eq(0, @azimuth.add(large_num1, -large_num1))
}

test "multiply_with_decimal_simulation" {
  // æ¨¡æ‹Ÿå°æ•°ä¹˜æ³•ï¼ˆä½¿ç”¨æ•´æ•°è¡¨ç¤ºï¼‰
  // è®¡ç®— 12.5 * 8.3 â‰ˆ 103.75ï¼Œè¡¨ç¤ºä¸º 10375
  let num1 = 125  // è¡¨ç¤º 12.5
  let num2 = 83   // è¡¨ç¤º 8.3
  let result = @azimuth.multiply(num1, num2)
  
  // ç»“æœåº”è¯¥æ˜¯ 10375ï¼Œè¡¨ç¤º 103.75
  @azimuth.assert_eq(10375, result)
  
  // æµ‹è¯•è´Ÿæ•°å°æ•°
  let neg_num1 = -125
  let pos_num2 = 83
  let neg_result = @azimuth.multiply(neg_num1, pos_num2)
  @azimuth.assert_eq(-10375, neg_result)
}

test "greet_with_special_characters" {
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²å¤„ç†
  let special_chars = "!@#$%^&*()_+-=[]{}|;':\",./<>?"
  let result = @azimuth.greet(special_chars)
  @azimuth.assert_eq_string("Hello, !@#$%^&*()_+-=[]{}|;':\",./<>?!", result)
  
  // æµ‹è¯• Unicode è¡¨æƒ…ç¬¦å·
  let emoji = "ğŸŒŸğŸš€ğŸ’»"
  let emoji_result = @azimuth.greet(emoji)
  @azimuth.assert_eq_string("Hello, ğŸŒŸğŸš€ğŸ’»!", emoji_result)
}

test "complex_business_calculation" {
  // å¤æ‚ä¸šåŠ¡è®¡ç®—ï¼šè®¢å•æ€»ä»·è®¡ç®—
  let item_price = 299
  let quantity = 3
  let discount_rate = 10  // 10% æŠ˜æ‰£
  let tax_rate = 8        // 8% ç¨ç‡
  let shipping = 15
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = @azimuth.multiply(item_price, quantity)
  
  // è®¡ç®—æŠ˜æ‰£
  let discount_amount = @azimuth.multiply(subtotal, discount_rate) / 100
  let discounted_total = @azimuth.add(subtotal, -discount_amount)
  
  // è®¡ç®—ç¨è´¹
  let tax_amount = @azimuth.multiply(discounted_total, tax_rate) / 100
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_total = @azimuth.add(@azimuth.add(discounted_total, tax_amount), shipping)
  
  @azimuth.assert_eq(1015, final_total)
}

test "scientific_calculation_simulation" {
  // ç§‘å­¦è®¡ç®—æ¨¡æ‹Ÿï¼šç®€å•çš„ç‰©ç†å…¬å¼
  // è®¡ç®—åŠ¨èƒ½ï¼šE = 1/2 * m * v^2
  let mass = 10      // è´¨é‡
  let velocity = 15  // é€Ÿåº¦
  
  // è®¡ç®— v^2
  let velocity_squared = @azimuth.multiply(velocity, velocity)
  // è®¡ç®— 1/2 * m * v^2ï¼Œç®€åŒ–ä¸º m * v^2 / 2
  let kinetic_energy = @azimuth.multiply(mass, velocity_squared) / 2
  
  @azimuth.assert_eq(1125, kinetic_energy)
  
  // è®¡ç®—åŠ¿èƒ½ï¼šE = m * g * h
  let height = 20
  let gravity = 10  // ç®€åŒ–çš„é‡åŠ›åŠ é€Ÿåº¦
  let potential_energy = @azimuth.multiply(@azimuth.multiply(mass, gravity), height)
  
  @azimuth.assert_eq(2000, potential_energy)
}

test "data_structure_operations" {
  // æ•°æ®ç»“æ„æ“ä½œæ¨¡æ‹Ÿ
  // æ¨¡æ‹Ÿæ•°ç»„ç´¢å¼•è®¡ç®—ï¼šrow * width + column
  let row = 3
  let column = 4
  let width = 10
  
  let index = @azimuth.add(@azimuth.multiply(row, width), column)
  @azimuth.assert_eq(34, index)
  
  // æ¨¡æ‹Ÿå“ˆå¸Œè¡¨å®¹é‡è®¡ç®—ï¼ˆä¸‹ä¸€ä¸ª2çš„å¹‚ï¼‰
  let current_capacity = 17
  // ç®€åŒ–è®¡ç®—ï¼šæ‰¾åˆ°å¤§äºç­‰äº current_capacity * 2 çš„æœ€å°2çš„å¹‚
  let target = @azimuth.multiply(current_capacity, 2)
  @azimuth.assert_eq(34, target)
}

test "game_mechanics_calculation" {
  // æ¸¸æˆæœºåˆ¶è®¡ç®—
  let base_damage = 100
  let level_multiplier = 3
  let critical_hit = 2
  let defense_reduction = 20
  
  // è®¡ç®—åŸºç¡€ä¼¤å®³ï¼šbase_damage * level_multiplier
  let damage_with_level = @azimuth.multiply(base_damage, level_multiplier)
  
  // è®¡ç®—æš´å‡»ä¼¤å®³
  let critical_damage = @azimuth.multiply(damage_with_level, critical_hit)
  
  // è®¡ç®—é˜²å¾¡å‡å…åçš„ä¼¤å®³
  let final_damage = @azimuth.add(critical_damage, -defense_reduction)
  
  @azimuth.assert_eq(580, final_damage)
  
  // è®¡ç®—ç»éªŒå€¼å¥–åŠ±ï¼šåŸºç¡€ç»éªŒ * (1 + ç­‰çº§åŠ æˆ)
  let base_exp = 50
  let level_bonus = 5
  let total_exp = @azimuth.multiply(base_exp, @azimuth.add(1, level_bonus))
  
  @azimuth.assert_eq(300, total_exp)
}

test "statistical_analysis" {
  // ç»Ÿè®¡åˆ†æè®¡ç®—
  // è®¡ç®—ä¸€ç»„æ•°æ®çš„å¹³å‡å€¼ã€æ–¹å·®ç­‰
  
  // è®¡ç®—æ€»å’Œï¼š10 + 20 + 30 + 40 + 50 = 150
  let sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(10, 20), 30), 40), 50)
  
  // è®¡ç®—å¹³å‡å€¼ï¼š150 / 5 = 30
  let average = sum / 5
  @azimuth.assert_eq(30, average)
  
  // è®¡ç®—æ ‡å‡†å·®ï¼ˆç®€åŒ–ï¼‰ï¼šå¹³æ–¹æ ¹((10-30)Â² + (20-30)Â² + ... + (50-30)Â²) / 5
  // è¿™é‡Œç®€åŒ–ä¸ºè®¡ç®—æ–¹å·®
  let diff1 = @azimuth.add(10, -30)
  let diff2 = @azimuth.add(20, -30)
  let diff3 = @azimuth.add(30, -30)
  let diff4 = @azimuth.add(40, -30)
  let diff5 = @azimuth.add(50, -30)
  
  let variance = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(
    @azimuth.multiply(diff1, diff1),
    @azimuth.multiply(diff2, diff2)),
    @azimuth.multiply(diff3, diff3)),
    @azimuth.multiply(diff4, diff4)),
    @azimuth.multiply(diff5, diff5)) / 5
  
  @azimuth.assert_eq(200, variance)
}

test "cryptography_simulation" {
  // å¯†ç å­¦æ¨¡æ‹Ÿï¼šç®€å•çš„å‡¯æ’’å¯†ç 
  let message = 1234  // è¡¨ç¤ºè¦åŠ å¯†çš„æ•°å­—
  let key = 7         // å¯†é’¥
  
  // åŠ å¯†ï¼š(message + key) mod 10000ï¼ˆç®€åŒ–ï¼‰
  let mut encrypted = @azimuth.add(message, key)
  if encrypted >= 10000 { encrypted = encrypted - 10000 }
  
  @azimuth.assert_eq(1241, encrypted)
  
  // è§£å¯†ï¼š(encrypted - key) mod 10000ï¼ˆç®€åŒ–ï¼‰
  let mut decrypted = @azimuth.add(encrypted, -key)
  if decrypted < 0 { decrypted = decrypted + 10000 }
  
  @azimuth.assert_eq(1234, decrypted)
}

test "error_boundary_conditions" {
  // é”™è¯¯è¾¹ç•Œæ¡ä»¶æµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•è¿ç»­è¿ç®—çš„è¾¹ç•Œå¤„ç†
  let chain1 = @azimuth.add(@azimuth.add(max_val, 1), 1)
  @azimuth.assert_eq(max_val, chain1)
  
  let chain2 = @azimuth.multiply(@azimuth.multiply(min_val, 2), 2)
  @azimuth.assert_eq(min_val, chain2)
  
  // æµ‹è¯•æ··åˆè¿ç®—çš„è¾¹ç•Œå¤„ç†
  let mixed1 = @azimuth.add(@azimuth.multiply(max_val, 2), -100)
  @azimuth.assert_eq(max_val, mixed1)
  
  let mixed2 = @azimuth.multiply(@azimuth.add(min_val, 100), 2)
  @azimuth.assert_eq(min_val, mixed2)
  
  // æµ‹è¯•æ–­è¨€å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(@azimuth.add(max_val, 1, true) == max_val)
  @azimuth.assert_eq(0, 1)(@azimuth.add(max_val, 1) > max_val)
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1))
}