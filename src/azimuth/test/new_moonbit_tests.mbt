// æ–°å¢çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// è¦†ç›– azimuth é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

test "addition_commutativity" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  let a = 12345
  let b = 67890
  
  let result1 = @azimuth.add(a, b)
  let result2 = @azimuth.add(b, a)
  @azimuth.assert_eq(result1, result2)
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  let c = -123
  let d = 456
  @azimuth.assert_eq(@azimuth.add(c, d), @azimuth.add(d, c))
}

test "multiplication_identity" {
  // æµ‹è¯•ä¹˜æ³•å•ä½å…ƒï¼ša * 1 = a
  let test_values = [0, 1, -1, 42, -42, 1000, -1000, 2147483647, -2147483648]
  
  // æµ‹è¯•æ­£å•ä½å…ƒ
  @azimuth.assert_eq(0, @azimuth.multiply(0, 1))
  @azimuth.assert_eq(42, @azimuth.multiply(42, 1))
  @azimuth.assert_eq(-42, @azimuth.multiply(-42, 1))
  @azimuth.assert_eq(2147483647, @azimuth.multiply(2147483647, 1))
  @azimuth.assert_eq(-2147483648, @azimuth.multiply(-2147483648, 1))
  
  // æµ‹è¯•è´Ÿå•ä½å…ƒ
  @azimuth.assert_eq(0, @azimuth.multiply(0, -1))
  @azimuth.assert_eq(-42, @azimuth.multiply(42, -1))
  @azimuth.assert_eq(42, @azimuth.multiply(-42, -1))
  @azimuth.assert_eq(-2147483647, @azimuth.multiply(2147483647, -1))
  @azimuth.assert_eq(-2147483648, @azimuth.multiply(-2147483648, -1))
}

test "string_processing_unicode" {
  // æµ‹è¯•åŒ…å«å„ç§ Unicode å­—ç¬¦çš„å­—ç¬¦ä¸²å¤„ç†
  @azimuth.assert_eq_string("Hello, ğŸŒŸ!", @azimuth.greet("ğŸŒŸ"))
  @azimuth.assert_eq_string("Hello, Î±Î²Î³Î´Îµ!", @azimuth.greet("Î±Î²Î³Î´Îµ"))
  @azimuth.assert_eq_string("Hello, ä½ å¥½!", @azimuth.greet("ä½ å¥½"))
  @azimuth.assert_eq_string("Hello, ã“ã‚“ã«ã¡ã¯!", @azimuth.greet("ã“ã‚“ã«ã¡ã¯"))
  @azimuth.assert_eq_string("Hello, ğŸ‘¨â€ğŸ’»!", @azimuth.greet("ğŸ‘¨â€ğŸ’»"))
}

test "financial_calculation_loan" {
  // æµ‹è¯•è´·æ¬¾è®¡ç®—åœºæ™¯
  // è´·æ¬¾é‡‘é¢ï¼š10000ï¼Œå¹´åˆ©ç‡ï¼š5%ï¼Œè´·æ¬¾æœŸé™ï¼š3å¹´
  // ç®€åŒ–è®¡ç®—ï¼šæ€»è¿˜æ¬¾é¢ = æœ¬é‡‘ + æœ¬é‡‘ Ã— åˆ©ç‡ Ã— å¹´æ•°
  let principal = 10000
  let annual_rate = 5  // 5%
  let years = 3
  
  let yearly_interest = @azimuth.multiply(principal, annual_rate)
  let total_interest = @azimuth.multiply(yearly_interest, years)
  let total_repayment = @azimuth.add(principal, total_interest)
  
  @azimuth.assert_eq(160000, total_repayment)  // 10000 + 10000Ã—5Ã—3 = 160000
}

test "temperature_conversion_precise" {
  // æµ‹è¯•ç²¾ç¡®çš„æ¸©åº¦è½¬æ¢
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼šF = C Ã— 9/5 + 32
  // ç®€åŒ–ä¸ºæ•´æ•°è®¡ç®—ï¼šF = C Ã— 2 + 30 - C/10
  
  let celsius_temps = [0, 10, 20, 30, 40, 100]
  
  // 0Â°C = 32Â°F (ç®€åŒ–è®¡ç®—ï¼š0Ã—2+30-0=30ï¼Œè¿‘ä¼¼å€¼)
  let fahrenheit_0 = @azimuth.add(@azimuth.multiply(0, 2), 30)
  @azimuth.assert_eq(30, fahrenheit_0)
  
  // 20Â°C = 68Â°F (ç®€åŒ–è®¡ç®—ï¼š20Ã—2+30-2=68)
  let fahrenheit_20 = @azimuth.add(@azimuth.add(@azimuth.multiply(20, 2), 30), -2)
  @azimuth.assert_eq(68, fahrenheit_20)
  
  // 100Â°C = 212Â°F (ç®€åŒ–è®¡ç®—ï¼š100Ã—2+30-10=220)
  let fahrenheit_100 = @azimuth.add(@azimuth.add(@azimuth.multiply(100, 2), 30), -10)
  @azimuth.assert_eq(220, fahrenheit_100)
}

test "geometry_area_calculations" {
  // æµ‹è¯•å‡ ä½•é¢ç§¯è®¡ç®—
  // çŸ©å½¢é¢ç§¯ï¼šé•¿ Ã— å®½
  let rectangle_length = 15
  let rectangle_width = 8
  let rectangle_area = @azimuth.multiply(rectangle_length, rectangle_width)
  @azimuth.assert_eq(120, rectangle_area)
  
  // ä¸‰è§’å½¢é¢ç§¯ï¼šåº• Ã— é«˜ Ã· 2
  let triangle_base = 12
  let triangle_height = 9
  let triangle_area = @azimuth.multiply(triangle_base, triangle_height) / 2
  @azimuth.assert_eq(54, triangle_area)
  
  // æ¢¯å½¢é¢ç§¯ï¼š(ä¸Šåº• + ä¸‹åº•) Ã— é«˜ Ã· 2
  let trapezoid_top = 6
  let trapezoid_bottom = 10
  let trapezoid_height = 5
  let trapezoid_area = @azimuth.multiply(@azimuth.add(trapezoid_top, trapezoid_bottom), trapezoid_height) / 2
  @azimuth.assert_eq(40, trapezoid_area)
}

test "shopping_cart_with_discount" {
  // æµ‹è¯•å¸¦æŠ˜æ‰£çš„è´­ç‰©è½¦è®¡ç®—
  let item1_price = 299
  let item1_quantity = 2
  let item2_price = 199
  let item2_quantity = 3
  let discount_threshold = 1000
  let discount_rate = 10  // 10%
  
  // è®¡ç®—å•†å“æ€»ä»·
  let item1_total = @azimuth.multiply(item1_price, item1_quantity)
  let item2_total = @azimuth.multiply(item2_price, item2_quantity)
  let subtotal = @azimuth.add(item1_total, item2_total)
  
  // è®¡ç®—æŠ˜æ‰£ï¼ˆå¦‚æœè¶…è¿‡é˜ˆå€¼ï¼‰
  let discount_amount = if (subtotal > discount_threshold) {
    @azimuth.multiply(subtotal, discount_rate) / 100
  } else {
    0
  }
  
  // è®¡ç®—æœ€ç»ˆä»·æ ¼
  let final_total = @azimuth.add(subtotal, -discount_amount)
  
  @azimuth.assert_eq(1094, final_total)  // (299Ã—2 + 199Ã—3) - 10% = 1194 - 119 = 1075
}

test "statistical_calculations" {
  // æµ‹è¯•ç»Ÿè®¡è®¡ç®—
  // æ•°æ®é›†ï¼š[23, 45, 67, 89, 12, 34, 56, 78, 90, 1]
  
  // è®¡ç®—æ€»å’Œ
  let sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(23, 45), 67), 89), 12), 34)
  let sum2 = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(56, 78), 90), 1), 0), 0)
  let total_sum = @azimuth.add(sum, sum2)
  @azimuth.assert_eq(495, total_sum)
  
  // è®¡ç®—å¹³å‡å€¼ï¼ˆæ•´æ•°é™¤æ³•ï¼‰
  let average = total_sum / 10
  @azimuth.assert_eq(49, average)
  
  // è®¡ç®—æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®ï¼ˆæå·®ï¼‰
  let max_val = 90
  let min_val = 1
  let range = @azimuth.add(max_val, -min_val)
  @azimuth.assert_eq(89, range)
}

test "complex_number_operations" {
  // æµ‹è¯•å¤åˆæ•°å­¦è¿ç®—
  // è®¡ç®—ï¼š((a + b) Ã— (c - d)) + (e Ã— f)
  let a = 15
  let b = 25
  let c = 40
  let d = 10
  let e = 8
  let f = 12
  
  let sum_ab = @azimuth.add(a, b)  // 40
  let diff_cd = @azimuth.add(c, -d)  // 30
  let product1 = @azimuth.multiply(sum_ab, diff_cd)  // 1200
  let product2 = @azimuth.multiply(e, f)  // 96
  let result = @azimuth.add(product1, product2)  // 1296
  
  @azimuth.assert_eq(1296, result)
}