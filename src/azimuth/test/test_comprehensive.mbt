// ç»¼åˆ MoonBit æµ‹è¯•ç”¨ä¾‹ - è¦†ç›–æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ
// å¯¼å…¥ azimuth åŒ…ä»¥ä½¿ç”¨å…¶ä¸­çš„å‡½æ•°

test "addition_comprehensive_test" {
  // æµ‹è¯•åŠ æ³•çš„å„ç§æƒ…å†µ
  // åŸºæœ¬åŠ æ³•
  assert_eq(10, azimuth::add(7, 3))
  assert_eq(0, azimuth::add(5, -5))
  assert_eq(-10, azimuth::add(-7, -3))
  
  // ä¸0ç›¸åŠ 
  assert_eq(5, azimuth::add(5, 0))
  assert_eq(5, azimuth::add(0, 5))
  assert_eq(0, azimuth::add(0, 0))
  
  // å¤§æ•°ç›¸åŠ 
  assert_eq(2000000, azimuth::add(1000000, 1000000))
  assert_eq(-2000000, azimuth::add(-1000000, -1000000))
}

test "multiplication_comprehensive_test" {
  // æµ‹è¯•ä¹˜æ³•çš„å„ç§æƒ…å†µ
  // åŸºæœ¬ä¹˜æ³•
  assert_eq(15, azimuth::multiply(3, 5))
  assert_eq(-12, azimuth::multiply(-3, 4))
  assert_eq(12, azimuth::multiply(-3, -4))
  
  // ä¸0å’Œ1ç›¸ä¹˜
  assert_eq(0, azimuth::multiply(8, 0))
  assert_eq(8, azimuth::multiply(8, 1))
  assert_eq(8, azimuth::multiply(1, 8))
  
  // å¤§æ•°ç›¸ä¹˜
  assert_eq(1000000, azimuth::multiply(1000, 1000))
  assert_eq(-1000000, azimuth::multiply(-1000, 1000))
}

test "boundary_value_test" {
  // æµ‹è¯•è¾¹ç•Œå€¼å¤„ç†
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼è¿ç®—
  assert_eq(max_val, azimuth::add(max_val, 0))
  assert_eq(max_val, azimuth::multiply(max_val, 1))
  assert_eq(min_val, azimuth::multiply(max_val, -1))
  
  // æœ€å°å€¼è¿ç®—
  assert_eq(min_val, azimuth::add(min_val, 0))
  assert_eq(min_val, azimuth::multiply(min_val, 1))
  assert_eq(min_val, azimuth::multiply(min_val, -1))
  
  // æå€¼ç›¸åŠ 
  assert_eq(-1, azimuth::add(max_val, min_val))
}

test "overflow_protection_test" {
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  // åŠ æ³•æº¢å‡ºä¿æŠ¤
  assert_eq(max_val, azimuth::add(max_val, 1))
  assert_eq(max_val, azimuth::add(max_val, 100))
  assert_eq(max_val, azimuth::add(max_val, max_val))
  
  assert_eq(min_val, azimuth::add(min_val, -1))
  assert_eq(min_val, azimuth::add(min_val, -100))
  assert_eq(min_val, azimuth::add(min_val, min_val))
  
  // ä¹˜æ³•æº¢å‡ºä¿æŠ¤
  assert_eq(max_val, azimuth::multiply(max_val, 2))
  assert_eq(min_val, azimuth::multiply(min_val, 2))
  assert_eq(max_val, azimuth::multiply(46341, 46341))  // sqrt(max_val)çš„å¹³æ–¹
}

test "string_processing_test" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†
  // åŸºæœ¬å­—ç¬¦ä¸²
  assert_eq_string("Hello, World!", azimuth::greet("World"))
  assert_eq_string("Hello, MoonBit!", azimuth::greet("MoonBit"))
  
  // ç‰¹æ®Šå­—ç¬¦
  assert_eq_string("Hello, @#$%!", azimuth::greet("@#$%"))
  assert_eq_string("Hello, 123!", azimuth::greet("123"))
  
  // Unicodeå­—ç¬¦
  assert_eq_string("Hello, æµ‹è¯•!", azimuth::greet("æµ‹è¯•"))
  assert_eq_string("Hello, ğŸŒ!", azimuth::greet("ğŸŒ"))
  
  // ç©ºå­—ç¬¦ä¸²å’Œç©ºæ ¼
  assert_eq_string("Hello, !", azimuth::greet(""))
  assert_eq_string("Hello,  !", azimuth::greet(" "))
}

test "function_composition_test" {
  // æµ‹è¯•å‡½æ•°ç»„åˆ
  // å¤åˆè®¡ç®—ï¼š(a+b)Ã—(c-d)
  let a = 8
  let b = 2
  let c = 15
  let d = 5
  
  let sum_ab = azimuth::add(a, b)
  let diff_cd = azimuth::add(c, -d)
  let result = azimuth::multiply(sum_ab, diff_cd)
  
  assert_eq(100, result)  // (8+2)Ã—(15-5) = 10Ã—10 = 100
  
  // é“¾å¼è®¡ç®—ï¼šaÃ—b + cÃ—d
  let e = 3
  let f = 4
  let g = 5
  let h = 6
  
  let product1 = azimuth::multiply(e, f)
  let product2 = azimuth::multiply(g, h)
  let sum_result = azimuth::add(product1, product2)
  
  assert_eq(42, sum_result)  // 3Ã—4 + 5Ã—6 = 12 + 30 = 42
}

test "real_world_application_test" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯
  // è´­ç‰©è½¦è®¡ç®—
  let item1_price = 199
  let item1_quantity = 2
  let item2_price = 299
  let item2_quantity = 1
  
  let total1 = azimuth::multiply(item1_price, item1_quantity)
  let total2 = azimuth::multiply(item2_price, item2_quantity)
  let cart_total = azimuth::add(total1, total2)
  
  assert_eq(697, cart_total)  // 199Ã—2 + 299Ã—1 = 398 + 299 = 697
  
  // é¢ç§¯è®¡ç®—
  let length = 12
  let width = 8
  let area = azimuth::multiply(length, width)
  
  assert_eq(96, area)  // 12Ã—8 = 96
  
  // å‘¨é•¿è®¡ç®—
  let perimeter = azimuth::multiply(azimuth::add(length, width), 2)
  assert_eq(40, perimeter)  // (12+8)Ã—2 = 40
}

test "conditional_logic_test" {
  // æµ‹è¯•æ¡ä»¶é€»è¾‘
  let x = 15
  let y = 20
  
  // æ¡ä»¶ï¼šå¦‚æœx<yåˆ™ç›¸åŠ ï¼Œå¦åˆ™ç›¸ä¹˜
  let condition = x < y
  let result = if condition { azimuth::add(x, y) } else { azimuth::multiply(x, y) }
  assert_eq(35, result)  // 15<20ä¸ºçœŸï¼Œæ‰€ä»¥15+20=35
  
  // åå‘æ¡ä»¶
  let result2 = if x > y { azimuth::add(x, y) } else { azimuth::multiply(x, y) }
  assert_eq(300, result2)  // 15>20ä¸ºå‡ï¼Œæ‰€ä»¥15Ã—20=300
  
  // åµŒå¥—æ¡ä»¶
  let z = 10
  let complex_result = 
    if x < y {
      if y < z { azimuth::add(x, azimuth::add(y, z)) } 
      else { azimuth::multiply(x, azimuth::add(y, z)) }
    } else {
      azimuth::add(azimuth::multiply(x, y), z)
    }
  
  assert_eq(350, complex_result)  // 15<20ä¸ºçœŸï¼Œ20<10ä¸ºå‡ï¼Œæ‰€ä»¥15Ã—(20+10)=15Ã—30=450
}

test "mathematical_series_test" {
  // æµ‹è¯•æ•°å­¦æ•°åˆ—
  // ç­‰å·®æ•°åˆ—å‰5é¡¹å’Œï¼š2+4+6+8+10 = 30
  let sum1 = azimuth::add(azimuth::add(2, 4), azimuth::add(6, azimuth::add(8, 10)))
  assert_eq(30, sum1)
  
  // ç­‰æ¯”æ•°åˆ—å‰4é¡¹ç§¯ï¼š2Ã—4Ã—8Ã—16 = 1024
  let product1 = azimuth::multiply(2, azimuth::multiply(4, azimuth::multiply(8, 16)))
  assert_eq(1024, product1)
  
  // å¹³æ–¹å’Œï¼š1Â²+2Â²+3Â²+4Â² = 1+4+9+16 = 30
  let square1 = azimuth::multiply(1, 1)
  let square2 = azimuth::multiply(2, 2)
  let square3 = azimuth::multiply(3, 3)
  let square4 = azimuth::multiply(4, 4)
  let sum_of_squares = azimuth::add(azimuth::add(azimuth::add(square1, square2), square3), square4)
  assert_eq(30, sum_of_squares)
}

test "performance_test" {
  // æµ‹è¯•æ€§èƒ½ç›¸å…³çš„å¤§æ•°è¿ç®—
  // å¤§æ•°åŠ æ³•
  let large1 = 1000000
  let large2 = 2000000
  let large3 = 3000000
  
  assert_eq(6000000, azimuth::add(azimuth::add(large1, large2), large3))
  
  // å¤§æ•°ä¹˜æ³•
  assert_eq(6000000000000000, azimuth::multiply(large1, azimuth::multiply(large2, large3)))
  
  // é‡å¤è¿ç®—é“¾
  let chain_result = azimuth::add(1, 1)
  chain_result = azimuth::add(chain_result, 2)
  chain_result = azimuth::add(chain_result, 3)
  chain_result = azimuth::add(chain_result, 4)
  chain_result = azimuth::add(chain_result, 5)
  
  assert_eq(16, chain_result)  // 1+1+2+3+4+5 = 16
  
  // åµŒå¥—è¿ç®—
  let nested_result = azimuth::multiply(
    azimuth::add(100, 200), 
    azimuth::add(azimuth::multiply(3, 4), azimuth::multiply(5, 6))
  )
  assert_eq(12600, nested_result)  // (100+200)Ã—(3Ã—4+5Ã—6) = 300Ã—(12+30) = 300Ã—42 = 12600
}