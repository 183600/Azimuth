// ç”¨æˆ·èšç„¦æµ‹è¯•ç”¨ä¾‹
// ä¸“é—¨é’ˆå¯¹ azimuth åº“æ ¸å¿ƒåŠŸèƒ½çš„æµ‹è¯•ï¼Œä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

test "addition_overflow_protection" {
  // æµ‹è¯•æ­£æ•°æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let overflow_result = @azimuth.add(max_val, 100)
  @azimuth.assert_eq(max_val, overflow_result)
  
  // æµ‹è¯•è´Ÿæ•°æº¢å‡ºä¿æŠ¤
  let min_val = -2147483648
  let underflow_result = @azimuth.add(min_val, -100)
  @azimuth.assert_eq(min_val, underflow_result)
}

test "multiplication_overflow_edge_cases" {
  // æµ‹è¯•å¤§æ•°ç›¸ä¹˜çš„æº¢å‡ºå¤„ç†
  let large_num1 = 46341
  let large_num2 = 46341
  let overflow_result = @azimuth.multiply(large_num1, large_num2)
  @azimuth.assert_eq(2147483647, overflow_result)
  
  // æµ‹è¯•æœ€å°å€¼ä¸è´Ÿæ•°ç›¸ä¹˜
  let min_val = -2147483648
  let neg_result = @azimuth.multiply(min_val, -2)
  @azimuth.assert_eq(min_val, neg_result)
}

test "greet_function_unicode_handling" {
  // æµ‹è¯• Unicode å­—ç¬¦ä¸²å¤„ç†
  let unicode_name = "å¼ ä¸‰æå››"
  let unicode_result = @azimuth.greet(unicode_name)
  @azimuth.assert_eq_string("Hello, å¼ ä¸‰æå››!", unicode_result)
  
  // æµ‹è¯• emoji è¡¨æƒ…ç¬¦å·
  let emoji_name = "ğŸš€ğŸŒŸ"
  let emoji_result = @azimuth.greet(emoji_name)
  @azimuth.assert_eq_string("Hello, ğŸš€ğŸŒŸ!", emoji_result)
}

test "complex_financial_calculation" {
  // æµ‹è¯•å¤æ‚é‡‘èè®¡ç®—åœºæ™¯
  let principal = 10000
  let rate = 5
  let years = 3
  let fee = 50
  
  // è®¡ç®—å¤åˆ©ï¼šæœ¬é‡‘ + æœ¬é‡‘ Ã— åˆ©ç‡ Ã— å¹´æ•°
  let interest = @azimuth.multiply(principal, @azimuth.multiply(rate, years))
  let subtotal = @azimuth.add(principal, interest)
  let total = @azimuth.add(subtotal, fee)
  
  @azimuth.assert_eq(160050, total)
}

test "geometric_calculations" {
  // æµ‹è¯•å‡ ä½•è®¡ç®—
  let radius = 7
  
  // è®¡ç®—åœ†å‘¨é•¿ï¼ˆç®€åŒ–ï¼‰ï¼š2 Ã— 3 Ã— r
  let circumference = @azimuth.multiply(@azimuth.multiply(2, 3), radius)
  @azimuth.assert_eq(42, circumference)
  
  // è®¡ç®—åœ†é¢ç§¯ï¼ˆç®€åŒ–ï¼‰ï¼š3 Ã— rÂ²
  let area = @azimuth.multiply(3, @azimuth.multiply(radius, radius))
  @azimuth.assert_eq(147, area)
}

test "temperature_conversion_scenarios" {
  // æµ‹è¯•æ¸©åº¦è½¬æ¢åœºæ™¯
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ï¼‰ï¼šF = C Ã— 2 + 30
  
  // æµ‹è¯•å†°ç‚¹
  let freezing_c = 0
  let freezing_f = @azimuth.add(@azimuth.multiply(freezing_c, 2), 30)
  @azimuth.assert_eq(30, freezing_f)
  
  // æµ‹è¯•æ²¸ç‚¹
  let boiling_c = 100
  let boiling_f = @azimuth.add(@azimuth.multiply(boiling_c, 2), 30)
  @azimuth.assert_eq(230, boiling_f)
  
  // æµ‹è¯•å®¤æ¸©
  let room_c = 22
  let room_f = @azimuth.add(@azimuth.multiply(room_c, 2), 30)
  @azimuth.assert_eq(74, room_f)
}

test "statistical_analysis" {
  // æµ‹è¯•ç»Ÿè®¡åˆ†æåŠŸèƒ½
  // è®¡ç®—ä¸€ç»„æ•°çš„å¹³å‡å€¼
  let numbers_sum = @azimuth.add(@azimuth.add(@azimuth.add(85, 90), 78), 92)
  let count = 4
  let average = numbers_sum / count
  @azimuth.assert_eq(86, average)
  
  // è®¡ç®—æ ‡å‡†å·®ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let variance_numerator = @azimuth.add(
    @azimuth.add(@azimuth.multiply(85-86, 85-86), @azimuth.multiply(90-86, 90-86)),
    @azimuth.add(@azimuth.multiply(78-86, 78-86), @azimuth.multiply(92-86, 92-86))
  )
  let variance = variance_numerator / count
  @azimuth.assert_eq(26, variance)
}

test "time_based_calculations" {
  // æµ‹è¯•åŸºäºæ—¶é—´çš„è®¡ç®—
  // è®¡ç®—å·¥ä½œæ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
  let start_hour = 9
  let start_min = 30
  let end_hour = 17
  let end_min = 45
  
  let start_total = @azimuth.add(@azimuth.multiply(start_hour, 60), start_min)
  let end_total = @azimuth.add(@azimuth.multiply(end_hour, 60), end_min)
  let work_duration = @azimuth.add(end_total, -start_total)
  
  @azimuth.assert_eq(495, work_duration)
  
  // è½¬æ¢ä¸ºå°æ—¶
  let work_hours = work_duration / 60
  let remaining_mins = work_duration % 60
  @azimuth.assert_eq(8, work_hours)
  @azimuth.assert_eq(15, remaining_mins)
}

test "string_processing_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
  // æµ‹è¯•å„ç§ç‰¹æ®Šå­—ç¬¦ç»„åˆ
  let special_chars = "!@#$%^&*()_+-=[]{}|;':\",./<>?"
  let special_result = @azimuth.greet(special_chars)
  @azimuth.assert_eq_string("Hello, !@#$%^&*()_+-=[]{}|;':\",./<>?!", special_result)
  
  // æµ‹è¯•æ•°å­—å­—ç¬¦ä¸²
  let numeric_string = "1234567890"
  let numeric_result = @azimuth.greet(numeric_string)
  @azimuth.assert_eq_string("Hello, 1234567890!", numeric_result)
}

test "comprehensive_business_scenario" {
  // æµ‹è¯•ç»¼åˆä¸šåŠ¡åœºæ™¯ï¼šç”µå•†è®¢å•è®¡ç®—
  let product_price = 299
  let quantity = 2
  let discount_rate = 10
  let tax_rate = 8
  let shipping = 20
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = @azimuth.multiply(product_price, quantity)
  
  // è®¡ç®—æŠ˜æ‰£
  let discount_amount = @azimuth.multiply(subtotal, discount_rate) / 100
  let discounted_price = @azimuth.add(subtotal, -discount_amount)
  
  // è®¡ç®—ç¨è´¹
  let tax_amount = @azimuth.multiply(discounted_price, tax_rate) / 100
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_total = @azimuth.add(@azimuth.add(discounted_price, tax_amount), shipping)
  
  @azimuth.assert_eq(610, final_total)
}