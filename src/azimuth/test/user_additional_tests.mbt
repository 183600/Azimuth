// ç”¨æˆ·æ·»åŠ çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½

test "add_function_commutative" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(15, @azimuth.add(7, 8))
  @azimuth.assert_eq(15, @azimuth.add(8, 7))
  @azimuth.assert_eq(0, @azimuth.add(-5, 5))
  @azimuth.assert_eq(0, @azimuth.add(5, -5))
}

test "add_function_associative" {
  // æµ‹è¯•åŠ æ³•ç»“åˆå¾‹
  @azimuth.assert_eq(15, @azimuth.add(@azimuth.add(3, 4), 8))
  @azimuth.assert_eq(15, @azimuth.add(3, @azimuth.add(4, 8)))
  @azimuth.assert_eq(-10, @azimuth.add(@azimuth.add(-5, -3), -2))
  @azimuth.assert_eq(-10, @azimuth.add(-5, @azimuth.add(-3, -2)))
}

test "multiply_function_commutative" {
  // æµ‹è¯•ä¹˜æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(12, @azimuth.multiply(3, 4))
  @azimuth.assert_eq(12, @azimuth.multiply(4, 3))
  @azimuth.assert_eq(-15, @azimuth.multiply(-3, 5))
  @azimuth.assert_eq(-15, @azimuth.multiply(5, -3))
}

test "multiply_function_distributive" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹
  @azimuth.assert_eq(22, @azimuth.multiply(2, @azimuth.add(5, 6)))
  @azimuth.assert_eq(22, @azimuth.add(@azimuth.multiply(2, 5), @azimuth.multiply(2, 6)))
  @azimuth.assert_eq(-6, @azimuth.multiply(3, @azimuth.add(-2, 0)))
  @azimuth.assert_eq(-6, @azimuth.add(@azimuth.multiply(3, -2), @azimuth.multiply(3, 0)))
}

test "greet_function_unicode" {
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„é—®å€™
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ğŸŒŸ!", @azimuth.greet("ğŸŒŸ"))
  @azimuth.assert_eq_string("Hello, CafÃ©!", @azimuth.greet("CafÃ©"))
  @azimuth.assert_eq_string("Hello, Ã±oÃ±o!", @azimuth.greet("Ã±oÃ±o"))
}

test "complex_calculation_scenario" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯ï¼šè®¡ç®—è´­ç‰©è½¦æ€»ä»·
  let item1_price = 199
  let item1_quantity = 2
  let item2_price = 299
  let item2_quantity = 1
  
  // è®¡ç®—æ¯ç§å•†å“çš„æ€»ä»·
  let total1 = @azimuth.multiply(item1_price, item1_quantity)
  let total2 = @azimuth.multiply(item2_price, item2_quantity)
  
  // è®¡ç®—è´­ç‰©è½¦æ€»ä»·
  let cart_total = @azimuth.add(total1, total2)
  
  // éªŒè¯æ€»ä»·ï¼š199*2 + 299*1 = 398 + 299 = 697
  @azimuth.assert_eq(697, cart_total)
}

test "temperature_conversion_scenario" {
  // æµ‹è¯•æ¸©åº¦è½¬æ¢åœºæ™¯
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼šF = C * 2 + 30
  let celsius = 20
  let fahrenheit = @azimuth.add(@azimuth.multiply(celsius, 2), 30)
  @azimuth.assert_eq(70, fahrenheit)
  
  // æµ‹è¯•å†°ç‚¹
  let freezing = @azimuth.add(@azimuth.multiply(0, 2), 30)
  @azimuth.assert_eq(30, freezing)
  
  // æµ‹è¯•æ²¸ç‚¹
  let boiling = @azimuth.add(@azimuth.multiply(100, 2), 30)
  @azimuth.assert_eq(230, boiling)
}

test "boundary_value_operations" {
  // æµ‹è¯•è¾¹ç•Œå€¼è¿ç®—
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼ä¸0çš„è¿ç®—
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, 0))
  
  // æœ€å°å€¼ä¸0çš„è¿ç®—
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(min_val, 0))
  
  // æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
}

test "mathematical_formula_validation" {
  // æµ‹è¯•æ•°å­¦å…¬å¼éªŒè¯
  let a = 5
  let b = 3
  
  // å¹³æ–¹å·®å…¬å¼ï¼š(a+b)*(a-b) = aÂ²-bÂ²
  let sum = @azimuth.add(a, b)
  let diff = @azimuth.add(a, -b)
  let product = @azimuth.multiply(sum, diff)
  let square_diff = @azimuth.add(@azimuth.multiply(a, a), @azimuth.multiply(-b, b))
  
  @azimuth.assert_eq(product, square_diff)
}

test "financial_calculation_scenario" {
  // æµ‹è¯•é‡‘èè®¡ç®—åœºæ™¯
  // ç®€å•åˆ©æ¯è®¡ç®—ï¼šæœ¬é‡‘ + æœ¬é‡‘ Ã— åˆ©ç‡ Ã— æ—¶é—´
  let principal = 10000
  let rate = 5  // 5%
  let time = 3  // 3å¹´
  
  let interest = @azimuth.multiply(principal, @azimuth.multiply(rate, time))
  let total = @azimuth.add(principal, interest)
  
  // éªŒè¯ï¼š10000 + 10000*5*3 = 10000 + 150000 = 160000
  @azimuth.assert_eq(160000, total)
}