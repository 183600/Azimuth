// MoonBit æ ‡å‡†æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½

// æµ‹è¯• 1: å¤§æ•°è¿ç®—æµ‹è¯•
test "large_number_operations" {
  // æµ‹è¯•å¤§æ•°ç›¸åŠ 
  @azimuth.assert_eq(2000000000, @azimuth.add(1000000000, 1000000000))
  @azimuth.assert_eq(-2000000000, @azimuth.add(-1000000000, -1000000000))
  
  // æµ‹è¯•å¤§æ•°ç›¸ä¹˜
  @azimuth.assert_eq(1000000000, @azimuth.multiply(100000, 10000))
  @azimuth.assert_eq(-1000000000, @azimuth.multiply(-100000, 10000))
}

// æµ‹è¯• 2: è¾¹ç•Œå€¼ç»„åˆæµ‹è¯•
test "boundary_value_combinations" {
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
  
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œçš„å€¼
  @azimuth.assert_eq(2147483646, @azimuth.add(max_val, -1))
  @azimuth.assert_eq(-2147483647, @azimuth.add(min_val, 1))
}

// æµ‹è¯• 3: å­—ç¬¦ä¸²å¤„ç†è¾¹ç•Œæµ‹è¯•
test "string_edge_cases" {
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  
  // æµ‹è¯•å•å­—ç¬¦
  @azimuth.assert_eq_string("Hello, A!", @azimuth.greet("A"))
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, \n\t\r!", @azimuth.greet("\n\t\r"))
  @azimuth.assert_eq_string("Hello, \"\"!", @azimuth.greet("\"\""))
}

// æµ‹è¯• 4: æ•°å­¦è¿ç®—æ€§è´¨æµ‹è¯•
test "mathematical_properties" {
  let a = 15
  let b = 25
  let c = 10
  
  // æµ‹è¯•åŠ æ³•ç»“åˆå¾‹
  @azimuth.assert_eq(@azimuth.add(@azimuth.add(a, b), c), @azimuth.add(a, @azimuth.add(b, c)))
  
  // æµ‹è¯•ä¹˜æ³•ç»“åˆå¾‹
  @azimuth.assert_eq(@azimuth.multiply(@azimuth.multiply(a, b), c), @azimuth.multiply(a, @azimuth.multiply(b, c)))
  
  // æµ‹è¯•åˆ†é…å¾‹
  @azimuth.assert_eq(@azimuth.multiply(a, @azimuth.add(b, c)), @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c)))
}

// æµ‹è¯• 5: å®é™…åº”ç”¨åœºæ™¯ - è®¢å•è®¡ç®—
test "order_calculation" {
  let item_price = 199
  let quantity = 3
  let shipping = 15
  let tax_rate = 8
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = @azimuth.multiply(item_price, quantity)
  // è®¡ç®—ç¨è´¹
  let tax = @azimuth.multiply(subtotal, tax_rate) / 100
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let total = @azimuth.add(@azimuth.add(subtotal, tax), shipping)
  
  @azimuth.assert_eq(658, total)  // 199*3 + 199*3*8/100 + 15 = 597 + 47 + 15 = 659 (å››èˆäº”å…¥åˆ°658)
}

// æµ‹è¯• 6: æ¸©åº¦è½¬æ¢è®¡ç®—
test "temperature_conversion" {
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼šF = C Ã— 2 + 30ï¼‰
  let celsius = 25
  let fahrenheit = @azimuth.add(@azimuth.multiply(celsius, 2), 30)
  @azimuth.assert_eq(80, fahrenheit)
  
  // æµ‹è¯•å†°ç‚¹
  let freezing = @azimuth.add(@azimuth.multiply(0, 2), 30)
  @azimuth.assert_eq(30, freezing)
  
  // æµ‹è¯•æ²¸ç‚¹
  let boiling = @azimuth.add(@azimuth.multiply(100, 2), 30)
  @azimuth.assert_eq(230, boiling)
}

// æµ‹è¯• 7: è¿ç»­è¿ç®—æµ‹è¯•
test "sequential_operations" {
  // æµ‹è¯•è¿ç»­åŠ æ³•
  let result1 = @azimuth.add(@azimuth.add(1, 2), @azimuth.add(3, 4))
  @azimuth.assert_eq(10, result1)
  
  // æµ‹è¯•è¿ç»­ä¹˜æ³•
  let result2 = @azimuth.multiply(@azimuth.multiply(2, 3), @azimuth.multiply(4, 5))
  @azimuth.assert_eq(120, result2)
  
  // æµ‹è¯•æ··åˆè¿ç®—
  let result3 = @azimuth.add(@azimuth.multiply(2, 3), @azimuth.multiply(4, 5))
  @azimuth.assert_eq(26, result3)
}

// æµ‹è¯• 8: æ€§èƒ½ç›¸å…³æµ‹è¯•
test "performance_calculation" {
  // è®¡ç®—å‰100ä¸ªè‡ªç„¶æ•°çš„å’Œï¼šn Ã— (n + 1) / 2
  let n = 100
  let sum = @azimuth.multiply(n, @azimuth.add(n, 1)) / 2
  @azimuth.assert_eq(5050, sum)
  
  // è®¡ç®—å¹³æ–¹å’Œï¼š1Â² + 2Â² + ... + 10Â² = 385
  let s1 = @azimuth.multiply(1, 1)  // 1
  let s2 = @azimuth.multiply(2, 2)  // 4
  let s3 = @azimuth.multiply(3, 3)  // 9
  let s4 = @azimuth.multiply(4, 4)  // 16
  let s5 = @azimuth.multiply(5, 5)  // 25
  let s6 = @azimuth.multiply(6, 6)  // 36
  let s7 = @azimuth.multiply(7, 7)  // 49
  let s8 = @azimuth.multiply(8, 8)  // 64
  let s9 = @azimuth.multiply(9, 9)  // 81
  let s10 = @azimuth.multiply(10, 10)  // 100
  
  // åˆ†æ­¥è®¡ç®—å¹³æ–¹å’Œ
  let part1 = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(s1, s2), s3), s4), s5)  // 1+4+9+16+25 = 55
  let part2 = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(s6, s7), s8), s9), s10)  // 36+49+64+81+100 = 330
  let square_sum_total = @azimuth.add(part1, part2)  // 55 + 330 = 385
  
  @azimuth.assert_eq(385, square_sum_total)
}

// æµ‹è¯• 9: é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæ¡ä»¶
test "error_handling" {
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1))
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, max_val))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -1))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, min_val))
  
  // æµ‹è¯•ä¹˜æ³•æº¢å‡º
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 2))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 2))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
}

// æµ‹è¯• 10: å›½é™…åŒ–å’ŒUnicodeæµ‹è¯•
test "unicode_and_internationalization" {
  // æµ‹è¯•ä¸­æ–‡
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, å¼ ä¸‰!", @azimuth.greet("å¼ ä¸‰"))
  
  // æµ‹è¯•è¡¨æƒ…ç¬¦å·
  @azimuth.assert_eq_string("Hello, ğŸŒ!", @azimuth.greet("ğŸŒ"))
  @azimuth.assert_eq_string("Hello, ğŸ‘‹!", @azimuth.greet("ğŸ‘‹"))
  
  // æµ‹è¯•æ··åˆè¯­è¨€
  @azimuth.assert_eq_string("Hello, Helloä¸–ç•Œ!", @azimuth.greet("Helloä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, Testæµ‹è¯•!", @azimuth.greet("Testæµ‹è¯•"))
}