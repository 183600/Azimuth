// ç»¼åˆæµ‹è¯•ç”¨ä¾‹ - è¡¥å……ç°æœ‰æµ‹è¯•çš„è¦†ç›–èŒƒå›´

///|
test "add_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ a + b = b + a
  assert_eq(add(123, 456), add(456, 123))
  assert_eq(add(-123, 456), add(456, -123))
  assert_eq(add(-123, -456), add(-456, -123))
  assert_eq(add(0, 123), add(123, 0))
  assert_eq(add(2147483647, -2147483648), add(-2147483648, 2147483647))
}

///|
test "add_associative_property" {
  // æµ‹è¯•åŠ æ³•ç»“åˆå¾‹ (a + b) + c = a + (b + c)
  assert_eq(add(add(10, 20), 30), add(10, add(20, 30)))
  assert_eq(add(add(-10, 20), 30), add(-10, add(20, 30)))
  assert_eq(add(add(100, 200), -300), add(100, add(200, -300)))
}

///|
test "multiply_commutative_property" {
  // æµ‹è¯•ä¹˜æ³•äº¤æ¢å¾‹ a * b = b * a
  assert_eq(multiply(12, 34), multiply(34, 12))
  assert_eq(multiply(-12, 34), multiply(34, -12))
  assert_eq(multiply(-12, -34), multiply(-34, -12))
  assert_eq(multiply(0, 123), multiply(123, 0))
  assert_eq(multiply(1, -2147483648), multiply(-2147483648, 1))
}

///|
test "multiply_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ a * (b + c) = a * b + a * c
  let a = 5
  let b = 10
  let c = 15
  assert_eq(multiply(a, add(b, c)), add(multiply(a, b), multiply(a, c)))
  
  let a2 = -3
  let b2 = 7
  let c2 = -2
  assert_eq(multiply(a2, add(b2, c2)), add(multiply(a2, b2), multiply(a2, c2)))
}

///|
test "greet_special_characters" {
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq("Hello, @#$%!", greet("@#$%"))
  assert_eq("Hello, ä¸­æ–‡æµ‹è¯•!", greet("ä¸­æ–‡æµ‹è¯•"))
  assert_eq("Hello,   !", greet("  "))  // ç©ºæ ¼
  assert_eq("Hello, \n\t!", greet("\n\t"))  // æ¢è¡Œå’Œåˆ¶è¡¨ç¬¦
  assert_eq("Hello, ğŸŒ™!", greet("ğŸŒ™"))  // emoji
}

///|
test "add_identity_elements" {
  // æµ‹è¯•åŠ æ³•å•ä½å…ƒï¼ša + 0 = a
  assert_eq(42, add(42, 0))
  assert_eq(-42, add(-42, 0))
  assert_eq(2147483647, add(2147483647, 0))
  assert_eq(-2147483648, add(-2147483648, 0))
  assert_eq(0, add(0, 0))
}

///|
test "multiply_identity_elements" {
  // æµ‹è¯•ä¹˜æ³•å•ä½å…ƒï¼ša * 1 = a
  assert_eq(42, multiply(42, 1))
  assert_eq(-42, multiply(-42, 1))
  assert_eq(2147483647, multiply(2147483647, 1))
  assert_eq(-2147483648, multiply(-2147483648, 1))
  assert_eq(1, multiply(1, 1))
  
  // æµ‹è¯•ä¹˜æ³•é›¶å…ƒï¼ša * 0 = 0
  assert_eq(0, multiply(42, 0))
  assert_eq(0, multiply(-42, 0))
  assert_eq(0, multiply(2147483647, 0))
  assert_eq(0, multiply(-2147483648, 0))
  assert_eq(0, multiply(0, 0))
}

///|
test "boundary_value_combinations" {
  // æµ‹è¯•è¾¹ç•Œå€¼çš„å„ç§ç»„åˆ
  let max = 2147483647
  let min = -2147483648
  
  // åŠ æ³•è¾¹ç•Œç»„åˆ
  assert_eq(max, add(max, max))
  assert_eq(min, add(min, min))
  assert_eq(-1, add(max, min))
  assert_eq(-1, add(min, max))
  assert_eq(max - 1, add(max, -1))
  assert_eq(min + 1, add(min, 1))
  
  // ä¹˜æ³•è¾¹ç•Œç»„åˆ
  assert_eq(max, multiply(max, 2))
  assert_eq(min, multiply(min, 2))
  assert_eq(min, multiply(min, -1))
  assert_eq(0, multiply(max, 0))
  assert_eq(0, multiply(min, 0))
}

///|
test "power_of_two_operations" {
  // æµ‹è¯•2çš„å¹‚æ¬¡è¿ç®—
  assert_eq(4, multiply(2, 2))
  assert_eq(8, multiply(2, 4))
  assert_eq(16, multiply(4, 4))
  assert_eq(1024, multiply(32, 32))
  assert_eq(65536, multiply(256, 256))
  
  // æµ‹è¯•2çš„å¹‚æ¬¡åŠ æ³•
  assert_eq(6, add(2, 4))
  assert_eq(12, add(4, 8))
  assert_eq(24, add(8, 16))
  assert_eq(48, add(16, 32))
}