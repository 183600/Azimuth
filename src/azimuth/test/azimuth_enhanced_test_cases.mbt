// é«˜è´¨é‡ MoonBit æµ‹è¯•ç”¨ä¾‹ - é’ˆå¯¹ azimuth åº“çš„è¡¥å……æµ‹è¯•
// é‡ç‚¹æµ‹è¯•è¾¹ç•Œæƒ…å†µã€æ•°å­¦æ€§è´¨å’Œå®é™…åº”ç”¨åœºæ™¯

test "mathematical_identity_elements" {
  // æµ‹è¯•æ•°å­¦å•ä½å…ƒæ€§è´¨
  // åŠ æ³•å•ä½å…ƒï¼š0
  @azimuth.assert_eq(42, @azimuth.add(42, 0))
  @azimuth.assert_eq(-17, @azimuth.add(-17, 0))
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  
  // ä¹˜æ³•å•ä½å…ƒï¼š1
  @azimuth.assert_eq(42, @azimuth.multiply(42, 1))
  @azimuth.assert_eq(-17, @azimuth.multiply(-17, 1))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 1))
}

test "inverse_mathematical_properties" {
  // æµ‹è¯•æ•°å­¦é€†å…ƒæ€§è´¨
  // åŠ æ³•é€†å…ƒï¼ša + (-a) = 0
  @azimuth.assert_eq(0, @azimuth.add(15, -15))
  @azimuth.assert_eq(0, @azimuth.add(-23, 23))
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  
  // ä¹˜æ³•é€†å…ƒæµ‹è¯•ï¼ˆä»…é™äº1å’Œ-1ï¼Œå› ä¸ºæ•´æ•°é™åˆ¶ï¼‰
  @azimuth.assert_eq(1, @azimuth.multiply(1, 1))
  @azimuth.assert_eq(1, @azimuth.multiply(-1, -1))
  @azimuth.assert_eq(-1, @azimuth.multiply(1, -1))
}

test "divide_with_ceil_comprehensive_behavior" {
  // å…¨é¢æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„è¡Œä¸º
  // æ­£æ•°æƒ…å†µ
  @azimuth.assert_eq(4, @azimuth.divide_with_ceil(11, 3))  // 3.666... -> 4
  @azimuth.assert_eq(4, @azimuth.divide_with_ceil(12, 3))  // 4 -> 4
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(1, 100)) // 0.01 -> 1
  
  // è´Ÿæ•°æƒ…å†µ
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-10, 3))  // -3.333... -> -3
  @azimuth.assert_eq(-4, @azimuth.divide_with_ceil(-11, 3))  // -3.666... -> -4
  @azimuth.assert_eq(3, @azimuth.divide_with_ceil(-9, -3))   // 3 -> 3
  
  // é›¶é™¤æ•°å®‰å…¨å¤„ç†
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(100, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(-100, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 0))
}

test "complex_business_calculation_workflow" {
  // å¤æ‚ä¸šåŠ¡è®¡ç®—å·¥ä½œæµæµ‹è¯•
  let base_price = 120
  let quantity = 8
  let discount_rate = 10  // 10%
  let tax_rate = 8        // 8%
  let shipping = 25
  
  // è®¡ç®—å°è®¡
  let subtotal = @azimuth.multiply(base_price, quantity)
  
  // è®¡ç®—æŠ˜æ‰£
  let discount = @azimuth.divide_with_ceil(@azimuth.multiply(subtotal, discount_rate), 100)
  let after_discount = @azimuth.add(subtotal, @azimuth.multiply(-1, discount))
  
  // è®¡ç®—ç¨è´¹
  let tax = @azimuth.divide_with_ceil(@azimuth.multiply(after_discount, tax_rate), 100)
  
  // è®¡ç®—æ€»ä»·
  let total = @azimuth.add(@azimuth.add(after_discount, tax), shipping)
  
  @azimuth.assert_eq(960, subtotal)
  @azimuth.assert_eq(96, discount)
  @azimuth.assert_eq(864, after_discount)
  @azimuth.assert_eq(70, tax)
  @azimuth.assert_eq(959, total)
}

test "string_greeting_with_edge_cases" {
  // å­—ç¬¦ä¸²é—®å€™çš„è¾¹ç•Œæƒ…å†µæµ‹è¯•
  // ç©ºå­—ç¬¦ä¸²å’Œç‰¹æ®Šå­—ç¬¦
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello,   !", @azimuth.greet("  "))
  @azimuth.assert_eq_string("Hello, \n\t!", @azimuth.greet("\n\t"))
  
  // æ•°å­—å’Œç‰¹æ®Šç¬¦å·
  @azimuth.assert_eq_string("Hello, 12345!", @azimuth.greet("12345"))
  @azimuth.assert_eq_string("Hello, @#$%^&*()!", @azimuth.greet("@#$%^&*()"))
  
  // Unicode å­—ç¬¦
  @azimuth.assert_eq_string("Hello, Î±Î²Î³Î´Îµ!", @azimuth.greet("Î±Î²Î³Î´Îµ"))
  @azimuth.assert_eq_string("Hello, ğŸŒŸğŸŒ™!", @azimuth.greet("ğŸŒŸğŸŒ™"))
}

test "algorithm_complexity_simulation" {
  // ç®—æ³•å¤æ‚åº¦æ¨¡æ‹Ÿæµ‹è¯•
  let input_size = 100
  
  // O(1) å¸¸æ•°æ—¶é—´
  let constant_time = 5
  
  // O(n) çº¿æ€§æ—¶é—´
  let linear_time = @azimuth.multiply(input_size, 3)
  
  // O(nÂ²) å¹³æ–¹æ—¶é—´ï¼ˆç®€åŒ–è®¡ç®—ï¼‰
  let quadratic_time = @azimuth.divide_with_ceil(@azimuth.multiply(input_size, input_size), 10)
  
  // O(log n) å¯¹æ•°æ—¶é—´ï¼ˆç®€åŒ–ä¸ºé™¤æ³•ï¼‰
  let logarithmic_time = @azimuth.divide_with_ceil(input_size, 32)
  
  @azimuth.assert_eq(5, constant_time)
  @azimuth.assert_eq(300, linear_time)
  @azimuth.assert_eq(1000, quadratic_time)
  @azimuth.assert_eq(4, logarithmic_time)
}

test "financial_compound_interest_calculation" {
  // é‡‘èå¤åˆ©è®¡ç®—æµ‹è¯•
  let principal = 10000
  let rate_percent = 5
  let _years = 4  // æœªä½¿ç”¨çš„å˜é‡
  
  // é€å¹´è®¡ç®—å¤åˆ©
  let year1 = @azimuth.add(principal, @azimuth.divide_with_ceil(@azimuth.multiply(principal, rate_percent), 100))
  let year2 = @azimuth.add(year1, @azimuth.divide_with_ceil(@azimuth.multiply(year1, rate_percent), 100))
  let year3 = @azimuth.add(year2, @azimuth.divide_with_ceil(@azimuth.multiply(year2, rate_percent), 100))
  let year4 = @azimuth.add(year3, @azimuth.divide_with_ceil(@azimuth.multiply(year3, rate_percent), 100))
  
  @azimuth.assert_eq(10500, year1)
  @azimuth.assert_eq(11025, year2)
  @azimuth.assert_eq(11576, year3)
  @azimuth.assert_eq(12155, year4)
}

test "geometric_and_arithmetic_sequences" {
  // å‡ ä½•å’Œç®—æœ¯åºåˆ—æµ‹è¯•
  // ç®—æœ¯åºåˆ—ï¼š3, 7, 11, 15, 19 (å…¬å·®ä¸º4)
  let arith1 = 3
  let arith2 = @azimuth.add(arith1, 4)
  let arith3 = @azimuth.add(arith2, 4)
  let arith4 = @azimuth.add(arith3, 4)
  let arith5 = @azimuth.add(arith4, 4)
  
  // å‡ ä½•åºåˆ—ï¼š2, 6, 18, 54 (å…¬æ¯”ä¸º3)
  let geom1 = 2
  let geom2 = @azimuth.multiply(geom1, 3)
  let geom3 = @azimuth.multiply(geom2, 3)
  let geom4 = @azimuth.multiply(geom3, 3)
  
  @azimuth.assert_eq(3, arith1)
  @azimuth.assert_eq(7, arith2)
  @azimuth.assert_eq(11, arith3)
  @azimuth.assert_eq(15, arith4)
  @azimuth.assert_eq(19, arith5)
  
  @azimuth.assert_eq(2, geom1)
  @azimuth.assert_eq(6, geom2)
  @azimuth.assert_eq(18, geom3)
  @azimuth.assert_eq(54, geom4)
}

test "resource_allocation_optimization" {
  // èµ„æºåˆ†é…ä¼˜åŒ–æµ‹è¯•
  let total_budget = 5000
  let project_costs = [800, 1200, 600, 900, 1500]
  
  // è®¡ç®—é¡¹ç›®æ€»æˆæœ¬
  let total_cost = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(project_costs[0], project_costs[1]), project_costs[2]), project_costs[3]), project_costs[4])
  
  // è®¡ç®—å‰©ä½™é¢„ç®—
  let remaining_budget = @azimuth.add(total_budget, @azimuth.multiply(-1, total_cost))
  
  // è®¡ç®—å¯ä»¥æ”¯æŒçš„å°é¡¹ç›®æ•°é‡ï¼ˆæ¯ä¸ªå°é¡¹ç›®æˆæœ¬300ï¼‰
  let small_projects = @azimuth.divide_with_ceil(remaining_budget, 300)
  
  @azimuth.assert_eq(5000, total_cost)
  @azimuth.assert_eq(0, remaining_budget)
  @azimuth.assert_eq(0, small_projects)
}

test "physics_motion_calculations" {
  // ç‰©ç†è¿åŠ¨è®¡ç®—æµ‹è¯•
  let initial_velocity = 10
  let acceleration = 2
  let time = 5
  
  // è®¡ç®—æœ€ç»ˆé€Ÿåº¦ï¼šv = u + at
  let final_velocity = @azimuth.add(initial_velocity, @azimuth.multiply(acceleration, time))
  
  // è®¡ç®—ä½ç§»ï¼šs = ut + 0.5atÂ²ï¼ˆç®€åŒ–ä¸ºæ•´æ•°è®¡ç®—ï¼‰
  let displacement = @azimuth.add(@azimuth.multiply(initial_velocity, time), @azimuth.multiply(acceleration, @azimuth.multiply(time, time)) / 2)
  
  // è®¡ç®—åŠ¨èƒ½ï¼šKE = 0.5mvÂ²ï¼ˆå‡è®¾è´¨é‡m=2kgï¼‰
  let mass = 2
  let kinetic_energy = @azimuth.multiply(mass, @azimuth.multiply(final_velocity, final_velocity)) / 2
  
  @azimuth.assert_eq(20, final_velocity)
  @azimuth.assert_eq(75, displacement)
  @azimuth.assert_eq(400, kinetic_energy)
}