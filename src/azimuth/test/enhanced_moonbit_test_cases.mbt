// å¢å¼ºçš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// åŒ…å«å¤šç§åœºæ™¯çš„æµ‹è¯•ï¼ŒéªŒè¯ azimuth æ¨¡å—çš„åŠŸèƒ½

// æµ‹è¯•æ•°å­¦è¿ç®—çš„ç»“åˆå¾‹
test "addition_associativity" {
  // éªŒè¯åŠ æ³•ç»“åˆå¾‹: (a + b) + c = a + (b + c)
  let a = 100
  let b = 200
  let c = 300
  
  let left_associative = azimuth::@azimuth.add(azimuth::@azimuth.add(a, b), c)
  let right_associative = azimuth::@azimuth.add(a, azimuth::@azimuth.add(b, c))
  
  azimuth::@azimuth.assert_eq(left_associative, right_associative)
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  let d = -150
  let e = 250
  let f = -100
  
  let left_neg = azimuth::@azimuth.add(azimuth::@azimuth.add(d, e), f)
  let right_neg = azimuth::@azimuth.add(d, azimuth::@azimuth.add(e, f))
  
  azimuth::@azimuth.assert_eq(left_neg, right_neg)
}

// æµ‹è¯•æ•°å­¦è¿ç®—çš„äº¤æ¢å¾‹
test "multiplication_commutativity" {
  // éªŒè¯ä¹˜æ³•äº¤æ¢å¾‹: a * b = b * a
  let a = 12
  let b = 15
  
  let result1 = azimuth::@azimuth.multiply(a, b)
  let result2 = azimuth::@azimuth.multiply(b, a)
  
  azimuth::@azimuth.assert_eq(result1, result2)
  
  // æµ‹è¯•åŒ…å«è´Ÿæ•°çš„æƒ…å†µ
  let c = -20
  let d = 30
  
  let result3 = azimuth::@azimuth.multiply(c, d)
  let result4 = azimuth::@azimuth.multiply(d, c)
  
  azimuth::@azimuth.assert_eq(result3, result4)
}

// æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
test "string_edge_cases" {
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²
  azimuth::@azimuth.assert_eq_string("Hello, !", azimuth::@azimuth.greet(""))
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  let special_chars = "test@123#$%"
  azimuth::@azimuth.assert_eq_string("Hello, test@123#$%!", azimuth::@azimuth.greet(special_chars))
  
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„å­—ç¬¦ä¸²
  let unicode_chars = "æµ‹è¯•ğŸŒ"
  azimuth::@azimuth.assert_eq_string("Hello, æµ‹è¯•ğŸŒ!", azimuth::@azimuth.greet(unicode_chars))
}

// æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šæ¸©åº¦è½¬æ¢
test "temperature_conversion" {
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼šF = C * 9/5 + 32
  // ç®€åŒ–ä¸ºæ•´æ•°è¿ç®—ï¼šF = C * 2 + 30
  
  let celsius_temp = 25
  let fahrenheit_temp = azimuth::@azimuth.add(azimuth::@azimuth.multiply(celsius_temp, 2), 30)
  azimuth::@azimuth.assert_eq(80, fahrenheit_temp)
  
  // æµ‹è¯•å†°ç‚¹æ¸©åº¦
  let freezing_celsius = 0
  let freezing_fahrenheit = azimuth::@azimuth.add(azimuth::@azimuth.multiply(freezing_celsius, 2), 30)
  azimuth::@azimuth.assert_eq(30, freezing_fahrenheit)
  
  // æµ‹è¯•æ²¸ç‚¹æ¸©åº¦
  let boiling_celsius = 100
  let boiling_fahrenheit = azimuth::@azimuth.add(azimuth::@azimuth.multiply(boiling_celsius, 2), 30)
  azimuth::@azimuth.assert_eq(230, boiling_fahrenheit)
}

// æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šè®¢å•è®¡ç®—
test "order_calculation" {
  let item_price = 199
  let quantity = 3
  let shipping_cost = 15
  let tax_rate = 10  // 10%
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = azimuth::@azimuth.multiply(item_price, quantity)
  
  // è®¡ç®—ç¨è´¹
  let tax = azimuth::@azimuth.multiply(subtotal, tax_rate) / 100
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let total = azimuth::@azimuth.add(azimuth::@azimuth.add(subtotal, tax), shipping_cost)
  
  // éªŒè¯æ€»ä»·ï¼š(199 * 3) + (199 * 3 * 10 / 100) + 15 = 597 + 59 + 15 = 671
  azimuth::@azimuth.assert_eq(671, total)
}

// æµ‹è¯•æå€¼å¤„ç†
test "extreme_values_handling" {
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼åŠ æ³•æº¢å‡º
  azimuth::@azimuth.assert_eq(max_val, azimuth::@azimuth.add(max_val, 1))
  azimuth::@azimuth.assert_eq(max_val, azimuth::@azimuth.add(max_val, max_val))
  
  // æµ‹è¯•æœ€å°å€¼åŠ æ³•æº¢å‡º
  azimuth::@azimuth.assert_eq(min_val, azimuth::@azimuth.add(min_val, -1))
  azimuth::@azimuth.assert_eq(min_val, azimuth::@azimuth.add(min_val, min_val))
  
  // æµ‹è¯•æœ€å¤§å€¼ä¹˜æ³•æº¢å‡º
  azimuth::@azimuth.assert_eq(max_val, azimuth::@azimuth.multiply(max_val, 2))
  
  // æµ‹è¯•æœ€å°å€¼ä¹˜æ³•ç‰¹æ®Šæƒ…å†µ
  azimuth::@azimuth.assert_eq(min_val, azimuth::@azimuth.multiply(min_val, -1))
}

// æµ‹è¯•å¤æ‚æ•°å­¦è¿ç®—
test "complex_mathematical_operations" {
  // è®¡ç®— (a + b) * (c + d) - e * f
  let a = 10
  let b = 20
  let c = 5
  let d = 15
  let e = 8
  let f = 12
  
  let sum1 = azimuth::@azimuth.add(a, b)  // 30
  let sum2 = azimuth::@azimuth.add(c, d)  // 20
  let product1 = azimuth::@azimuth.multiply(sum1, sum2)  // 600
  let product2 = azimuth::@azimuth.multiply(e, f)  // 96
  let result = azimuth::@azimuth.add(product1, -product2)  // 504
  
  azimuth::@azimuth.assert_eq(504, result)
}

// æµ‹è¯•æ•°ç»„ç´¢å¼•è®¡ç®—
test "array_index_calculation" {
  // äºŒç»´æ•°ç»„è½¬ä¸€ç»´æ•°ç»„çš„ç´¢å¼•è®¡ç®—ï¼šindex = row * width + col
  let row = 3
  let col = 4
  let width = 5
  
  let index = azimuth::@azimuth.add(azimuth::@azimuth.multiply(row, width), col)
  azimuth::@azimuth.assert_eq(19, index)
  
  // æµ‹è¯•è¾¹ç•Œæƒ…å†µ
  let first_row = 0
  let first_col = 0
  let first_index = azimuth::@azimuth.add(azimuth::@azimuth.multiply(first_row, width), first_col)
  azimuth::@azimuth.assert_eq(0, first_index)
}

// æµ‹è¯•æ¸¸æˆå¾—åˆ†è®¡ç®—
test "game_score_calculation" {
  let base_score = 1000
  let level_multiplier = 3
  let bonus_points = 500
  let penalty = 200
  
  // è®¡ç®—æœ€ç»ˆå¾—åˆ†
  let level_score = azimuth::@azimuth.multiply(base_score, level_multiplier)
  let total_with_bonus = azimuth::@azimuth.add(level_score, bonus_points)
  let final_score = azimuth::@azimuth.add(total_with_bonus, -penalty)
  
  azimuth::@azimuth.assert_eq(3300, final_score)
  
  // è®¡ç®—æ’åå¾—åˆ†ï¼ˆå‰10%é¢å¤–åŠ åˆ†ï¼‰
  let top_percentage = 10
  let rank_bonus = azimuth::@azimuth.multiply(final_score, top_percentage) / 100
  let rank_total = azimuth::@azimuth.add(final_score, rank_bonus)
  
  azimuth::@azimuth.assert_eq(3630, rank_total)
}

// æµ‹è¯•å‡ ä½•è®¡ç®—
test "geometry_calculations" {
  // è®¡ç®—çŸ©å½¢é¢ç§¯ï¼šé•¿ Ã— å®½
  let length = 12
  let width = 8
  
  let rectangle_area = azimuth::@azimuth.multiply(length, width)
  azimuth::@azimuth.assert_eq(96, rectangle_area)
  
  // è®¡ç®—ä¸‰è§’å½¢é¢ç§¯ï¼šåº• Ã— é«˜ Ã· 2
  let base = 10
  let height = 6
  
  let triangle_area = azimuth::@azimuth.multiply(base, height) / 2
  azimuth::@azimuth.assert_eq(30, triangle_area)
  
  // è®¡ç®—åœ†å‘¨é•¿ï¼ˆç®€åŒ–è®¡ç®—ï¼‰ï¼š2 Ã— Ï€ Ã— r â‰ˆ 2 Ã— 3 Ã— r
  let radius = 5
  let circumference = azimuth::@azimuth.multiply(azimuth::@azimuth.multiply(2, 3), radius)
  azimuth::@azimuth.assert_eq(30, circumference)
}