// æ–°å¢çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// è¦†ç›–æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

test "addition_with_various_ranges" {
  // æµ‹è¯•ä¸åŒæ•°å€¼èŒƒå›´çš„åŠ æ³•
  @azimuth.assert_eq(100, @azimuth.add(50, 50))
  @azimuth.assert_eq(0, @azimuth.add(-50, 50))
  @azimuth.assert_eq(-100, @azimuth.add(-50, -50))
  @azimuth.assert_eq(2147483647, @azimuth.add(2147483646, 1))
}

test "multiplication_precision_tests" {
  // æµ‹è¯•ä¹˜æ³•ç²¾åº¦å’Œè¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(1000000, @azimuth.multiply(1000, 1000))
  @azimuth.assert_eq(-1000000, @azimuth.multiply(-1000, 1000))
  @azimuth.assert_eq(2147483647, @azimuth.multiply(46341, 46341))
  @azimuth.assert_eq(-2147483648, @azimuth.multiply(-46341, 46341))
}

test "string_greeting_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²é—®å€™çš„è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, A!", @azimuth.greet("A"))
  @azimuth.assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", @azimuth.greet("ä¸­æ–‡æµ‹è¯•"))
  @azimuth.assert_eq_string("Hello, ğŸŒŸ!", @azimuth.greet("ğŸŒŸ"))
}

test "mathematical_associative_laws" {
  // æµ‹è¯•æ•°å­¦ç»“åˆå¾‹
  let a = 10
  let b = 20
  let c = 30
  
  // åŠ æ³•ç»“åˆå¾‹: (a + b) + c = a + (b + c)
  @azimuth.assert_eq(
    @azimuth.add(@azimuth.add(a, b), c),
    @azimuth.add(a, @azimuth.add(b, c))
  )
  
  // ä¹˜æ³•ç»“åˆå¾‹: (a * b) * c = a * (b * c)
  @azimuth.assert_eq(
    @azimuth.multiply(@azimuth.multiply(a, b), c),
    @azimuth.multiply(a, @azimuth.multiply(b, c))
  )
}

test "calculation_geometric_shapes" {
  // æµ‹è¯•å‡ ä½•å›¾å½¢è®¡ç®—
  // æ­£æ–¹å½¢é¢ç§¯å’Œå‘¨é•¿
  let side = 5
  let square_area = @azimuth.multiply(side, side)
  let square_perimeter = @azimuth.multiply(4, side)
  @azimuth.assert_eq(25, square_area)
  @azimuth.assert_eq(20, square_perimeter)
  
  // ä¸‰è§’å½¢é¢ç§¯ï¼ˆåº•Ã—é«˜Ã·2ï¼‰
  let base = 8
  let height = 6
  let triangle_area = @azimuth.multiply(base, height) / 2
  @azimuth.assert_eq(24, triangle_area)
}

test "financial_calculation_discount" {
  // æµ‹è¯•è´¢åŠ¡è®¡ç®—ï¼šæŠ˜æ‰£åœºæ™¯
  let original_price = 1000
  let discount_percentage = 20
  let expected_final_price = 800
  
  // è®¡ç®—æŠ˜æ‰£é‡‘é¢
  let discount_amount = @azimuth.multiply(original_price, discount_percentage) / 100
  @azimuth.assert_eq(200, discount_amount)
  
  // è®¡ç®—æœ€ç»ˆä»·æ ¼
  let final_price = @azimuth.add(original_price, -discount_amount)
  @azimuth.assert_eq(expected_final_price, final_price)
}

test "time_conversion_scenarios" {
  // æµ‹è¯•æ—¶é—´è½¬æ¢åœºæ™¯
  // å°æ—¶è½¬åˆ†é’Ÿ
  let hours = 3
  let minutes = @azimuth.multiply(hours, 60)
  @azimuth.assert_eq(180, minutes)
  
  // å¤©è½¬å°æ—¶
  let days = 2
  let hours_in_days = @azimuth.multiply(days, 24)
  @azimuth.assert_eq(48, hours_in_days)
  
  // è®¡ç®—æ€»åˆ†é’Ÿæ•°ï¼ˆ3å°æ—¶30åˆ†é’Ÿï¼‰
  let total_minutes = @azimuth.add(180, 30)
  @azimuth.assert_eq(210, total_minutes)
}

test "statistical_calculations_basic" {
  // æµ‹è¯•åŸºç¡€ç»Ÿè®¡è®¡ç®—
  // æ•°æ®é›†: 15, 25, 35, 45, 55
  let data1 = 15
  let data2 = 25
  let data3 = 35
  let data4 = 45
  let data5 = 55
  
  // è®¡ç®—æ€»å’Œ
  let sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(data1, data2), data3), data4), data5)
  @azimuth.assert_eq(175, sum)
  
  // è®¡ç®—å¹³å‡å€¼
  let count = 5
  let average = sum / count
  @azimuth.assert_eq(35, average)
  
  // è®¡ç®—èŒƒå›´ï¼ˆæœ€å¤§å€¼ - æœ€å°å€¼ï¼‰
  let range = @azimuth.add(data5, -data1)
  @azimuth.assert_eq(40, range)
}

test "number_system_conversions" {
  // æµ‹è¯•æ•°å­—ç³»ç»Ÿè½¬æ¢ï¼ˆç®€åŒ–ç‰ˆï¼‰
  // äºŒè¿›åˆ¶è½¬åè¿›åˆ¶ï¼š1010 = 8 + 0 + 2 + 0 = 10
  let binary_1010 = @azimuth.add(@azimuth.add(8, 0), @azimuth.add(2, 0))
  @azimuth.assert_eq(10, binary_1010)
  
  // åå…­è¿›åˆ¶è½¬åè¿›åˆ¶ï¼šFF = 15Ã—16 + 15 = 255
  let hex_ff = @azimuth.add(@azimuth.multiply(15, 16), 15)
  @azimuth.assert_eq(255, hex_ff)
  
  // ç½—é©¬æ•°å­—è½¬åè¿›åˆ¶ï¼šXIV = 10 + (5 - 1) = 14
  let roman_xiv = @azimuth.add(10, @azimuth.add(5, -1))
  @azimuth.assert_eq(14, roman_xiv)
}

test "complex_business_calculation" {
  // æµ‹è¯•å¤æ‚ä¸šåŠ¡è®¡ç®—
  // è®¢å•è®¡ç®—ï¼šå•†å“ä»·æ ¼Ã—æ•°é‡ + ç¨è´¹ - æŠ˜æ‰£ + è¿è´¹
  let unit_price = 299
  let quantity = 3
  let tax_rate = 8  // 8%
  let discount_amount = 100
  let shipping_fee = 20
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = @azimuth.multiply(unit_price, quantity)
  
  // è®¡ç®—ç¨è´¹
  let tax = @azimuth.multiply(subtotal, tax_rate) / 100
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_total = @azimuth.add(@azimuth.add(@azimuth.add(subtotal, tax), -discount_amount), shipping_fee)
  
  // éªŒè¯ç»“æœï¼š(299Ã—3) + (299Ã—3Ã—8/100) - 100 + 20 = 897 + 71 - 100 + 20 = 888
  @azimuth.assert_eq(888, final_total)
}