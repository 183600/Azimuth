// é«˜çº§ MoonBit æµ‹è¯•åœºæ™¯
// æµ‹è¯• azimuth åŒ…çš„é«˜çº§åŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

test "advanced_mathematical_series" {
  // æµ‹è¯•ç­‰å·®æ•°åˆ—å’Œç­‰æ¯”æ•°åˆ—è®¡ç®—
  // ç­‰å·®æ•°åˆ—ï¼š1 + 4 + 7 + 10 + 13 = 35
  let arithmetic_sum = @azimuth.add(@azimuth.add(1, 4), @azimuth.add(7, @azimuth.add(10, 13)))
  @azimuth.assert_eq(35, arithmetic_sum)
  
  // ç­‰æ¯”æ•°åˆ—ï¼š2 + 6 + 18 + 54 = 80
  let geometric_sum = @azimuth.add(2, @azimuth.add(6, @azimuth.add(18, 54)))
  @azimuth.assert_eq(80, geometric_sum)
  
  // ç»„åˆè®¡ç®—ï¼š(ç­‰å·®å’Œ) Ã— (ç­‰æ¯”å’Œ) / 2
  let combined_result = @azimuth.multiply(arithmetic_sum, geometric_sum) / 2
  @azimuth.assert_eq(1400, combined_result)
}

test "complex_financial_calculations" {
  // å¤æ‚é‡‘èè®¡ç®—ï¼šè´·æ¬¾åˆ†æœŸè®¡ç®—
  let principal = 100000  // æœ¬é‡‘
  let annual_rate = 6     // å¹´åˆ©ç‡6%
  let years = 30          // 30å¹´
  let months_per_year = 12
  
  // ç®€åŒ–çš„æœˆä¾›è®¡ç®—ï¼šæœ¬é‡‘ Ã— (1 + å¹´åˆ©ç‡ Ã— å¹´æ•°) / (å¹´æ•° Ã— 12)
  let total_multiplier = @azimuth.add(1, @azimuth.multiply(annual_rate, years))
  let total_payment = @azimuth.multiply(principal, total_multiplier) / 100
  let monthly_payment = total_payment / @azimuth.multiply(years, months_per_year)
  
  @azimuth.assert_eq(2777, monthly_payment)  // ç®€åŒ–è®¡ç®—çš„æœˆä¾›
  
  // æµ‹è¯•ä¸åŒåˆ©ç‡çš„å½±å“
  let lower_rate = 4
  let lower_multiplier = @azimuth.add(1, @azimuth.multiply(lower_rate, years))
  let lower_total = @azimuth.multiply(principal, lower_multiplier) / 100
  @azimuth.assert_eq(130000, lower_total)
}

test "string_processing_edge_cases" {
  // å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
  // æµ‹è¯•åŒ…å«å„ç§ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  let special_chars = "!@#$%^&*()_+-=[]{}|;':\",./<>?"
  let result1 = @azimuth.greet(special_chars)
  @azimuth.assert_eq_string("Hello, !@#$%^&*()_+-=[]{}|;':\",./<>?!", result1)
  
  // æµ‹è¯•åŒ…å«æ•°å­—å’Œå­—æ¯æ··åˆçš„å­—ç¬¦ä¸²
  let mixed_string = "User123_Admin456"
  let result2 = @azimuth.greet(mixed_string)
  @azimuth.assert_eq_string("Hello, User123_Admin456!", result2)
  
  // æµ‹è¯•åŒ…å«ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦çš„å­—ç¬¦ä¸²
  let whitespace_string = "  Hello	World\n  "
  let result3 = @azimuth.greet(whitespace_string)
  @azimuth.assert_eq_string("Hello,   Hello	World\n  !", result3)
  
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„å­—ç¬¦ä¸²
  let unicode_string = "ğŸŒŸæµ‹è¯•ğŸ¯MoonBitğŸš€"
  let result4 = @azimuth.greet(unicode_string)
  @azimuth.assert_eq_string("Hello, ğŸŒŸæµ‹è¯•ğŸ¯MoonBitğŸš€!", result4)
}

test "geometry_and_physics_calculations" {
  // å‡ ä½•å’Œç‰©ç†è®¡ç®—
  // è®¡ç®—çƒä½“è¡¨é¢ç§¯å’Œä½“ç§¯ï¼ˆç®€åŒ–å…¬å¼ï¼‰
  let radius = 5
  let pi_approx = 3  // Ï€çš„è¿‘ä¼¼å€¼
  
  // çƒä½“è¡¨é¢ç§¯ï¼š4 Ã— Ï€ Ã— rÂ²
  let surface_area = @azimuth.multiply(4, @azimuth.multiply(pi_approx, @azimuth.multiply(radius, radius)))
  @azimuth.assert_eq(300, surface_area)
  
  // çƒä½“ä½“ç§¯ï¼š(4/3) Ã— Ï€ Ã— rÂ³ï¼Œç®€åŒ–ä¸º 4 Ã— Ï€ Ã— rÂ³
  let volume = @azimuth.multiply(4, @azimuth.multiply(pi_approx, @azimuth.multiply(radius, @azimuth.multiply(radius, radius))))
  @azimuth.assert_eq(1500, volume)
  
  // è‡ªç”±è½ä½“è®¡ç®—ï¼šh = 0.5 Ã— g Ã— tÂ²ï¼Œç®€åŒ–ä¸º g Ã— tÂ²
  let gravity = 10  // é‡åŠ›åŠ é€Ÿåº¦ç®€åŒ–å€¼
  let time = 3      // æ—¶é—´
  let height = @azimuth.multiply(gravity, @azimuth.multiply(time, time))
  @azimuth.assert_eq(90, height)
}

test "data_structure_simulations" {
  // æ•°æ®ç»“æ„æ¨¡æ‹Ÿï¼šæ ˆå’Œé˜Ÿåˆ—æ“ä½œ
  // æ¨¡æ‹Ÿæ ˆæ“ä½œï¼špush 1, push 2, push 3, pop, push 4
  let stack_top = @azimuth.add(@azimuth.add(@azimuth.add(1, 2), 3), -3)  // popæ“ä½œ
  let final_stack_top = @azimuth.add(stack_top, 4)  // push 4
  @azimuth.assert_eq(4, final_stack_top)
  
  // æ¨¡æ‹Ÿé˜Ÿåˆ—æ“ä½œï¼šenqueue 1, enqueue 2, dequeue, enqueue 3
  let queue_front = @azimuth.add(1, 2)  // enqueue 1 and 2
  let after_dequeue = @azimuth.add(queue_front, -1)  // dequeue 1
  let final_queue_front = @azimuth.add(after_dequeue, 3)  // enqueue 3
  @azimuth.assert_eq(4, final_queue_front)
  
  // æ¨¡æ‹ŸäºŒå‰æ ‘éå†çš„ä¸­åºè®¡ç®—
  let root = 10
  let left_child = 5
  let right_child = 15
  let inorder_sum = @azimuth.add(@azimuth.add(left_child, root), right_child)
  @azimuth.assert_eq(30, inorder_sum)
}

test "algorithm_complexity_demonstration" {
  // ç®—æ³•å¤æ‚åº¦æ¼”ç¤º
  // O(n) çº¿æ€§æœç´¢æ¨¡æ‹Ÿ
  let array_size = 100
  let search_value = 42
  let comparisons = array_size  // æœ€åæƒ…å†µä¸‹çš„æ¯”è¾ƒæ¬¡æ•°
  @azimuth.assert_eq(100, comparisons)
  
  // O(nÂ²) å†’æ³¡æ’åºæ¯”è¾ƒæ¬¡æ•°
  let bubble_comparisons = @azimuth.multiply(array_size, @azimuth.add(array_size, -1)) / 2
  @azimuth.assert_eq(4950, bubble_comparisons)
  
  // O(log n) äºŒåˆ†æœç´¢æ¯”è¾ƒæ¬¡æ•°ï¼ˆç®€åŒ–ï¼‰
  let binary_comparisons = 7  // logâ‚‚(100) â‰ˆ 6.64ï¼Œå‘ä¸Šå–æ•´ä¸º7
  @azimuth.assert_eq(7, binary_comparisons)
  
  // ç®—æ³•æ•ˆç‡æ¯”è¾ƒ
  let efficiency_ratio = bubble_comparisons / binary_comparisons
  @azimuth.assert_eq(707, efficiency_ratio)  // 4950 / 7 â‰ˆ 707
}

test "error_boundary_and_recovery" {
  // é”™è¯¯è¾¹ç•Œå’Œæ¢å¤æµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•è¿ç»­æº¢å‡ºæ“ä½œ
  let overflow1 = @azimuth.add(max_val, 100)
  let overflow2 = @azimuth.add(overflow1, 100)
  let overflow3 = @azimuth.multiply(overflow2, 2)
  @azimuth.assert_eq(max_val, overflow3)  // åº”è¯¥ä¿æŒæœ€å¤§å€¼
  
  // æµ‹è¯•è¿ç»­ä¸‹æº¢æ“ä½œ
  let underflow1 = @azimuth.add(min_val, -100)
  let underflow2 = @azimuth.add(underflow1, -100)
  let underflow3 = @azimuth.multiply(underflow2, 2)
  @azimuth.assert_eq(min_val, underflow3)  // åº”è¯¥ä¿æŒæœ€å°å€¼
  
  // æµ‹è¯•æ··åˆæº¢å‡ºæ¢å¤
  let mixed_op1 = @azimuth.multiply(max_val, -1)
  let mixed_op2 = @azimuth.add(mixed_op1, 1)
  let mixed_op3 = @azimuth.multiply(mixed_op2, -1)
  @azimuth.assert_eq(max_val, mixed_op3)
}

test "performance_optimization_scenarios" {
  // æ€§èƒ½ä¼˜åŒ–åœºæ™¯æµ‹è¯•
  // æ‰¹é‡è®¡ç®— vs å•ç‹¬è®¡ç®—
  let base_value = 100
  let multiplier = 5
  let iterations = 10
  
  // å•ç‹¬è®¡ç®—ï¼š100 Ã— 5 + 100 Ã— 5 + ... (10æ¬¡)
  let individual_sum = @azimuth.multiply(@azimuth.multiply(base_value, multiplier), iterations)
  @azimuth.assert_eq(5000, individual_sum)
  
  // æ‰¹é‡è®¡ç®—ï¼š(100 Ã— 10) Ã— 5
  let batch_sum = @azimuth.multiply(@azimuth.multiply(base_value, iterations), multiplier)
  @azimuth.assert_eq(5000, batch_sum)
  
  // ç¼“å­˜æ•ˆæœæ¨¡æ‹Ÿï¼šé‡å¤è®¡ç®—ç›¸åŒå€¼
  let cached_value = @azimuth.multiply(12345, 67890)
  let reuse1 = @azimuth.add(cached_value, 100)
  let reuse2 = @azimuth.add(cached_value, 200)
  let reuse3 = @azimuth.add(cached_value, 300)
  let total_reuse = @azimuth.add(@azimuth.add(reuse1, reuse2), reuse3)
  @azimuth.assert_eq(838635000, total_reuse)
}

test "real_world_data_processing" {
  // çœŸå®ä¸–ç•Œæ•°æ®å¤„ç†åœºæ™¯
  // ä¼ æ„Ÿå™¨æ•°æ®èšåˆ
  let sensor1 = 23
  let sensor2 = 25
  let sensor3 = 22
  let sensor4 = 24
  let sensor5 = 26
  
  // è®¡ç®—å¹³å‡æ¸©åº¦
  let avg_temperature = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(sensor1, sensor2), sensor3), sensor4), sensor5) / 5
  @azimuth.assert_eq(24, avg_temperature)
  
  // è®¡ç®—æ¸©åº¦èŒƒå›´
  let max_temp = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(sensor1, sensor2), sensor3), sensor4), sensor5) - @azimuth.add(@azimuth.add(@azimuth.add(sensor1, sensor2), sensor3), sensor4)
  let min_temp = sensor1
  let temp_range = @azimuth.add(max_temp, -min_temp)
  @azimuth.assert_eq(4, temp_range)
  
  // æ•°æ®å½’ä¸€åŒ–å¤„ç†ï¼ˆç®€åŒ–ï¼‰
  let normalization_factor = 100
  let normalized_avg = @azimuth.multiply(avg_temperature, normalization_factor) / @azimuth.add(max_temp, min_temp)
  @azimuth.assert_eq(48, normalized_avg)
}

test "cryptography_simulation" {
  // å¯†ç å­¦æ¨¡æ‹Ÿï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼‰
  // ç®€å•çš„å‡¯æ’’å¯†ç 
  let plaintext = "HELLO"
  let shift = 3
  let caesar_result = @azimuth.greet("CAESAR_" + plaintext + "_SHIFT_" + "3")
  @azimuth.assert_eq_string("Hello, CAESAR_HELLO_SHIFT_3!", caesar_result)
  
  // ç®€å•çš„å“ˆå¸Œæ¨¡æ‹Ÿï¼ˆæ•°å­—ç´¯åŠ ï¼‰
  let hash_input = 12345
  let hash_prime1 = 31
  let hash_prime2 = 37
  let hash_result = @azimuth.add(@azimuth.multiply(hash_input, hash_prime1), hash_prime2)
  @azimuth.assert_eq(383122, hash_result)
  
  // æ ¡éªŒå’Œè®¡ç®—
  let data_block1 = 100
  let data_block2 = 200
  let data_block3 = 300
  let data_block4 = 400
  let checksum = @azimuth.add(@azimuth.add(@azimuth.add(data_block1, data_block2), data_block3), data_block4)
  @azimuth.assert_eq(1000, checksum)
  
  // éªŒè¯æ ¡éªŒå’Œ
  let verification_result = @azimuth.multiply(checksum, 2) / 2
  @azimuth.assert_eq(checksum, verification_result)
}