// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth é¡¹ç›®çš„åŸºæœ¬åŠŸèƒ½

// æµ‹è¯• add å‡½æ•°çš„åŸºæœ¬åŠŸèƒ½
test "add_basic_functionality" {
  let result1 = @azimuth.add(1, 2)
  if (result1 != 3) {
    @builtin.abort("add(1, 2) should be 3")
  }
  
  let result2 = @azimuth.add(-1, 1)
  if (result2 != 0) {
    @builtin.abort("add(-1, 1) should be 0")
  }
  
  let result3 = @azimuth.add(0, 5)
  if (result3 != 5) {
    @builtin.abort("add(0, 5) should be 5")
  }
}

// æµ‹è¯• add å‡½æ•°çš„æº¢å‡ºå¤„ç†
test "add_overflow_handling" {
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æ­£æ•°æº¢å‡º
  let result1 = @azimuth.add(max_val, 1)
  if (result1 != max_val) {
    @builtin.abort("add(max_val, 1) should return max_val")
  }
  
  // æµ‹è¯•è´Ÿæ•°æº¢å‡º
  let result2 = @azimuth.add(min_val, -1)
  if (result2 != min_val) {
    @builtin.abort("add(min_val, -1) should return min_val")
  }
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸æœ€å°å€¼ç›¸åŠ 
  let result3 = @azimuth.add(max_val, min_val)
  if (result3 != -1) {
    @builtin.abort("add(max_val, min_val) should be -1")
  }
}

// æµ‹è¯• multiply å‡½æ•°çš„åŸºæœ¬åŠŸèƒ½
test "multiply_basic_functionality" {
  let result1 = @azimuth.multiply(3, 4)
  if (result1 != 12) {
    @builtin.abort("multiply(3, 4) should be 12")
  }
  
  let result2 = @azimuth.multiply(-2, 3)
  if (result2 != -6) {
    @builtin.abort("multiply(-2, 3) should be -6")
  }
  
  let result3 = @azimuth.multiply(0, 100)
  if (result3 != 0) {
    @builtin.abort("multiply(0, 100) should be 0")
  }
}

// æµ‹è¯• multiply å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
test "multiply_boundary_cases" {
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•ä¸1ç›¸ä¹˜
  let result1 = @azimuth.multiply(max_val, 1)
  if (result1 != max_val) {
    @builtin.abort("multiply(max_val, 1) should return max_val")
  }
  
  // æµ‹è¯•ä¸-1ç›¸ä¹˜
  let result2 = @azimuth.multiply(max_val, -1)
  if (result2 != min_val) {
    @builtin.abort("multiply(max_val, -1) should return min_val")
  }
  
  // æµ‹è¯•æœ€å°å€¼ä¸-1ç›¸ä¹˜çš„ç‰¹æ®Šæƒ…å†µ
  let result3 = @azimuth.multiply(min_val, -1)
  if (result3 != min_val) {
    @builtin.abort("multiply(min_val, -1) should return min_val")
  }
}

// æµ‹è¯• greet å‡½æ•°çš„åŸºæœ¬åŠŸèƒ½
test "greet_basic_functionality" {
  let result1 = @azimuth.greet("World")
  if (result1 != "Hello, World!") {
    @builtin.abort("greet(\"World\") should be \"Hello, World!\"")
  }
  
  let result2 = @azimuth.greet("")
  if (result2 != "Hello, !") {
    @builtin.abort("greet(\"\") should be \"Hello, !\"")
  }
  
  let result3 = @azimuth.greet("æµ‹è¯•")
  if (result3 != "Hello, æµ‹è¯•!") {
    @builtin.abort("greet(\"æµ‹è¯•\") should be \"Hello, æµ‹è¯•!\"")
  }
}

// æµ‹è¯• greet å‡½æ•°çš„ç‰¹æ®Šå­—ç¬¦å¤„ç†
test "greet_special_characters" {
  let result1 = @azimuth.greet("John@123")
  if (result1 != "Hello, John@123!") {
    @builtin.abort("greet should handle special characters correctly")
  }
  
  let result2 = @azimuth.greet("   ")
  if (result2 != "Hello,    !") {
    @builtin.abort("greet should handle whitespace correctly")
  }
  
  let result3 = @azimuth.greet("ğŸŒ")
  if (result3 != "Hello, ğŸŒ!") {
    @builtin.abort("greet should handle emoji correctly")
  }
}

// æµ‹è¯•å¤åˆè¿ç®—åœºæ™¯
test "complex_calculation_scenario" {
  // æµ‹è¯• (a + b) * c çš„è®¡ç®—
  let a = 5
  let b = 3
  let c = 2
  
  let sum = @azimuth.add(a, b)
  if (sum != 8) {
    @builtin.abort("add(5, 3) should be 8")
  }
  
  let product = @azimuth.multiply(sum, c)
  if (product != 16) {
    @builtin.abort("multiply(8, 2) should be 16")
  }
}

// æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šè´­ç‰©è½¦è®¡ç®—
test "shopping_cart_calculation" {
  let item1_price = 100
  let item1_quantity = 2
  let item2_price = 50
  let item2_quantity = 3
  
  // è®¡ç®—æ¯ç§å•†å“çš„æ€»ä»·
  let total1 = @azimuth.multiply(item1_price, item1_quantity)
  let total2 = @azimuth.multiply(item2_price, item2_quantity)
  
  // è®¡ç®—è´­ç‰©è½¦æ€»ä»·
  let cart_total = @azimuth.add(total1, total2)
  
  // éªŒè¯æ€»ä»·ï¼š100*2 + 50*3 = 200 + 150 = 350
  if (cart_total != 350) {
    @builtin.abort("Shopping cart total should be 350")
  }
}

// æµ‹è¯•æ•°å­¦äº¤æ¢å¾‹
test "mathematical_commutativity" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  let a = 15
  let b = 25
  
  let result1 = @azimuth.add(a, b)
  let result2 = @azimuth.add(b, a)
  if (result1 != result2) {
    @builtin.abort("Addition should be commutative")
  }
  
  // æµ‹è¯•ä¹˜æ³•äº¤æ¢å¾‹
  let c = 6
  let d = 7
  
  let result3 = @azimuth.multiply(c, d)
  let result4 = @azimuth.multiply(d, c)
  if (result3 != result4) {
    @builtin.abort("Multiplication should be commutative")
  }
}

// æµ‹è¯•è¾¹ç•Œå€¼ç»„åˆ
test "boundary_value_combinations" {
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸0çš„è¿ç®—
  let result1 = @azimuth.add(max_val, 0)
  if (result1 != max_val) {
    @builtin.abort("add(max_val, 0) should return max_val")
  }
  
  let result2 = @azimuth.multiply(max_val, 0)
  if (result2 != 0) {
    @builtin.abort("multiply(max_val, 0) should return 0")
  }
  
  // æµ‹è¯•æœ€å°å€¼ä¸0çš„è¿ç®—
  let result3 = @azimuth.add(min_val, 0)
  if (result3 != min_val) {
    @builtin.abort("add(min_val, 0) should return min_val")
  }
  
  let result4 = @azimuth.multiply(min_val, 0)
  if (result4 != 0) {
    @builtin.abort("multiply(min_val, 0) should return 0")
  }
}