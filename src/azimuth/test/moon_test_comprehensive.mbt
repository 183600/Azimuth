// MoonBit ç»¼åˆæµ‹è¯•ç”¨ä¾‹
// è¦†ç›– azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½å’Œå®é™…åº”ç”¨åœºæ™¯

test "arithmetic_sequence_sum" {
  // è®¡ç®—ç­‰å·®æ•°åˆ—çš„å’Œï¼š2 + 4 + 6 + ... + 20ï¼ˆå‰10ä¸ªå¶æ•°ï¼‰
  // ä½¿ç”¨å…¬å¼ï¼šn Ã— (é¦–é¡¹ + æœ«é¡¹) / 2
  let n = 10
  let first = 2
  let last = 20
  
  let sum = @azimuth.multiply(n, @azimuth.add(first, last)) / 2
  @azimuth.assert_eq(110, sum)
}

test "string_multilingual_support" {
  // æµ‹è¯•å¤šè¯­è¨€å­—ç¬¦ä¸²æ”¯æŒ
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", @azimuth.greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  @azimuth.assert_eq_string("Hello, Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©!", @azimuth.greet("Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©"))
  @azimuth.assert_eq_string("Hello, ğŸŒŸ!", @azimuth.greet("ğŸŒŸ"))
}

test "complex_financial_calculation" {
  // å¤æ‚é‡‘èè®¡ç®—ï¼šè´·æ¬¾åˆ†æœŸè¿˜æ¬¾è®¡ç®—
  let loan_amount = 100000
  let annual_rate = 6  // 6%
  let loan_years = 10
  
  // ç®€åŒ–çš„æœˆä¾›è®¡ç®—ï¼šæœ¬é‡‘ / æœˆæ•° + åˆ©æ¯
  let total_months = @azimuth.multiply(loan_years, 12)
  let monthly_principal = loan_amount / total_months
  
  // ç®€åŒ–çš„åˆ©æ¯è®¡ç®—
  let total_interest = @azimuth.multiply(loan_amount, annual_rate) / 100
  let monthly_interest = total_interest / total_months
  
  let monthly_payment = @azimuth.add(monthly_principal, monthly_interest)
  @azimuth.assert_eq(1388, monthly_payment)
}

test "temperature_conversion_comprehensive" {
  // æ¸©åº¦è½¬æ¢ç»¼åˆæµ‹è¯•
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼šF = C Ã— 9/5 + 32
  // ç®€åŒ–ä¸ºæ•´æ•°è®¡ç®—ï¼šF = C Ã— 2 + 30
  
  let freezing_c = 0
  let boiling_c = 100
  let room_c = 22
  
  let freezing_f = @azimuth.add(@azimuth.multiply(freezing_c, 2), 30)
  let boiling_f = @azimuth.add(@azimuth.multiply(boiling_c, 2), 30)
  let room_f = @azimuth.add(@azimuth.multiply(room_c, 2), 30)
  
  @azimuth.assert_eq(30, freezing_f)
  @azimuth.assert_eq(230, boiling_f)
  @azimuth.assert_eq(74, room_f)
}

test "geometric_area_calculations" {
  // å‡ ä½•é¢ç§¯è®¡ç®—
  let rectangle_length = 15
  let rectangle_width = 8
  let triangle_base = 12
  let triangle_height = 6
  let trapezoid_base1 = 10
  let trapezoid_base2 = 6
  let trapezoid_height = 4
  
  // çŸ©å½¢é¢ç§¯
  let rectangle_area = @azimuth.multiply(rectangle_length, rectangle_width)
  
  // ä¸‰è§’å½¢é¢ç§¯ï¼šåº• Ã— é«˜ Ã· 2
  let triangle_area = @azimuth.multiply(triangle_base, triangle_height) / 2
  
  // æ¢¯å½¢é¢ç§¯ï¼š(ä¸Šåº• + ä¸‹åº•) Ã— é«˜ Ã· 2
  let trapezoid_area = @azimuth.multiply(@azimuth.add(trapezoid_base1, trapezoid_base2), trapezoid_height) / 2
  
  @azimuth.assert_eq(120, rectangle_area)
  @azimuth.assert_eq(36, triangle_area)
  @azimuth.assert_eq(32, trapezoid_area)
}

test "inventory_management_system" {
  // åº“å­˜ç®¡ç†ç³»ç»Ÿè®¡ç®—
  let product_cost = 50
  let selling_price = 75
  let initial_stock = 100
  let sold_quantity = 30
  let reorder_threshold = 40
  
  // è®¡ç®—å½“å‰åº“å­˜
  let current_stock = @azimuth.add(initial_stock, -sold_quantity)
  
  // è®¡ç®—æ€»é”€å”®é¢
  let total_revenue = @azimuth.multiply(selling_price, sold_quantity)
  
  // è®¡ç®—æ€»æˆæœ¬
  let total_cost = @azimuth.multiply(product_cost, sold_quantity)
  
  // è®¡ç®—æ¯›åˆ©æ¶¦
  let gross_profit = @azimuth.add(total_revenue, -total_cost)
  
  // åˆ¤æ–­æ˜¯å¦éœ€è¦è¡¥è´§
  let needs_reorder = current_stock < reorder_threshold
  
  @azimuth.assert_eq(70, current_stock)
  @azimuth.assert_eq(2250, total_revenue)
  @azimuth.assert_eq(1500, total_cost)
  @azimuth.assert_eq(750, gross_profit)
  @azimuth.assert_true(needs_reorder)
}

test "statistical_analysis_basic" {
  // åŸºç¡€ç»Ÿè®¡åˆ†æ
  let data1 = 85
  let data2 = 92
  let data3 = 78
  let data4 = 96
  let data5 = 89
  
  // è®¡ç®—æ€»å’Œ
  let sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(data1, data2), data3), data4), data5)
  
  // è®¡ç®—å¹³å‡å€¼
  let average = sum / 5
  
  // è®¡ç®—æœ€å¤§å€¼å’Œæœ€å°å€¼
  let max_value = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(data1, data2), data3), data4), data5)
  let min_value = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(data1, data2), data3), data4), data5)
  
  @azimuth.assert_eq(440, sum)
  @azimuth.assert_eq(88, average)
}

test "game_mechanics_calculation" {
  // æ¸¸æˆæœºåˆ¶è®¡ç®—
  let base_damage = 100
  let weapon_multiplier = 2
  let critical_chance = 25
  let enemy_armor = 30
  
  // è®¡ç®—åŸºç¡€æ”»å‡»ä¼¤å®³
  let weapon_damage = @azimuth.multiply(base_damage, weapon_multiplier)
  
  // æ¨¡æ‹Ÿæš´å‡»ï¼ˆ25%æ¦‚ç‡ï¼‰
  let critical_damage = if (weapon_damage > 150) {
    @azimuth.multiply(weapon_damage, 2)
  } else {
    weapon_damage
  }
  
  // è®¡ç®—æœ€ç»ˆä¼¤å®³ï¼ˆå‡å»æŠ¤ç”²ï¼‰
  let final_damage = @azimuth.add(critical_damage, -enemy_armor)
  
  @azimuth.assert_eq(170, final_damage)
}

test "energy_efficiency_calculation" {
  // èƒ½æ•ˆè®¡ç®—
  let old_appliance_power = 2000  // ç“¦ç‰¹
  let new_appliance_power = 1500  // ç“¦ç‰¹
  let daily_usage_hours = 8
  let electricity_rate = 15  // æ¯åƒç“¦æ—¶è´¹ç”¨
  
  // è®¡ç®—æ—¥è€—ç”µé‡ï¼ˆåƒç“¦æ—¶ï¼‰
  let old_daily_kwh = @azimuth.multiply(old_appliance_power, daily_usage_hours) / 1000
  let new_daily_kwh = @azimuth.multiply(new_appliance_power, daily_usage_hours) / 1000
  
  // è®¡ç®—æ—¥æˆæœ¬
  let old_daily_cost = @azimuth.multiply(old_daily_kwh, electricity_rate)
  let new_daily_cost = @azimuth.multiply(new_daily_kwh, electricity_rate)
  
  // è®¡ç®—å¹´èŠ‚çœ
  let daily_savings = @azimuth.add(old_daily_cost, -new_daily_cost)
  let annual_savings = @azimuth.multiply(daily_savings, 365)
  
  @azimuth.assert_eq(16, old_daily_kwh)
  @azimuth.assert_eq(12, new_daily_kwh)
  @azimuth.assert_eq(240, annual_savings)
}

test "complex_number_pattern" {
  // å¤æ•°æ¨¡å¼è®¡ç®—ï¼ˆä½¿ç”¨æ•´æ•°æ¨¡æ‹Ÿï¼‰
  let real_part = 3
  let imaginary_part = 4
  
  // è®¡ç®—æ¨¡çš„å¹³æ–¹ï¼šaÂ² + bÂ²
  let magnitude_squared = @azimuth.add(@azimuth.multiply(real_part, real_part), 
                                      @azimuth.multiply(imaginary_part, imaginary_part))
  
  // è®¡ç®—å…±è½­å¤æ•°çš„ä¹˜ç§¯ï¼š(a + bi)(a - bi) = aÂ² + bÂ²
  let conjugate_product = magnitude_squared
  
  // æ¨¡æ‹Ÿå¤æ•°åŠ æ³•ï¼š(a + bi) + (c + di) = (a + c) + (b + d)i
  let other_real = 2
  let other_imaginary = 1
  let sum_real = @azimuth.add(real_part, other_real)
  let sum_imaginary = @azimuth.add(imaginary_part, other_imaginary)
  
  @azimuth.assert_eq(25, magnitude_squared)
  @azimuth.assert_eq(25, conjugate_product)
  @azimuth.assert_eq(5, sum_real)
  @azimuth.assert_eq(5, sum_imaginary)
}