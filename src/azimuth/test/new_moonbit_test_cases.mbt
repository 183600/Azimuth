// æ–°å¢ MoonBit æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•å’Œæ–­è¨€

test "addition_with_various_number_ranges" {
  // æµ‹è¯•ä¸åŒæ•°å€¼èŒƒå›´çš„åŠ æ³•
  @azimuth.assert_eq(1000, @azimuth.add(500, 500))
  @azimuth.assert_eq(-1000, @azimuth.add(-500, -500))
  @azimuth.assert_eq(0, @azimuth.add(500, -500))
  @azimuth.assert_eq(1, @azimuth.add(2147483647, -2147483646))
}

test "multiplication_with_large_numbers" {
  // æµ‹è¯•å¤§æ•°ä¹˜æ³•
  @azimuth.assert_eq(1000000, @azimuth.multiply(1000, 1000))
  @azimuth.assert_eq(-1000000, @azimuth.multiply(-1000, 1000))
  @azimuth.assert_eq(2147483647, @azimuth.multiply(46341, 46341))
  @azimuth.assert_eq(-2147483648, @azimuth.multiply(-46341, 46341))
}

test "string_greeting_with_special_characters" {
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²é—®å€™
  @azimuth.assert_eq_string("Hello, @#$%^&*()!", @azimuth.greet("@#$%^&*()"))
  @azimuth.assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", @azimuth.greet("ä¸­æ–‡æµ‹è¯•"))
  @azimuth.assert_eq_string("Hello, ğŸš€ğŸŒŸ!", @azimuth.greet("ğŸš€ğŸŒŸ"))
  @azimuth.assert_eq_string("Hello,   spaced   !", @azimuth.greet("  spaced  "))
}

test "complex_arithmetic_expressions" {
  // æµ‹è¯•å¤æ‚ç®—æœ¯è¡¨è¾¾å¼
  let a = 12
  let b = 8
  let c = 5
  let d = 3
  
  // è®¡ç®— (a + b) * (c - d)
  let sum_ab = @azimuth.add(a, b)
  let diff_cd = @azimuth.add(c, -d)
  let result = @azimuth.multiply(sum_ab, diff_cd)
  @azimuth.assert_eq(40, result)  // (12 + 8) * (5 - 3) = 20 * 2 = 40
  
  // è®¡ç®— a * b + c * d
  let product_ab = @azimuth.multiply(a, b)
  let product_cd = @azimuth.multiply(c, d)
  let result2 = @azimuth.add(product_ab, product_cd)
  @azimuth.assert_eq(111, result2)  // 12 * 8 + 5 * 3 = 96 + 15 = 111
}

test "boundary_value_combinations" {
  // æµ‹è¯•è¾¹ç•Œå€¼ç»„åˆ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(min_val, 0))
}

test "real_world_financial_calculations" {
  // æµ‹è¯•å®é™…é‡‘èè®¡ç®—åœºæ™¯
  let principal = 10000  // æœ¬é‡‘
  let rate = 5           // åˆ©ç‡ 5%
  let years = 3          // å¹´æ•°
  
  // ç®€å•åˆ©æ¯è®¡ç®—ï¼šæœ¬é‡‘ + (æœ¬é‡‘ Ã— åˆ©ç‡ Ã— å¹´æ•°)
  let interest = @azimuth.multiply(principal, @azimuth.multiply(rate, years))
  let total = @azimuth.add(principal, interest)
  @azimuth.assert_eq(160000, total)  // 10000 + 10000*5*3 = 160000
  
  // åˆ†æœŸä»˜æ¬¾è®¡ç®—ï¼šæ€»ä»· / æœŸæ•°
  let total_price = 3600
  let installments = 12
  let monthly_payment = total_price / installments
  @azimuth.assert_eq(300, monthly_payment)
}

test "mathematical_sequence_calculations" {
  // æµ‹è¯•æ•°å­¦åºåˆ—è®¡ç®—
  // è®¡ç®—ç­‰å·®æ•°åˆ—å‰né¡¹å’Œï¼š1 + 2 + 3 + 4 + 5
  let n1 = 1
  let n2 = 2
  let n3 = 3
  let n4 = 4
  let n5 = 5
  
  let sum1 = @azimuth.add(n1, @azimuth.add(n2, @azimuth.add(n3, @azimuth.add(n4, n5))))
  @azimuth.assert_eq(15, sum1)  // 1 + 2 + 3 + 4 + 5 = 15
  
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—å‰né¡¹ç§¯ï¼š2 Ã— 4 Ã— 8
  let product1 = @azimuth.multiply(2, @azimuth.multiply(4, 8))
  @azimuth.assert_eq(64, product1)  // 2 Ã— 4 Ã— 8 = 64
}

test "string_processing_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²å’Œå•å­—ç¬¦
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, A!", @azimuth.greet("A"))
  
  // æµ‹è¯•åŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, 2023!", @azimuth.greet("2023"))
  @azimuth.assert_eq_string("Hello, v1.0.0!", @azimuth.greet("v1.0.0"))
  
  // æµ‹è¯•åŒ…å«å¼•å·çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, \"John\"!", @azimuth.greet("\"John\""))
}

test "error_handling_and_validation" {
  // æµ‹è¯•é”™è¯¯å¤„ç†å’ŒéªŒè¯
  let max_val = 2147483647
  let min_val = -2147483648
  
  // éªŒè¯æº¢å‡ºå¤„ç†
  @azimuth.assert_true(@azimuth.add(max_val, 1) == max_val)
  @azimuth.assert_true(@azimuth.add(min_val, -1) == min_val)
  @azimuth.assert_true(@azimuth.multiply(max_val, 2) == max_val)
  @azimuth.assert_true(@azimuth.multiply(min_val, -1) == min_val)
  
  // éªŒè¯æ­£å¸¸è¿ç®—
  @azimuth.assert_true(@azimuth.add(10, 20) == 30)
  @azimuth.assert_true(@azimuth.multiply(5, 6) == 30)
}

test "comprehensive_application_scenario" {
  // ç»¼åˆåº”ç”¨åœºæ™¯æµ‹è¯•ï¼šç”µå•†è®¢å•è®¡ç®—
  let item1_price = 199
  let item1_qty = 2
  let item2_price = 299
  let item2_qty = 1
  let item3_price = 99
  let item3_qty = 3
  let shipping_fee = 15
  let discount = 50
  
  // è®¡ç®—å„å•†å“å°è®¡
  let subtotal1 = @azimuth.multiply(item1_price, item1_qty)
  let subtotal2 = @azimuth.multiply(item2_price, item2_qty)
  let subtotal3 = @azimuth.multiply(item3_price, item3_qty)
  
  // è®¡ç®—å•†å“æ€»ä»·
  let items_total = @azimuth.add(@azimuth.add(subtotal1, subtotal2), subtotal3)
  
  // åº”ç”¨æŠ˜æ‰£å’Œè¿è´¹
  let after_discount = @azimuth.add(items_total, -discount)
  let final_total = @azimuth.add(after_discount, shipping_fee)
  
  // éªŒè¯æœ€ç»ˆæ€»ä»·ï¼š(199*2) + (299*1) + (99*3) - 50 + 15 = 398 + 299 + 297 - 50 + 15 = 959
  @azimuth.assert_eq(959, final_total)
}