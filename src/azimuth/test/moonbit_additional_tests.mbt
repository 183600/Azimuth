// MoonBit é¢å¤–æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åŒ…çš„é¢å¤–åŠŸèƒ½å’Œè¾¹ç¼˜æƒ…å†µ
test "add_function_commutativity" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  let a = 12345
  let b = 67890
  
  azimuth::@azimuth.assert_eq(azimuth::@azimuth.add(a, b), azimuth::@azimuth.add(b, a))
  
  // æµ‹è¯•åŒ…å«è´Ÿæ•°çš„æƒ…å†µ
  let c = -12345
  let d = 67890
  
  azimuth::@azimuth.assert_eq(azimuth::@azimuth.add(c, d), azimuth::@azimuth.add(d, c))
  
  // æµ‹è¯•ä¸¤ä¸ªè´Ÿæ•°çš„æƒ…å†µ
  let e = -12345
  let f = -67890
  
  azimuth::@azimuth.assert_eq(azimuth::@azimuth.add(e, f), azimuth::@azimuth.add(f, e))
}
test "multiply_function_distributivity" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ï¼ša Ã— (b + c) = a Ã— b + a Ã— c
  let a = 7
  let b = 12
  let c = 8
  
  let left_side = azimuth::@azimuth.multiply(a, azimuth::@azimuth.add(b, c))
  let right_side = azimuth::@azimuth.add(azimuth::@azimuth.multiply(a, b), azimuth::@azimuth.multiply(a, c))
  
  azimuth::@azimuth.assert_eq(left_side, right_side)
  
  // æµ‹è¯•åŒ…å«è´Ÿæ•°çš„æƒ…å†µ
  let d = -5
  let e = 15
  let f = -10
  
  let left_side2 = azimuth::@azimuth.multiply(d, azimuth::@azimuth.add(e, f))
  let right_side2 = azimuth::@azimuth.add(azimuth::@azimuth.multiply(d, e), azimuth::@azimuth.multiply(d, f))
  
  azimuth::@azimuth.assert_eq(left_side2, right_side2)
}
test "temperature_conversion_celsius_to_fahrenheit" {
  // æ¸©åº¦è½¬æ¢ï¼šæ‘„æ°åº¦è½¬åæ°åº¦ F = C Ã— 9/5 + 32
  // ç”±äºåªæœ‰æ•´æ•°è¿ç®—ï¼Œä½¿ç”¨ç®€åŒ–å…¬å¼ F = C Ã— 2 + 30
  
  let freezing_celsius = 0
  let freezing_fahrenheit = azimuth::@azimuth.add(azimuth::@azimuth.multiply(freezing_celsius, 2), 30)
  azimuth::@azimuth.assert_eq(30, freezing_fahrenheit)
  
  let boiling_celsius = 100
  let boiling_fahrenheit = azimuth::@azimuth.add(azimuth::@azimuth.multiply(boiling_celsius, 2), 30)
  azimuth::@azimuth.assert_eq(230, boiling_fahrenheit)
  
  let room_temp_celsius = 20
  let room_temp_fahrenheit = azimuth::@azimuth.add(azimuth::@azimuth.multiply(room_temp_celsius, 2), 30)
  azimuth::@azimuth.assert_eq(70, room_temp_fahrenheit)
}
test "compound_interest_calculation" {
  // å¤åˆ©è®¡ç®—ï¼šæœ€ç»ˆé‡‘é¢ = æœ¬é‡‘ Ã— (1 + åˆ©ç‡)^å¹´æ•°
  // ç®€åŒ–ä¸ºæ•´æ•°è®¡ç®—ï¼šé¿å…æµ®ç‚¹æ•°è¿ç®—
  
  let principal = 1000
  let rate_percent = 5
  let years = 3
  
  // ç®€åŒ–çš„å¤åˆ©è®¡ç®—ï¼šæœ¬æ¯å’Œ = æœ¬é‡‘ + æœ¬é‡‘ Ã— åˆ©ç‡ Ã— å¹´æ•°
  let interest = azimuth::@azimuth.multiply(principal, azimuth::@azimuth.multiply(rate_percent, years))
  let total = azimuth::@azimuth.add(principal, interest)
  
  azimuth::@azimuth.assert_eq(16000, total)  // 1000 + 1000*5*3 = 16000
}
test "shopping_cart_with_discount" {
  // è´­ç‰©è½¦è®¡ç®—ï¼ŒåŒ…å«æŠ˜æ‰£é€»è¾‘
  let item1_price = 299
  let item1_quantity = 2
  let item2_price = 199
  let item2_quantity = 3
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = azimuth::@azimuth.add(
    azimuth::@azimuth.multiply(item1_price, item1_quantity),
    azimuth::@azimuth.multiply(item2_price, item2_quantity)
  )
  
  // å¦‚æœæ€»ä»·è¶…è¿‡500ï¼Œç»™äºˆ10%æŠ˜æ‰£
  let discount_threshold = 500
  let discount_rate = 10
  let discount = if (subtotal > discount_threshold) {
    azimuth::@azimuth.multiply(subtotal, discount_rate) / 100
  } else {
    0
  }
  
  // è®¡ç®—æŠ˜åä»·æ ¼
  let discounted_total = azimuth::@azimuth.add(subtotal, -discount)
  
  azimuth::@azimuth.assert_eq(1166, discounted_total)  // (299*2 + 199*3) - 10% = 1195 - 119 = 1076
}
test "string_with_various_encodings" {
  // æµ‹è¯•ä¸åŒç¼–ç çš„å­—ç¬¦ä¸²å¤„ç†
  let ascii_string = "Hello"
  let numeric_string = "12345"
  let mixed_alphanumeric = "Test123ABC"
  let chinese_string = "ä½ å¥½ä¸–ç•Œ"
  let emoji_string = "ğŸŒğŸ‰ğŸš€"
  let mixed_unicode = "Helloä½ å¥½ğŸŒ"
  
  azimuth::@azimuth.assert_eq_string("Hello, Hello!", azimuth::@azimuth.greet(ascii_string))
  azimuth::@azimuth.assert_eq_string("Hello, 12345!", azimuth::@azimuth.greet(numeric_string))
  azimuth::@azimuth.assert_eq_string("Hello, Test123ABC!", azimuth::@azimuth.greet(mixed_alphanumeric))
  azimuth::@azimuth.assert_eq_string("Hello, ä½ å¥½ä¸–ç•Œ!", azimuth::@azimuth.greet(chinese_string))
  azimuth::@azimuth.assert_eq_string("Hello, ğŸŒğŸ‰ğŸš€!", azimuth::@azimuth.greet(emoji_string))
  azimuth::@azimuth.assert_eq_string("Hello, Helloä½ å¥½ğŸŒ!", azimuth::@azimuth.greet(mixed_unicode))
}
test "array_index_calculation_2d_to_1d" {
  // äºŒç»´æ•°ç»„è½¬ä¸€ç»´æ•°ç»„çš„ç´¢å¼•è®¡ç®—
  let row = 3
  let col = 4
  let width = 10
  
  // è®¡ç®—ä¸€ç»´æ•°ç»„ç´¢å¼•ï¼šindex = row Ã— width + col
  let index = azimuth::@azimuth.add(azimuth::@azimuth.multiply(row, width), col)
  azimuth::@azimuth.assert_eq(34, index)
  
  // æµ‹è¯•è¾¹ç•Œæƒ…å†µ
  let first_row = 0
  let first_col = 0
  let first_index = azimuth::@azimuth.add(azimuth::@azimuth.multiply(first_row, width), first_col)
  azimuth::@azimuth.assert_eq(0, first_index)
  
  let last_row = 9
  let last_col = 9
  let last_index = azimuth::@azimuth.add(azimuth::@azimuth.multiply(last_row, width), last_col)
  azimuth::@azimuth.assert_eq(99, last_index)
}
test "game_score_system" {
  // æ¸¸æˆå¾—åˆ†ç³»ç»Ÿè®¡ç®—
  let base_score = 1000
  let level_multiplier = 3
  let combo_bonus = 500
  let time_penalty = 200
  let difficulty_bonus = 300
  
  // è®¡ç®—åŸºç¡€å¾—åˆ†
  let level_score = azimuth::@azimuth.multiply(base_score, level_multiplier)
  
  // è®¡ç®—æ€»å¾—åˆ†
  let total_score = azimuth::@azimuth.add(
    azimuth::@azimuth.add(
      azimuth::@azimuth.add(level_score, combo_bonus),
      difficulty_bonus
    ),
    -time_penalty
  )
  
  azimuth::@azimuth.assert_eq(3600, total_score)
  
  // è®¡ç®—æ’åå¾—åˆ†ï¼ˆå‰10%é¢å¤–åŠ åˆ†ï¼‰
  let top_percentage = 10
  let rank_bonus = azimuth::@azimuth.multiply(total_score, top_percentage) / 100
  let final_score = azimuth::@azimuth.add(total_score, rank_bonus)
  
  azimuth::@azimuth.assert_eq(3960, final_score)
}
test "energy_consumption_calculation" {
  // èƒ½è€—è®¡ç®—æµ‹è¯•
  let power_rating = 100  // ç“¦ç‰¹
  let hours_per_day = 24
  let days_per_month = 30
  let cost_per_kwh = 10  // æ¯åƒç“¦æ—¶è´¹ç”¨ï¼ˆç®€åŒ–ï¼‰
  
  // è®¡ç®—æœˆåº¦èƒ½è€—ï¼ˆç“¦æ—¶ï¼‰
  let daily_consumption = azimuth::@azimuth.multiply(power_rating, hours_per_day)
  let monthly_consumption = azimuth::@azimuth.multiply(daily_consumption, days_per_month)
  
  // è½¬æ¢ä¸ºåƒç“¦æ—¶
  let kwh_consumption = monthly_consumption / 1000
  azimuth::@azimuth.assert_eq(72, kwh_consumption)
  
  // è®¡ç®—è´¹ç”¨
  let total_cost = azimuth::@azimuth.multiply(kwh_consumption, cost_per_kwh)
  azimuth::@azimuth.assert_eq(720, total_cost)
}
test "time_calculation_scenarios" {
  // æ—¶é—´è®¡ç®—åœºæ™¯
  let hours = 2
  let minutes = 45
  let seconds = 30
  
  // è½¬æ¢ä¸ºæ€»ç§’æ•°
  let total_seconds = azimuth::@azimuth.multiply(
    azimuth::@azimuth.add(azimuth::@azimuth.multiply(hours, 60), minutes),
    60
  )
  total_seconds = azimuth::@azimuth.add(total_seconds, seconds)
  
  azimuth::@azimuth.assert_eq(9930, total_seconds)  // (2*60 + 45)*60 + 30 = 9930
  
  // è®¡ç®—æ—¶é—´å·®
  let start_hour = 8
  let start_minute = 30
  let end_hour = 17
  let end_minute = 45
  
  let start_minutes = azimuth::@azimuth.add(azimuth::@azimuth.multiply(start_hour, 60), start_minute)
  let end_minutes = azimuth::@azimuth.add(azimuth::@azimuth.multiply(end_hour, 60), end_minute)
  let duration = azimuth::@azimuth.add(end_minutes, -start_minutes)
  
  azimuth::@azimuth.assert_eq(555, duration)  // (17*60 + 45) - (8*60 + 30) = 1065 - 510 = 555åˆ†é’Ÿ
}