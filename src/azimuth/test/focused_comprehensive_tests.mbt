// ä¸“æ³¨çš„ç»¼åˆæµ‹è¯•ç”¨ä¾‹ - è¡¥å……ç°æœ‰æµ‹è¯•è¦†ç›–çš„åœºæ™¯

// æµ‹è¯•ç”¨ä¾‹1: å¤åˆè¾¹ç•Œæ¡ä»¶æµ‹è¯•
///|
test "composite_boundary_conditions" {
  // æµ‹è¯•å¤šä¸ªè¾¹ç•Œæ¡ä»¶çš„ç»„åˆ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—ç»„åˆ
  assert_eq(-1, @azimuth.add(max_val, min_val))
  assert_eq(-1, @azimuth.add(min_val, max_val))
  
  // æ¥è¿‘è¾¹ç•Œçš„å€¼ç›¸åŠ 
  assert_eq(max_val, @azimuth.add(1073741823, 1073741824))
  assert_eq(min_val, @azimuth.add(-1073741824, -1073741824))
  
  // è¾¹ç•Œå€¼çš„ä¹˜æ³•ç»„åˆ
  assert_eq(min_val, @azimuth.multiply(min_val, 1))
  assert_eq(min_val, @azimuth.multiply(1, min_val))
  assert_eq(0, @azimuth.multiply(min_val, 0))
  assert_eq(0, @azimuth.multiply(0, min_val))
}

// æµ‹è¯•ç”¨ä¾‹2: æ•°å­¦æ’ç­‰å¼éªŒè¯
///|
test "mathematical_identities" {
  // éªŒè¯åŸºæœ¬çš„æ•°å­¦æ’ç­‰å¼
  
  // ä¹˜æ³•å¯¹åŠ æ³•çš„åˆ†é…å¾‹: a * (b + c) = a * b + a * c
  let test_values = [(2, 3, 5), (-2, 3, -5), (10, -3, 7), (-10, -3, -7)]
  
  for (a, b, c) in test_values {
    let left_side = @azimuth.multiply(a, @azimuth.add(b, c))
    let right_side = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
    assert_eq(left_side, right_side)
  }
  
  // é›¶å…ƒç´ æ€§è´¨
  assert_eq(0, @azimuth.multiply(0, 12345))
  assert_eq(0, @azimuth.multiply(12345, 0))
  assert_eq(12345, @azimuth.add(12345, 0))
  assert_eq(12345, @azimuth.add(0, 12345))
}

// æµ‹è¯•ç”¨ä¾‹3: å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
///|
test "string_edge_cases" {
  // æµ‹è¯•å„ç§å­—ç¬¦ä¸²è¾¹ç•Œæƒ…å†µ
  
  // ç©ºå­—ç¬¦ä¸²å¤„ç†
  assert_eq("Hello, !", @azimuth.greet(""))
  
  // å•å­—ç¬¦å­—ç¬¦ä¸²
  assert_eq("Hello, A!", @azimuth.greet("A"))
  
  // é•¿å­—ç¬¦ä¸²æµ‹è¯•
  let long_name = "VeryVeryVeryVeryVeryVeryVeryVeryVeryVeryLongName"
  let long_greeting = @azimuth.greet(long_name)
  assert_eq(true, long_greeting.contains(long_name))
  
  // ç‰¹æ®Šå­—ç¬¦ç»„åˆ
  assert_eq("Hello, ğŸŒ™â­ğŸš€!", @azimuth.greet("ğŸŒ™â­ğŸš€"))
  assert_eq("Hello, ä¸­æ–‡æµ‹è¯•!", @azimuth.greet("ä¸­æ–‡æµ‹è¯•"))
}

// æµ‹è¯•ç”¨ä¾‹4: é”™è¯¯è¾“å…¥å¤„ç†æµ‹è¯•
///|
test "error_handling_scenarios" {
  // æµ‹è¯•å„ç§å¯èƒ½å¯¼è‡´é”™è¯¯çš„è¾“å…¥ç»„åˆ
  
  // æç«¯å€¼ç»„åˆæµ‹è¯•
  let extreme_values = [2147483647, -2147483648, 2147483646, -2147483647]
  
  for a in extreme_values {
    for b in extreme_values {
      // ç¡®ä¿åŠ æ³•ä¸ä¼šå¯¼è‡´ç¨‹åºå´©æºƒ
      let add_result = @azimuth.add(a, b)
      assert_eq(true, add_result >= -2147483648 && add_result <= 2147483647)
      
      // ç¡®ä¿ä¹˜æ³•ä¸ä¼šå¯¼è‡´ç¨‹åºå´©æºƒ
      let mul_result = @azimuth.multiply(a, b)
      assert_eq(true, mul_result >= -2147483648 && mul_result <= 2147483647)
    }
  }
}

// æµ‹è¯•ç”¨ä¾‹5: å®é™…åº”ç”¨åœºæ™¯ - è´­ç‰©è®¡ç®—
///|
test "real_world_shopping_calculation" {
  // æ¨¡æ‹ŸçœŸå®è´­ç‰©åœºæ™¯çš„è®¡ç®—
  
  // å•†å“ä»·æ ¼å’Œæ•°é‡
  let item_prices = [199, 299, 399, 499]
  let item_quantities = [2, 1, 3, 1]
  
  // è®¡ç®—æ¯ç§å•†å“çš„å°è®¡
  let subtotal1 = @azimuth.multiply(item_prices[0], item_quantities[0])
  let subtotal2 = @azimuth.multiply(item_prices[1], item_quantities[1])
  let subtotal3 = @azimuth.multiply(item_prices[2], item_quantities[2])
  let subtotal4 = @azimuth.multiply(item_prices[3], item_quantities[3])
  
  // è®¡ç®—æ€»ä»·
  let total = @azimuth.add(
    @azimuth.add(subtotal1, subtotal2),
    @azimuth.add(subtotal3, subtotal4)
  )
  
  // éªŒè¯è®¡ç®—ç»“æœ: 199*2 + 299*1 + 399*3 + 499*1 = 398 + 299 + 1197 + 499 = 2393
  assert_eq(2393, total)
}

// æµ‹è¯•ç”¨ä¾‹6: å®é™…åº”ç”¨åœºæ™¯ - æ—¶é—´è®¡ç®—
///|
test "real_world_time_calculation" {
  // æ¨¡æ‹Ÿæ—¶é—´è®¡ç®—åœºæ™¯
  
  // è®¡ç®—æ€»ç§’æ•°
  let hours = 2
  let minutes = 30
  let seconds = 45
  
  // è½¬æ¢ä¸ºç§’
  let total_seconds = @azimuth.add(
    @azimuth.add(
      @azimuth.multiply(hours, 3600),  // 2å°æ—¶ = 7200ç§’
      @azimuth.multiply(minutes, 60)   // 30åˆ†é’Ÿ = 1800ç§’
    ),
    seconds                             // 45ç§’
  )
  
  // éªŒè¯ç»“æœ: 7200 + 1800 + 45 = 9045
  assert_eq(9045, total_seconds)
}

// æµ‹è¯•ç”¨ä¾‹7: æ•°å­¦åºåˆ—è®¡ç®—
///|
test "mathematical_sequence_calculation" {
  // è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‰å‡ é¡¹ï¼ˆä½¿ç”¨åŠ æ³•ï¼‰
  
  // F0 = 0, F1 = 1
  let f0 = 0
  let f1 = 1
  
  // F2 = F0 + F1 = 1
  let f2 = @azimuth.add(f0, f1)
  assert_eq(1, f2)
  
  // F3 = F1 + F2 = 2
  let f3 = @azimuth.add(f1, f2)
  assert_eq(2, f3)
  
  // F4 = F2 + F3 = 3
  let f4 = @azimuth.add(f2, f3)
  assert_eq(3, f4)
  
  // F5 = F3 + F4 = 5
  let f5 = @azimuth.add(f3, f4)
  assert_eq(5, f5)
}

// æµ‹è¯•ç”¨ä¾‹8: æ€§èƒ½å‹åŠ›æµ‹è¯•
///|
test "performance_stress_test" {
  // ç®€å•çš„æ€§èƒ½æµ‹è¯• - è¿ç»­è¿ç®—
  
  let base = 1000
  let result = ref base
  
  // è¿ç»­åŠ æ³•è¿ç®—
  for i = 1; i <= 100; i = i + 1 {
    result = @azimuth.add(result, 1)
  }
  
  // éªŒè¯ç»“æœ: 1000 + 100 = 1100
  assert_eq(1100, result)
  
  // è¿ç»­ä¹˜æ³•è¿ç®—ï¼ˆå°æ•°å€¼é¿å…æº¢å‡ºï¼‰
  let mul_result = ref 1
  for i = 1; i <= 5; i = i + 1 {
    mul_result = @azimuth.multiply(mul_result, 2)
  }
  
  // éªŒè¯ç»“æœ: 2^5 = 32
  assert_eq(32, mul_result)
}

// æµ‹è¯•ç”¨ä¾‹9: è¾¹ç•Œå€¼ç»„åˆçš„ä¹˜æ³•æµ‹è¯•
///|
test "boundary_multiplication_combinations" {
  // æµ‹è¯•å„ç§è¾¹ç•Œå€¼ç»„åˆçš„ä¹˜æ³•
  
  let boundary_values = [0, 1, -1, 2147483647, -2147483648]
  
  for a in boundary_values {
    for b in boundary_values {
      let result = @azimuth.multiply(a, b)
      
      // éªŒè¯ç»“æœåœ¨æœ‰æ•ˆèŒƒå›´å†…
      assert_eq(true, result >= -2147483648 && result <= 2147483647)
      
      // éªŒè¯ç‰¹å®šçš„æ•°å­¦æ€§è´¨
      if a == 0 || b == 0 {
        assert_eq(0, result)
      } else if a == 1 {
        assert_eq(b, result)
      } else if b == 1 {
        assert_eq(a, result)
      } else if a == -1 {
        assert_eq(-b, result)
      } else if b == -1 {
        assert_eq(-a, result)
      }
    }
  }
}

// æµ‹è¯•ç”¨ä¾‹10: å­—ç¬¦ä¸²æ‹¼æ¥çš„å®é™…åº”ç”¨
///|
test "practical_string_concatenation" {
  // æµ‹è¯•å®é™…åº”ç”¨ä¸­çš„å­—ç¬¦ä¸²æ‹¼æ¥
  
  // ç”¨æˆ·ä¿¡æ¯
  let user_role = "Developer"
  let user_name = "Alice"
  
  // åˆ›å»ºå®Œæ•´çš„é—®å€™ä¿¡æ¯
  let role_greeting = @azimuth.greet(user_role)
  let name_greeting = @azimuth.greet(user_name)
  
  // éªŒè¯é—®å€™ä¿¡æ¯åŒ…å«åŸå§‹è¾“å…¥
  assert_eq(true, role_greeting.contains(user_role))
  assert_eq(true, name_greeting.contains(user_name))
  
  // éªŒè¯æ ¼å¼æ­£ç¡®
  assert_eq(true, role_greeting.starts_with("Hello, "))
  assert_eq(true, role_greeting.ends_with("!"))
  assert_eq(true, name_greeting.starts_with("Hello, "))
  assert_eq(true, name_greeting.ends_with("!"))
}