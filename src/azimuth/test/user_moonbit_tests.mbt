// ç”¨æˆ·å®šåˆ¶çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• Azimuth é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½

test "addition_with_large_numbers" {
  // æµ‹è¯•å¤§æ•°åŠ æ³•
  @azimuth.assert_eq(2000000000, @azimuth.add(1000000000, 1000000000))
  @azimuth.assert_eq(-2000000000, @azimuth.add(-1000000000, -1000000000))
  @azimuth.assert_eq(0, @azimuth.add(1500000000, -1500000000))
}

test "multiplication_power_of_two" {
  // æµ‹è¯•2çš„å¹‚æ¬¡ä¹˜æ³•
  @azimuth.assert_eq(4, @azimuth.multiply(2, 2))
  @azimuth.assert_eq(16, @azimuth.multiply(4, 4))
  @azimuth.assert_eq(64, @azimuth.multiply(8, 8))
  @azimuth.assert_eq(256, @azimuth.multiply(16, 16))
}

test "greet_function_with_various_inputs" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„å„ç§è¾“å…¥
  @azimuth.assert_eq_string("Hello, MoonBit!", @azimuth.greet("MoonBit"))
  @azimuth.assert_eq_string("Hello, ç”¨æˆ·123!", @azimuth.greet("ç”¨æˆ·123"))
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello,   !", @azimuth.greet("  "))
}

test "mathematical_associativity" {
  // æµ‹è¯•æ•°å­¦ç»“åˆå¾‹
  let a = 10
  let b = 20
  let c = 30
  
  // åŠ æ³•ç»“åˆå¾‹: (a + b) + c = a + (b + c)
  let result1 = @azimuth.add(@azimuth.add(a, b), c)
  let result2 = @azimuth.add(a, @azimuth.add(b, c))
  @azimuth.assert_eq(result1, result2)
}

test "calculation_of_geometric_area" {
  // æµ‹è¯•å‡ ä½•é¢ç§¯è®¡ç®—
  let length = 12
  let width = 8
  
  // è®¡ç®—çŸ©å½¢é¢ç§¯
  let area = @azimuth.multiply(length, width)
  @azimuth.assert_eq(96, area)
  
  // è®¡ç®—ä¸‰è§’å½¢é¢ç§¯ï¼ˆåº•Ã—é«˜Ã·2ï¼‰
  let base = 10
  let height = 6
  let triangle_area = @azimuth.multiply(base, height) / 2
  @azimuth.assert_eq(30, triangle_area)
}

test "financial_calculation_simple_interest" {
  // æµ‹è¯•ç®€å•åˆ©æ¯è®¡ç®—
  let principal = 10000
  let rate = 5  // 5%
  let time = 3  // 3å¹´
  
  // ç®€å•åˆ©æ¯ï¼šæœ¬é‡‘ Ã— åˆ©ç‡ Ã— æ—¶é—´
  let interest = @azimuth.multiply(principal, @azimuth.multiply(rate, time))
  let total = @azimuth.add(principal, interest)
  @azimuth.assert_eq(160000, total)  // 10000 + 10000Ã—5Ã—3 = 160000
}

test "temperature_conversion_celsius_to_fahrenheit" {
  // æµ‹è¯•æ¸©åº¦è½¬æ¢ï¼šæ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼šF = C Ã— 2 + 30ï¼‰
  let celsius = 25
  let fahrenheit = @azimuth.add(@azimuth.multiply(celsius, 2), 30)
  @azimuth.assert_eq(80, fahrenheit)  // 25 Ã— 2 + 30 = 80
  
  // æµ‹è¯•å†°ç‚¹
  let freezing = @azimuth.add(@azimuth.multiply(0, 2), 30)
  @azimuth.assert_eq(30, freezing)
}

test "string_processing_with_special_characters" {
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦å­—ç¬¦ä¸²å¤„ç†
  @azimuth.assert_eq_string("Hello, test@example.com!", @azimuth.greet("test@example.com"))
  @azimuth.assert_eq_string("Hello, C++ç¼–ç¨‹!", @azimuth.greet("C++ç¼–ç¨‹"))
  @azimuth.assert_eq_string("Hello, ğŸŒŸæ˜Ÿæ˜Ÿ!", @azimuth.greet("ğŸŒŸæ˜Ÿæ˜Ÿ"))
  @azimuth.assert_eq_string("Hello, Tab\tSeparated!", @azimuth.greet("Tab\tSeparated"))
}

test "boundary_value_combinations" {
  // æµ‹è¯•è¾¹ç•Œå€¼ç»„åˆ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(min_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
}

test "complex_business_calculation" {
  // æµ‹è¯•å¤æ‚ä¸šåŠ¡è®¡ç®—ï¼šè®¢å•æ€»ä»·è®¡ç®—
  let item_price = 299
  let quantity = 3
  let discount_rate = 10  // 10% æŠ˜æ‰£
  let shipping = 20
  let tax_rate = 8  // 8% ç¨ç‡
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = @azimuth.multiply(item_price, quantity)
  
  // è®¡ç®—æŠ˜æ‰£
  let discount = @azimuth.multiply(subtotal, discount_rate) / 100
  let discounted_total = @azimuth.add(subtotal, -discount)
  
  // è®¡ç®—ç¨è´¹
  let tax = @azimuth.multiply(discounted_total, tax_rate) / 100
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_total = @azimuth.add(@azimuth.add(discounted_total, tax), shipping)
  
  @azimuth.assert_eq(1046, final_total)  // 299Ã—3 - 10% + 8% + 20 = 1046
}