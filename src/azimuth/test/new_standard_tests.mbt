// æ–°å¢çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åŒ…çš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒåŒ…æ‹¬åŸºæœ¬è¿ç®—ã€è¾¹ç•Œæ¡ä»¶å’Œå®é™…åº”ç”¨åœºæ™¯

test "basic_arithmetic_operations" {
  // æµ‹è¯•åŸºæœ¬ç®—æœ¯è¿ç®—
  @azimuth.assert_eq(8, @azimuth.add(3, 5))
  @azimuth.assert_eq(-2, @azimuth.add(3, -5))
  @azimuth.assert_eq(0, @azimuth.add(5, -5))
  
  @azimuth.assert_eq(15, @azimuth.multiply(3, 5))
  @azimuth.assert_eq(-15, @azimuth.multiply(3, -5))
  @azimuth.assert_eq(0, @azimuth.multiply(5, 0))
}

test "mathematical_commutativity" {
  // æµ‹è¯•æ•°å­¦äº¤æ¢å¾‹
  let a = 12
  let b = 7
  
  // åŠ æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.multiply(a, b), @azimuth.multiply(b, a))
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  let c = -8
  @azimuth.assert_eq(@azimuth.add(a, c), @azimuth.add(c, a))
  @azimuth.assert_eq(@azimuth.multiply(a, c), @azimuth.multiply(c, a))
}

test "boundary_value_handling" {
  // æµ‹è¯•è¾¹ç•Œå€¼å¤„ç†
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼è¾¹ç•Œæµ‹è¯•
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1))
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, max_val))
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 2))
  
  // æœ€å°å€¼è¾¹ç•Œæµ‹è¯•
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -1))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, min_val))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 2))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
  
  // è¾¹ç•Œå€¼ç»„åˆ
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
}

test "string_functionality_comprehensive" {
  // æµ‹è¯•å­—ç¬¦ä¸²åŠŸèƒ½çš„å…¨é¢æƒ…å†µ
  // åŸºæœ¬å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, World!", @azimuth.greet("World"))
  @azimuth.assert_eq_string("Hello, MoonBit!", @azimuth.greet("MoonBit"))
  
  // ç‰¹æ®Šå­—ç¬¦å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, @#$%!", @azimuth.greet("@#$%"))
  @azimuth.assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", @azimuth.greet("ä¸­æ–‡æµ‹è¯•"))
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
  
  // è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, A!", @azimuth.greet("A"))
  
  // é•¿å­—ç¬¦ä¸²
  let long_name = "ThisIsAVeryLongNameForTestingPurposes"
  @azimuth.assert_eq_string("Hello, " + long_name + "!", @azimuth.greet(long_name))
}

test "complex_calculation_scenarios" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯
  // åœºæ™¯1ï¼šè®¡ç®—çŸ©å½¢çš„é¢ç§¯å’Œå‘¨é•¿
  let length = 15
  let width = 8
  
  let area = @azimuth.multiply(length, width)
  let perimeter = @azimuth.add(@azimuth.multiply(2, length), @azimuth.multiply(2, width))
  
  @azimuth.assert_eq(120, area)
  @azimuth.assert_eq(46, perimeter)
  
  // åœºæ™¯2ï¼šè®¡ç®—äºŒæ¬¡æ–¹ç¨‹çš„å€¼ (axÂ² + bx + c)
  let x = 4
  let a = 2
  let b = 3
  let c = 5
  
  let x_squared = @azimuth.multiply(x, x)
  let ax_squared = @azimuth.multiply(a, x_squared)
  let bx = @azimuth.multiply(b, x)
  let result = @azimuth.add(@azimuth.add(ax_squared, bx), c)
  
  @azimuth.assert_eq(53, result)
}

test "real_world_financial_calculations" {
  // æµ‹è¯•å®é™…é‡‘èè®¡ç®—åœºæ™¯
  // åœºæ™¯1ï¼šç®€å•åˆ©æ¯è®¡ç®—
  let principal = 10000
  let rate = 5  // 5%
  let time = 3  // 3å¹´
  
  let interest = @azimuth.multiply(principal, @azimuth.multiply(rate, time))
  let total = @azimuth.add(principal, interest)
  
  @azimuth.assert_eq(160000, total)
  
  // åœºæ™¯2ï¼šæŠ˜æ‰£è®¡ç®—
  let original_price = 299
  let discount_rate = 20  // 20%
  let tax_rate = 8  // 8%
  
  let discount_amount = @azimuth.multiply(original_price, discount_rate) / 100
  let discounted_price = @azimuth.add(original_price, -discount_amount)
  let tax_amount = @azimuth.multiply(discounted_price, tax_rate) / 100
  let final_price = @azimuth.add(discounted_price, tax_amount)
  
  @azimuth.assert_eq(259, final_price)
}

test "temperature_conversion_calculations" {
  // æµ‹è¯•æ¸©åº¦è½¬æ¢è®¡ç®—
  // ç®€åŒ–çš„æ‘„æ°åº¦è½¬åæ°åº¦å…¬å¼ï¼šF = C Ã— 2 + 30
  
  // å¸¸è§æ¸©åº¦ç‚¹
  let freezing_celsius = 0
  let freezing_fahrenheit = @azimuth.add(@azimuth.multiply(freezing_celsius, 2), 30)
  @azimuth.assert_eq(30, freezing_fahrenheit)
  
  let room_celsius = 22
  let room_fahrenheit = @azimuth.add(@azimuth.multiply(room_celsius, 2), 30)
  @azimuth.assert_eq(74, room_fahrenheit)
  
  let boiling_celsius = 100
  let boiling_fahrenheit = @azimuth.add(@azimuth.multiply(boiling_celsius, 2), 30)
  @azimuth.assert_eq(230, boiling_fahrenheit)
  
  // è´Ÿæ¸©åº¦
  let negative_celsius = -10
  let negative_fahrenheit = @azimuth.add(@azimuth.multiply(negative_celsius, 2), 30)
  @azimuth.assert_eq(10, negative_fahrenheit)
}

test "statistical_calculations" {
  // æµ‹è¯•ç»Ÿè®¡è®¡ç®—
  // æ•°æ®é›†ï¼š15, 25, 35, 45, 55
  
  // è®¡ç®—æ€»å’Œ
  let sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(15, 25), 35), 45), 55)
  @azimuth.assert_eq(175, sum)
  
  // è®¡ç®—å¹³å‡å€¼
  let count = 5
  let mean = sum / count
  @azimuth.assert_eq(35, mean)
  
  // è®¡ç®—èŒƒå›´ï¼ˆæœ€å¤§å€¼ - æœ€å°å€¼ï¼‰
  let range = @azimuth.add(55, -15)
  @azimuth.assert_eq(40, range)
  
  // è®¡ç®—æ–¹å·®ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let diff1 = @azimuth.add(15, -35)
  let diff2 = @azimuth.add(25, -35)
  let diff3 = @azimuth.add(35, -35)
  let diff4 = @azimuth.add(45, -35)
  let diff5 = @azimuth.add(55, -35)
  
  let squared_diff1 = @azimuth.multiply(diff1, diff1)
  let squared_diff2 = @azimuth.multiply(diff2, diff2)
  let squared_diff3 = @azimuth.multiply(diff3, diff3)
  let squared_diff4 = @azimuth.multiply(diff4, diff4)
  let squared_diff5 = @azimuth.multiply(diff5, diff5)
  
  let sum_squared_diffs = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(squared_diff1, squared_diff2), squared_diff3), squared_diff4), squared_diff5)
  let variance = sum_squared_diffs / count
  
  @azimuth.assert_eq(200, variance)
}

test "error_handling_and_validation" {
  // æµ‹è¯•é”™è¯¯å¤„ç†å’ŒéªŒè¯
  // åŸºæœ¬æ–­è¨€æµ‹è¯•
  @azimuth.assert_true(true)
  @azimuth.assert_false(false)
  @azimuth.assert_eq(100, 100)
  @azimuth.assert_eq_string("success", "success")
  
  // è¾¹ç•Œæ¡ä»¶éªŒè¯
  let max_val = 2147483647
  let min_val = -2147483648
  
  // éªŒè¯æº¢å‡ºä¿æŠ¤
  @azimuth.assert_true(@azimuth.add(max_val, 1) == max_val)
  @azimuth.assert_true(@azimuth.add(min_val, -1) == min_val)
  @azimuth.assert_true(@azimuth.multiply(max_val, 2) == max_val)
  @azimuth.assert_true(@azimuth.multiply(min_val, 2) == min_val)
  
  // éªŒè¯ç‰¹æ®Šå€¼å¤„ç†
  @azimuth.assert_true(@azimuth.multiply(min_val, -1) == min_val)
  @azimuth.assert_true(@azimuth.add(0, max_val) == max_val)
  @azimuth.assert_true(@azimuth.add(0, min_val) == min_val)
  @azimuth.assert_true(@azimuth.multiply(0, max_val) == 0)
  @azimuth.assert_true(@azimuth.multiply(0, min_val) == 0)
}

test "algorithm_implementation_tests" {
  // æµ‹è¯•ç®—æ³•å®ç°
  // è®¡ç®—1åˆ°nçš„å’Œï¼šn Ã— (n + 1) / 2
  let n = 10
  let sum_1_to_n = @azimuth.multiply(n, @azimuth.add(n, 1)) / 2
  @azimuth.assert_eq(55, sum_1_to_n)
  
  // è®¡ç®—é˜¶ä¹˜ï¼š5! = 5 Ã— 4 Ã— 3 Ã— 2 Ã— 1
  let factorial_5 = @azimuth.multiply(5, @azimuth.multiply(4, @azimuth.multiply(3, @azimuth.multiply(2, 1))))
  @azimuth.assert_eq(120, factorial_5)
  
  // è®¡ç®—å¹‚ï¼š2^6 = 2 Ã— 2 Ã— 2 Ã— 2 Ã— 2 Ã— 2
  let power_2_6 = @azimuth.multiply(@azimuth.multiply(@azimuth.multiply(2, 2), @azimuth.multiply(2, 2)), @azimuth.multiply(2, 2))
  @azimuth.assert_eq(64, power_2_6)
  
  // è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬6é¡¹ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let fib1 = 1
  let fib2 = 1
  let fib3 = @azimuth.add(fib1, fib2)  // 2
  let fib4 = @azimuth.add(fib2, fib3)  // 3
  let fib5 = @azimuth.add(fib3, fib4)  // 5
  let fib6 = @azimuth.add(fib4, fib5)  // 8
  
  @azimuth.assert_eq(8, fib6)
}