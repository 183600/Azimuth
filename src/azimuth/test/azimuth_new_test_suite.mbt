// Azimuth é¡¹ç›®æ–°å¢æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œè¦†ç›–æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

test "add_function_basic_cases" {
  // æµ‹è¯• add å‡½æ•°çš„åŸºæœ¬æƒ…å†µ
  assert_eq(5, add(2, 3))
  assert_eq(0, add(-2, 2))
  assert_eq(-5, add(-2, -3))
  assert_eq(100, add(50, 50))
}

test "add_function_edge_cases" {
  // æµ‹è¯• add å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•é›¶å€¼
  assert_eq(42, add(42, 0))
  assert_eq(42, add(0, 42))
  assert_eq(0, add(0, 0))
  
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤
  assert_eq(max_val, add(max_val, 1))
  assert_eq(min_val, add(min_val, -1))
  assert_eq(-1, add(max_val, min_val))
}

test "multiply_function_basic_cases" {
  // æµ‹è¯• multiply å‡½æ•°çš„åŸºæœ¬æƒ…å†µ
  assert_eq(6, multiply(2, 3))
  assert_eq(-6, multiply(2, -3))
  assert_eq(0, multiply(5, 0))
  assert_eq(100, multiply(10, 10))
}

test "multiply_function_edge_cases" {
  // æµ‹è¯• multiply å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•ç‰¹æ®Šå€¼
  assert_eq(5, multiply(5, 1))
  assert_eq(-5, multiply(5, -1))
  assert_eq(0, multiply(0, max_val))
  
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤
  assert_eq(max_val, multiply(max_val, 2))
  assert_eq(min_val, multiply(min_val, 2))
  assert_eq(min_val, multiply(min_val, -1))
}

test "greet_function_various_inputs" {
  // æµ‹è¯• greet å‡½æ•°çš„å„ç§è¾“å…¥
  assert_eq_string("Hello, World!", greet("World"))
  assert_eq_string("Hello, MoonBit!", greet("MoonBit"))
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, 123!", greet("123"))
}

test "greet_function_special_characters" {
  // æµ‹è¯• greet å‡½æ•°çš„ç‰¹æ®Šå­—ç¬¦å¤„ç†
  assert_eq_string("Hello, æµ‹è¯•!", greet("æµ‹è¯•"))
  assert_eq_string("Hello, ğŸŒ!", greet("ğŸŒ"))
  assert_eq_string("Hello, John Doe!", greet("John Doe"))
  assert_eq_string("Hello, user@example.com!", greet("user@example.com"))
}

test "complex_business_calculation" {
  // æµ‹è¯•å¤æ‚å•†ä¸šè®¡ç®—ï¼šè®¢å•æ€»ä»·è®¡ç®—
  let item_price = 199
  let quantity = 3
  let discount = 50
  let tax_rate = 8
  let shipping = 20
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = multiply(item_price, quantity)
  // è®¡ç®—æŠ˜åä»·æ ¼
  let discounted_total = add(subtotal, -discount)
  // è®¡ç®—ç¨è´¹
  let tax_amount = multiply(discounted_total, tax_rate) / 100
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_total = add(add(discounted_total, tax_amount), shipping)
  
  assert_eq(603, final_total)
}

test "mathematical_series_calculation" {
  // æµ‹è¯•æ•°å­¦çº§æ•°è®¡ç®—ï¼šç­‰å·®æ•°åˆ—æ±‚å’Œ
  // è®¡ç®— 1 + 3 + 5 + ... + 19ï¼ˆå‰10ä¸ªå¥‡æ•°ï¼‰
  let n = 10
  let first = 1
  let last = 19
  
  // ä½¿ç”¨å…¬å¼ï¼šn Ã— (é¦–é¡¹ + æœ«é¡¹) / 2
  let sum = multiply(n, add(first, last)) / 2
  assert_eq(100, sum)
  
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—ï¼š2 + 4 + 8 + 16
  let geo_sum = add(add(add(2, 4), 8), 16)
  assert_eq(30, geo_sum)
}

test "geometry_area_calculations" {
  // æµ‹è¯•å‡ ä½•é¢ç§¯è®¡ç®—
  let length = 12
  let width = 8
  let radius = 5
  
  // çŸ©å½¢é¢ç§¯
  let rectangle_area = multiply(length, width)
  assert_eq(96, rectangle_area)
  
  // ä¸‰è§’å½¢é¢ç§¯ï¼šåº• Ã— é«˜ Ã· 2
  let base = 10
  let height = 6
  let triangle_area = multiply(base, height) / 2
  assert_eq(30, triangle_area)
  
  // åœ†é¢ç§¯ï¼ˆç®€åŒ–è®¡ç®—ï¼‰ï¼šÏ€ Ã— rÂ² â‰ˆ 3 Ã— rÂ²
  let circle_area = multiply(3, multiply(radius, radius))
  assert_eq(75, circle_area)
}

test "time_conversion_calculations" {
  // æµ‹è¯•æ—¶é—´è½¬æ¢è®¡ç®—
  let hours = 2
  let minutes = 30
  let seconds = 45
  
  // è½¬æ¢ä¸ºæ€»åˆ†é’Ÿæ•°
  let total_minutes = add(multiply(hours, 60), minutes)
  assert_eq(150, total_minutes)
  
  // è½¬æ¢ä¸ºæ€»ç§’æ•°
  let total_seconds = add(multiply(total_minutes, 60), seconds)
  assert_eq(9045, total_seconds)
  
  // è®¡ç®—æ—¶é—´å·®ï¼ˆåˆ†é’Ÿï¼‰
  let start_time = 480  // 8:00 AM in minutes
  let end_time = 1020    // 5:00 PM in minutes
  let duration = add(end_time, -start_time)
  assert_eq(540, duration)
}