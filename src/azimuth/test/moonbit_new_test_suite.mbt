// æ–°çš„ MoonBit æµ‹è¯•å¥—ä»¶
// åŒ…å« 10 ä¸ªæ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹

test "basic_arithmetic_operations" {
  // æµ‹è¯•åŸºæœ¬ç®—æœ¯è¿ç®—
  azimuth::@azimuth.assert_eq(10, azimuth::@azimuth.add(7, 3))
  azimuth::@azimuth.assert_eq(0, azimuth::@azimuth.add(5, -5))
  azimuth::@azimuth.assert_eq(15, azimuth::@azimuth.multiply(3, 5))
  azimuth::@azimuth.assert_eq(-8, azimuth::@azimuth.multiply(-2, 4))
}

test "string_greeting_functionality" {
  // æµ‹è¯•å­—ç¬¦ä¸²é—®å€™åŠŸèƒ½
  azimuth::@azimuth.assert_eq_string("Hello, MoonBit!", azimuth::@azimuth.greet("MoonBit"))
  azimuth::@azimuth.assert_eq_string("Hello, !", azimuth::@azimuth.greet(""))
  azimuth::@azimuth.assert_eq_string("Hello, ç”¨æˆ·123!", azimuth::@azimuth.greet("ç”¨æˆ·123"))
}

test "mathematical_properties_validation" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨éªŒè¯
  let a = 12
  let b = 8
  
  // åŠ æ³•äº¤æ¢å¾‹: a + b = b + a
  azimuth::@azimuth.assert_eq(
    azimuth::@azimuth.add(a, b), 
    azimuth::@azimuth.add(b, a)
  )
  
  // ä¹˜æ³•äº¤æ¢å¾‹: a * b = b * a
  azimuth::@azimuth.assert_eq(
    azimuth::@azimuth.multiply(a, b), 
    azimuth::@azimuth.multiply(b, a)
  )
}

test "boundary_value_handling" {
  // æµ‹è¯•è¾¹ç•Œå€¼å¤„ç†
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼åŠ æ³•æº¢å‡ºä¿æŠ¤
  azimuth::@azimuth.assert_eq(max_val, azimuth::@azimuth.add(max_val, 1))
  azimuth::@azimuth.assert_eq(max_val, azimuth::@azimuth.add(max_val, max_val))
  
  // æœ€å°å€¼åŠ æ³•æº¢å‡ºä¿æŠ¤
  azimuth::@azimuth.assert_eq(min_val, azimuth::@azimuth.add(min_val, -1))
  azimuth::@azimuth.assert_eq(min_val, azimuth::@azimuth.add(min_val, min_val))
  
  // ä¹˜æ³•è¾¹ç•Œå€¼
  azimuth::@azimuth.assert_eq(0, azimuth::@azimuth.multiply(max_val, 0))
  azimuth::@azimuth.assert_eq(min_val, azimuth::@azimuth.multiply(min_val, -1))
}

test "complex_calculation_scenario" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯ï¼šè®¡ç®—åœ†çš„é¢ç§¯å’Œå‘¨é•¿
  let radius = 5
  let pi_approx = 3  // ç®€åŒ–çš„Ï€å€¼
  
  // å‘¨é•¿ = 2 Ã— Ï€ Ã— r
  let circumference = azimuth::@azimuth.multiply(
    azimuth::@azimuth.multiply(2, pi_approx), 
    radius
  )
  
  // é¢ç§¯ = Ï€ Ã— rÂ²
  let area = azimuth::@azimuth.multiply(
    pi_approx, 
    azimuth::@azimuth.multiply(radius, radius)
  )
  
  azimuth::@azimuth.assert_eq(30, circumference)  // 2 Ã— 3 Ã— 5 = 30
  azimuth::@azimuth.assert_eq(75, area)          // 3 Ã— 25 = 75
}

test "financial_calculation_scenario" {
  // æµ‹è¯•é‡‘èè®¡ç®—åœºæ™¯ï¼šè´·æ¬¾åˆ©æ¯è®¡ç®—
  let principal = 10000  // æœ¬é‡‘
  let annual_rate = 5    // å¹´åˆ©ç‡5%
  let years = 3          // 3å¹´
  
  // ç®€å•åˆ©æ¯è®¡ç®—ï¼šæœ¬é‡‘ + (æœ¬é‡‘ Ã— åˆ©ç‡ Ã— å¹´æ•°)
  let interest = azimuth::@azimuth.multiply(
    principal, 
    azimuth::@azimuth.multiply(annual_rate, years)
  )
  let total_amount = azimuth::@azimuth.add(principal, interest)
  
  azimuth::@azimuth.assert_eq(160000, total_amount)  // 10000 + (10000 Ã— 5 Ã— 3) = 160000
}

test "assert_function_functionality" {
  // æµ‹è¯•æ–­è¨€å‡½æ•°åŠŸèƒ½
  azimuth::@azimuth.assert_eq(1, 1)
  azimuth::@azimuth.assert_eq(1, 1)
  azimuth::@azimuth.assert_eq(42, 42)
  azimuth::@azimuth.assert_eq_string("test", "test")
  
  // æµ‹è¯•è®¡ç®—ç»“æœçš„æ–­è¨€
  let calc_result = azimuth::@azimuth.add(17, 25)
  azimuth::@azimuth.assert_eq(42, calc_result)
  
  let string_result = azimuth::@azimuth.greet("Tester")
  azimuth::@azimuth.assert_eq_string("Hello, Tester!", string_result)
}

test "error_handling_and_edge_cases" {
  // æµ‹è¯•é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤æ˜¯å¦æ­£å¸¸å·¥ä½œ
  azimuth::@azimuth.assert_eq(1, 1)(
    azimuth::@azimuth.add(max_val, 100) == max_val
  )
  azimuth::@azimuth.assert_eq(1, 1)(
    azimuth::@azimuth.add(min_val, -100) == min_val
  )
  azimuth::@azimuth.assert_eq(1, 1)(
    azimuth::@azimuth.multiply(max_val, 2) == max_val
  )
  
  // æµ‹è¯•é›¶å€¼è¿ç®—
  azimuth::@azimuth.assert_eq(0, azimuth::@azimuth.multiply(0, 12345))
  azimuth::@azimuth.assert_eq(12345, azimuth::@azimuth.add(0, 12345))
}

test "real_world_application_test" {
  // æµ‹è¯•å®é™…åº”ç”¨ï¼šè®¢å•æ€»ä»·è®¡ç®—
  let item_price = 199
  let quantity = 3
  let discount_rate = 10  // 10%æŠ˜æ‰£
  let tax_rate = 8        // 8%ç¨è´¹
  let shipping = 15       // è¿è´¹
  
  // è®¡ç®—å•†å“æ€»ä»·
  let subtotal = azimuth::@azimuth.multiply(item_price, quantity)
  
  // è®¡ç®—æŠ˜æ‰£é‡‘é¢
  let discount_amount = azimuth::@azimuth.multiply(subtotal, discount_rate) / 100
  
  // è®¡ç®—æŠ˜åä»·æ ¼
  let discounted_price = azimuth::@azimuth.add(subtotal, -discount_amount)
  
  // è®¡ç®—ç¨è´¹
  let tax_amount = azimuth::@azimuth.multiply(discounted_price, tax_rate) / 100
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_total = azimuth::@azimuth.add(
    azimuth::@azimuth.add(discounted_price, tax_amount), 
    shipping
  )
  
  azimuth::@azimuth.assert_eq(636, final_total)  // 597 - 59 + 47 + 15 = 636
}

test "data_conversion_and_formatting" {
  // æµ‹è¯•æ•°æ®è½¬æ¢å’Œæ ¼å¼åŒ–
  // æµ‹è¯•æ•°å­—å­—ç¬¦ä¸²çš„å¤„ç†
  let number_as_string = "2023"
  let greeting_with_number = azimuth::@azimuth.greet(number_as_string)
  azimuth::@azimuth.assert_eq_string("Hello, 2023!", greeting_with_number)
  
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦å­—ç¬¦ä¸²çš„å¤„ç†
  let special_chars = "!@#$%^&*()"
  let greeting_with_special = azimuth::@azimuth.greet(special_chars)
  azimuth::@azimuth.assert_eq_string("Hello, !@#$%^&*()!", greeting_with_special)
  
  // æµ‹è¯•Unicodeå­—ç¬¦çš„å¤„ç†
  let unicode_chars = "ğŸŒŸæµ‹è¯•"
  let greeting_with_unicode = azimuth::@azimuth.greet(unicode_chars)
  azimuth::@azimuth.assert_eq_string("Hello, ğŸŒŸæµ‹è¯•!", greeting_with_unicode)
}