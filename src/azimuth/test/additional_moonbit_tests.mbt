// é¢å¤–çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// å¯¼å…¥ azimuth åŒ…ä»¥ä½¿ç”¨å…¶ä¸­çš„å‡½æ•°
test "advanced_arithmetic_operations" {
  // æµ‹è¯•é«˜çº§ç®—æœ¯è¿ç®—
  // è®¡ç®—å¤åˆ©ï¼šæœ¬é‡‘ Ã— (1 + åˆ©ç‡)^å¹´æ•°
  let principal = 1000
  let rate = 5
  let years = 3
  
  // ç®€åŒ–çš„å¤åˆ©è®¡ç®—
  let growth = azimuth::@azimuth.multiply(principal, azimuth::@azimuth.multiply(rate, years))
  let total = azimuth::@azimuth.add(principal, growth)
  @azimuth.assert_eq(16000, total)  // 1000 + 1000*5*3 = 16000
  
  // è®¡ç®—å¹³æ–¹å’Œï¼šaÂ² + bÂ²
  let a = 3
  let b = 4
  let a_squared = azimuth::@azimuth.multiply(a, a)
  let b_squared = azimuth::@azimuth.multiply(b, b)
  let sum_of_squares = azimuth::@azimuth.add(a_squared, b_squared)
  @azimuth.assert_eq(25, sum_of_squares)  // 3Â² + 4Â² = 9 + 16 = 25
}
test "string_manipulation_advanced" {
  // æµ‹è¯•é«˜çº§å­—ç¬¦ä¸²æ“ä½œ
  // æµ‹è¯•åŒ…å«å„ç§ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  let special_chars = "!@#$%^&*()_+-=[]{}|;':\",./<>?"
  let result1 = azimuth::@azimuth.greet(special_chars)
  @azimuth.assert_eq_string("Hello, !@#$%^&*()_+-=[]{}|;':\",./<>?!", result1)
  
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„å­—ç¬¦ä¸²
  let unicode_chars = "Î±Î²Î³Î´ÎµÎ¶Î·Î¸"
  let result2 = azimuth::@azimuth.greet(unicode_chars)
  @azimuth.assert_eq_string("Hello, Î±Î²Î³Î´ÎµÎ¶Î·Î¸!", result2)
  
  // æµ‹è¯•åŒ…å«è¡¨æƒ…ç¬¦å·çš„å­—ç¬¦ä¸²
  let emoji_string = "ğŸ‰ğŸš€ğŸŒŸğŸ’»"
  let result3 = azimuth::@azimuth.greet(emoji_string)
  @azimuth.assert_eq_string("Hello, ğŸ‰ğŸš€ğŸŒŸğŸ’»!", result3)
}
test "mathematical_series_calculations" {
  // æµ‹è¯•æ•°å­¦åºåˆ—è®¡ç®—
  // è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—å‰å‡ é¡¹çš„å’Œï¼š1 + 1 + 2 + 3 + 5 + 8 = 20
  let fib1 = 1
  let fib2 = 1
  let fib3 = azimuth::@azimuth.add(fib1, fib2)  // 2
  let fib4 = azimuth::@azimuth.add(fib2, fib3)  // 3
  let fib5 = azimuth::@azimuth.add(fib3, fib4)  // 5
  let fib6 = azimuth::@azimuth.add(fib4, fib5)  // 8
  
  let fib_sum = azimuth::@azimuth.add(azimuth::@azimuth.add(azimuth::@azimuth.add(fib1, fib2), azimuth::@azimuth.add(fib3, fib4)), azimuth::@azimuth.add(fib5, fib6))
  @azimuth.assert_eq(20, fib_sum)
  
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—ï¼š2 + 4 + 8 + 16 = 30
  let geo1 = 2
  let geo2 = azimuth::@azimuth.multiply(geo1, 2)  // 4
  let geo3 = azimuth::@azimuth.multiply(geo2, 2)  // 8
  let geo4 = azimuth::@azimuth.multiply(geo3, 2)  // 16
  
  let geo_sum = azimuth::@azimuth.add(azimuth::@azimuth.add(geo1, geo2), azimuth::@azimuth.add(geo3, geo4))
  @azimuth.assert_eq(30, geo_sum)
}
test "business_logic_scenarios" {
  // æµ‹è¯•ä¸šåŠ¡é€»è¾‘åœºæ™¯
  // è®¡ç®—æŠ˜æ‰£ä»·æ ¼ï¼šåŸä»· Ã— (1 - æŠ˜æ‰£ç‡)
  let original_price = 200
  let discount_rate = 20  // 20%
  let discount_amount = azimuth::@azimuth.multiply(original_price, discount_rate) / 100
  let discounted_price = azimuth::@azimuth.add(original_price, -discount_amount)
  @azimuth.assert_eq(160, discounted_price)  // 200 - 200*20% = 200 - 40 = 160
  
  // è®¡ç®—åˆ©æ¶¦ç‡ï¼š(å”®ä»· - æˆæœ¬) / æˆæœ¬ Ã— 100%
  let cost = 100
  let selling_price = 150
  let profit = azimuth::@azimuth.add(selling_price, -cost)
  let profit_rate = azimuth::@azimuth.multiply(profit, 100) / cost
  @azimuth.assert_eq(50, profit_rate)  // (150 - 100) / 100 Ã— 100% = 50%
}
test "geometry_calculations" {
  // æµ‹è¯•å‡ ä½•è®¡ç®—
  // è®¡ç®—æ¢¯å½¢é¢ç§¯ï¼š(ä¸Šåº• + ä¸‹åº•) Ã— é«˜ Ã· 2
  let top_base = 6
  let bottom_base = 10
  let height = 4
  
  let sum_of_bases = azimuth::@azimuth.add(top_base, bottom_base)
  let trapezoid_area = azimuth::@azimuth.multiply(sum_of_bases, height) / 2
  @azimuth.assert_eq(32, trapezoid_area)  // (6 + 10) Ã— 4 Ã· 2 = 32
  
  // è®¡ç®—åœ†æŸ±ä½“ç§¯ï¼šåº•é¢ç§¯ Ã— é«˜ = Ï€ Ã— rÂ² Ã— hï¼ˆç®€åŒ–Ï€ä¸º3ï¼‰
  let radius = 5
  let cylinder_height = 10
  let base_area = azimuth::@azimuth.multiply(3, azimuth::@azimuth.multiply(radius, radius))
  let cylinder_volume = azimuth::@azimuth.multiply(base_area, cylinder_height)
  @azimuth.assert_eq(750, cylinder_volume)  // 3 Ã— 5Â² Ã— 10 = 750
}
test "time_and_date_calculations" {
  // æµ‹è¯•æ—¶é—´å’Œæ—¥æœŸè®¡ç®—
  // è®¡ç®—ä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´çš„åˆ†é’Ÿæ•°
  let start_hour = 9
  let start_minute = 30
  let end_hour = 14
  let end_minute = 45
  
  let start_total_minutes = azimuth::@azimuth.add(azimuth::@azimuth.multiply(start_hour, 60), start_minute)
  let end_total_minutes = azimuth::@azimuth.add(azimuth::@azimuth.multiply(end_hour, 60), end_minute)
  let duration_minutes = azimuth::@azimuth.add(end_total_minutes, -start_total_minutes)
  @azimuth.assert_eq(315, duration_minutes)  // (14Ã—60+45) - (9Ã—60+30) = 885 - 570 = 315
  
  // è®¡ç®—å¤©æ•°ï¼šå°æ—¶æ•° Ã· 24
  let hours = 72
  let days = hours / 24
  @azimuth.assert_eq(3, days)
}
test "error_boundary_testing" {
  // æµ‹è¯•é”™è¯¯è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•è¿ç»­æº¢å‡ºæ“ä½œ
  let overflow1 = azimuth::@azimuth.add(max_val, 1)
  let overflow2 = azimuth::@azimuth.add(overflow1, 1)
  @azimuth.assert_eq(max_val, overflow2)
  
  // æµ‹è¯•è¿ç»­ä¸‹æº¢æ“ä½œ
  let underflow1 = azimuth::@azimuth.add(min_val, -1)
  let underflow2 = azimuth::@azimuth.add(underflow1, -1)
  @azimuth.assert_eq(min_val, underflow2)
  
  // æµ‹è¯•æå€¼ä¹˜æ³•
  let extreme_mult1 = azimuth::@azimuth.multiply(max_val, max_val)
  let extreme_mult2 = azimuth::@azimuth.multiply(min_val, min_val)
  @azimuth.assert_eq(max_val, extreme_mult1)
  @azimuth.assert_eq(max_val, extreme_mult2)  // è´Ÿè´Ÿå¾—æ­£ï¼Œä½†ä¼šæº¢å‡º
}
test "algorithm_implementation" {
  // æµ‹è¯•ç®€å•ç®—æ³•å®ç°
  // è®¡ç®—æœ€å¤§å…¬çº¦æ•°ï¼ˆç®€åŒ–ç‰ˆï¼Œä½¿ç”¨å·²çŸ¥çš„GCDå€¼ï¼‰
  let a = 48
  let b = 18
  let gcd_ab = 6  // GCD(48, 18) = 6
  
  // éªŒè¯æ¬§å‡ é‡Œå¾—ç®—æ³•çš„æ€§è´¨ï¼ša Ã— b = GCD(a, b) Ã— LCM(a, b)
  // å› æ­¤ LCM(a, b) = (a Ã— b) / GCD(a, b)
  let product_ab = azimuth::@azimuth.multiply(a, b)
  let lcm_ab = product_ab / gcd_ab
  @azimuth.assert_eq(144, lcm_ab)  // (48 Ã— 18) / 6 = 864 / 6 = 144
  
  // æµ‹è¯•ç´ æ•°æ€§è´¨ï¼ˆä½¿ç”¨å·²çŸ¥ç´ æ•°ï¼‰
  let prime = 7
  let next_prime = 11
  let prime_sum = azimuth::@azimuth.add(prime, next_prime)
  let prime_product = azimuth::@azimuth.multiply(prime, next_prime)
  @azimuth.assert_eq(18, prime_sum)     // 7 + 11 = 18
  @azimuth.assert_eq(77, prime_product) // 7 Ã— 11 = 77
}
test "statistical_calculations" {
  // æµ‹è¯•ç»Ÿè®¡è®¡ç®—
  // è®¡ç®—ä¸€ç»„æ•°çš„æ–¹å·®ï¼ˆç®€åŒ–ç‰ˆï¼‰
  // æ•°æ®ï¼š10, 20, 30, 40, 50
  let data1 = 10
  let data2 = 20
  let data3 = 30
  let data4 = 40
  let data5 = 50
  
  // è®¡ç®—å¹³å‡å€¼
  let sum = azimuth::@azimuth.add(azimuth::@azimuth.add(azimuth::@azimuth.add(azimuth::@azimuth.add(data1, data2), data3), data4), data5)
  let mean = sum / 5
  @azimuth.assert_eq(30, mean)  // (10+20+30+40+50)/5 = 150/5 = 30
  
  // è®¡ç®—æ–¹å·®ï¼ˆç®€åŒ–ï¼‰ï¼šÎ£(x - mean)Â² / n
  let diff1 = azimuth::@azimuth.add(data1, -mean)  // -20
  let diff2 = azimuth::@azimuth.add(data2, -mean)  // -10
  let diff3 = azimuth::@azimuth.add(data3, -mean)  // 0
  let diff4 = azimuth::@azimuth.add(data4, -mean)  // 10
  let diff5 = azimuth::@azimuth.add(data5, -mean)  // 20
  
  let sq_diff1 = azimuth::@azimuth.multiply(diff1, diff1)  // 400
  let sq_diff2 = azimuth::@azimuth.multiply(diff2, diff2)  // 100
  let sq_diff3 = azimuth::@azimuth.multiply(diff3, diff3)  // 0
  let sq_diff4 = azimuth::@azimuth.multiply(diff4, diff4)  // 100
  let sq_diff5 = azimuth::@azimuth.multiply(diff5, diff5)  // 400
  
  let sum_sq_diffs = azimuth::@azimuth.add(azimuth::@azimuth.add(azimuth::@azimuth.add(azimuth::@azimuth.add(sq_diff1, sq_diff2), sq_diff3), sq_diff4), sq_diff5)
  let variance = sum_sq_diffs / 5
  @azimuth.assert_eq(200, variance)  // (400+100+0+100+400)/5 = 1000/5 = 200
}
test "complex_composite_scenarios" {
  // æµ‹è¯•å¤æ‚å¤åˆåœºæ™¯
  // åœºæ™¯ï¼šè®¡ç®—ä¸€ä¸ªé¡¹ç›®çš„æ€»æˆæœ¬
  let labor_cost_per_hour = 50
  let labor_hours = 160
  let material_cost_per_unit = 25
  let material_units = 100
  let overhead_rate = 20  // 20%
  let profit_margin = 15  // 15%
  
  // è®¡ç®—äººå·¥æˆæœ¬
  let labor_cost = azimuth::@azimuth.multiply(labor_cost_per_hour, labor_hours)
  
  // è®¡ç®—ææ–™æˆæœ¬
  let material_cost = azimuth::@azimuth.multiply(material_cost_per_unit, material_units)
  
  // è®¡ç®—ç›´æ¥æˆæœ¬
  let direct_cost = azimuth::@azimuth.add(labor_cost, material_cost)
  
  // è®¡ç®—ç®¡ç†è´¹ç”¨
  let overhead_cost = azimuth::@azimuth.multiply(direct_cost, overhead_rate) / 100
  
  // è®¡ç®—æ€»æˆæœ¬
  let total_cost = azimuth::@azimuth.add(direct_cost, overhead_cost)
  
  // è®¡ç®—åˆ©æ¶¦
  let profit = azimuth::@azimuth.multiply(total_cost, profit_margin) / 100
  
  // è®¡ç®—é¡¹ç›®ä»·æ ¼
  let project_price = azimuth::@azimuth.add(total_cost, profit)
  
  // éªŒè¯è®¡ç®—ç»“æœ
  @azimuth.assert_eq(8000, labor_cost)      // 50 Ã— 160 = 8000
  @azimuth.assert_eq(2500, material_cost)   // 25 Ã— 100 = 2500
  @azimuth.assert_eq(10500, direct_cost)    // 8000 + 2500 = 10500
  @azimuth.assert_eq(2100, overhead_cost)   // 10500 Ã— 20% = 2100
  @azimuth.assert_eq(12600, total_cost)     // 10500 + 2100 = 12600
  @azimuth.assert_eq(1890, profit)          // 12600 Ã— 15% = 1890
  @azimuth.assert_eq(14490, project_price)  // 12600 + 1890 = 14490
}