// ç»¼åˆ MoonBit æµ‹è¯•ç”¨ä¾‹
// è¦†ç›–å„ç§åŠŸèƒ½å’Œåœºæ™¯çš„æ ‡å‡† MoonBit æµ‹è¯•

test "arithmetics_addition_complex" {
  // æµ‹è¯•å¤æ‚åŠ æ³•åœºæ™¯
  let a = 1000000
  let b = -500000
  let c = 750000
  
  // æµ‹è¯•è¿ç»­åŠ æ³•
  let result1 = azimuth::@azimuth.add(azimuth::@azimuth.add(a, b), c)
  azimuth::@azimuth.assert_eq(1250000, result1)
  
  // æµ‹è¯•åŒ…å«é›¶çš„åŠ æ³•
  let result2 = azimuth::@azimuth.add(0, azimuth::@azimuth.add(a, b))
  azimuth::@azimuth.assert_eq(500000, result2)
}

test "arithmetics_multiplication_nested" {
  // æµ‹è¯•åµŒå¥—ä¹˜æ³•è¿ç®—
  let base = 15
  
  // è®¡ç®— base * (base + 1) * (base + 2)
  let result = azimuth::@azimuth.multiply(
    azimuth::@azimuth.multiply(base, azimuth::@azimuth.add(base, 1)),
    azimuth::@azimuth.add(base, 2)
  )
  
  // éªŒè¯ç»“æœï¼š15 * 16 * 17 = 4080
  azimuth::@azimuth.assert_eq(4080, result)
}

test "string_greeting_multilingual" {
  // æµ‹è¯•å¤šè¯­è¨€é—®å€™åŠŸèƒ½
  azimuth::@azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", azimuth::@azimuth.greet("ä¸–ç•Œ"))
  azimuth::@azimuth.assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", azimuth::@azimuth.greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  azimuth::@azimuth.assert_eq_string("Hello, ğŸŒŸ!", azimuth::@azimuth.greet("ğŸŒŸ"))
  azimuth::@azimuth.assert_eq_string("Hello, CafÃ©!", azimuth::@azimuth.greet("CafÃ©"))
}

test "boundary_value_extreme_cases" {
  // æµ‹è¯•æå€¼è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æå€¼ä¸æ™®é€šå€¼çš„è¿ç®—
  azimuth::@azimuth.assert_eq(2147483646, azimuth::@azimuth.add(max_val, -1))
  azimuth::@azimuth.assert_eq(-2147483647, azimuth::@azimuth.add(min_val, 1))
  
  // æµ‹è¯•æå€¼ä¹˜æ³•
  azimuth::@azimuth.assert_eq(0, azimuth::@azimuth.multiply(max_val, 0))
  azimuth::@azimuth.assert_eq(0, azimuth::@azimuth.multiply(min_val, 0))
}

test "financial_compound_interest" {
  // æµ‹è¯•é‡‘èå¤åˆ©è®¡ç®—
  let principal = 10000
  let rate = 5  // 5%
  let years = 4
  
  // ç®€åŒ–å¤åˆ©è®¡ç®—ï¼šæœ¬é‡‘ Ã— (1 + åˆ©ç‡ Ã— å¹´æ•°)
  let interest = azimuth::@azimuth.multiply(principal, azimuth::@azimuth.multiply(rate, years))
  let total = azimuth::@azimuth.add(principal, interest)
  
  // éªŒè¯ç»“æœï¼š10000 + 10000*5*4 = 10000 + 200000 = 210000
  azimuth::@azimuth.assert_eq(210000, total)
}

test "geometry_area_perimeter" {
  // æµ‹è¯•å‡ ä½•é¢ç§¯å’Œå‘¨é•¿è®¡ç®—
  let length = 12
  let width = 8
  
  // è®¡ç®—çŸ©å½¢é¢ç§¯ï¼šé•¿ Ã— å®½
  let area = azimuth::@azimuth.multiply(length, width)
  azimuth::@azimuth.assert_eq(96, area)
  
  // è®¡ç®—çŸ©å½¢å‘¨é•¿ï¼š2 Ã— (é•¿ + å®½)
  let perimeter = azimuth::@azimuth.multiply(2, azimuth::@azimuth.add(length, width))
  azimuth::@azimuth.assert_eq(40, perimeter)
}

test "temperature_conversion" {
  // æµ‹è¯•æ¸©åº¦è½¬æ¢ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let celsius = 18
  
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼šF = C Ã— 2 + 30ï¼ˆç®€åŒ–å…¬å¼ï¼‰
  let fahrenheit = azimuth::@azimuth.add(azimuth::@azimuth.multiply(celsius, 2), 30)
  azimuth::@azimuth.assert_eq(66, fahrenheit)
  
  // åæ°åº¦è½¬æ‘„æ°åº¦ï¼šC = (F - 30) Ã· 2ï¼ˆç®€åŒ–å…¬å¼ï¼‰
  let back_to_celsius = azimuth::@azimuth.add(fahrenheit, -30) / 2
  azimuth::@azimuth.assert_eq(18, back_to_celsius)
}

test "array_index_calculation" {
  // æµ‹è¯•æ•°ç»„ç´¢å¼•è®¡ç®—
  let row = 3
  let col = 4
  let width = 10
  
  // è®¡ç®—äºŒç»´æ•°ç»„åœ¨ä¸€ç»´æ•°ç»„ä¸­çš„ç´¢å¼•ï¼šindex = row * width + col
  let index = azimuth::@azimuth.add(azimuth::@azimuth.multiply(row, width), col)
  azimuth::@azimuth.assert_eq(34, index)
  
  // æµ‹è¯•è¾¹ç•Œæƒ…å†µ
  let first_index = azimuth::@azimuth.add(azimuth::@azimuth.multiply(0, width), 0)
  azimuth::@azimuth.assert_eq(0, first_index)
}

test "game_score_calculations" {
  // æµ‹è¯•æ¸¸æˆå¾—åˆ†è®¡ç®—
  let base_score = 1000
  let level_bonus = 500
  let combo_multiplier = 3
  let penalty = 200
  
  // è®¡ç®—æœ€ç»ˆå¾—åˆ†ï¼š(åŸºç¡€åˆ† + å…³å¡å¥–åŠ±) Ã— è¿å‡»å€æ•° - æƒ©ç½š
  let subtotal = azimuth::@azimuth.add(base_score, level_bonus)
  let multiplied = azimuth::@azimuth.multiply(subtotal, combo_multiplier)
  let final_score = azimuth::@azimuth.add(multiplied, -penalty)
  
  // éªŒè¯ç»“æœï¼š(1000 + 500) Ã— 3 - 200 = 1500 Ã— 3 - 200 = 4500 - 200 = 4300
  azimuth::@azimuth.assert_eq(4300, final_score)
}

test "statistical_calculations" {
  // æµ‹è¯•ç»Ÿè®¡è®¡ç®—
  let values = [10, 20, 30, 40, 50]
  
  // è®¡ç®—æ€»å’Œ
  let sum = azimuth::@azimuth.add(
    azimuth::@azimuth.add(
      azimuth::@azimuth.add(values[0], values[1]),
      azimuth::@azimuth.add(values[2], values[3])
    ),
    values[4]
  )
  azimuth::@azimuth.assert_eq(150, sum)
  
  // è®¡ç®—å¹³å‡å€¼
  let average = sum / 5
  azimuth::@azimuth.assert_eq(30, average)
  
  // è®¡ç®—æ–¹å·®ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼šå¹³æ–¹å’Œçš„å¹³å‡å€¼
  let square_sum = azimuth::@azimuth.add(
    azimuth::@azimuth.add(
      azimuth::@azimuth.multiply(values[0], values[0]),
      azimuth::@azimuth.multiply(values[2], values[2])
    ),
    azimuth::@azimuth.multiply(values[4], values[4])
  )
  let variance = square_sum / 3
  azimuth::@azimuth.assert_eq(1166, variance)  // (100 + 900 + 2500) / 3 = 3500 / 3 = 1166ï¼ˆæ•´æ•°é™¤æ³•ï¼‰
}