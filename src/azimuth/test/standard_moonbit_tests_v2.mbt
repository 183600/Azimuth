// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹é›† v2
// æµ‹è¯• azimuth é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½

test "basic_arithmetic_operations" {
  // æµ‹è¯•åŸºæœ¬ç®—æœ¯è¿ç®—
  @azimuth.assert_eq(15, @azimuth.add(7, 8))
  @azimuth.assert_eq(0, @azimuth.add(-5, 5))
  @azimuth.assert_eq(42, @azimuth.multiply(6, 7))
  @azimuth.assert_eq(-30, @azimuth.multiply(-5, 6))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 12345))
}

test "string_greeting_functionality" {
  // æµ‹è¯•å­—ç¬¦ä¸²é—®å€™åŠŸèƒ½
  @azimuth.assert_eq_string("Hello, MoonBit!", @azimuth.greet("MoonBit"))
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, User123!", @azimuth.greet("User123"))
}

test "mathematical_commutativity" {
  // æµ‹è¯•æ•°å­¦äº¤æ¢å¾‹
  let a = 17
  let b = 23
  
  // åŠ æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.multiply(a, b), @azimuth.multiply(b, a))
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  let c = -12
  let d = 8
  @azimuth.assert_eq(@azimuth.add(c, d), @azimuth.add(d, c))
  @azimuth.assert_eq(@azimuth.multiply(c, d), @azimuth.multiply(d, c))
}

test "boundary_value_handling" {
  // æµ‹è¯•è¾¹ç•Œå€¼å¤„ç†
  let max_val = 2147483647
  let min_val = -2147483648
  
  // è¾¹ç•Œå€¼åŠ æ³•
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -1))
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
  
  // è¾¹ç•Œå€¼ä¹˜æ³•
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
}

test "practical_calculator_scenarios" {
  // æµ‹è¯•å®é™…è®¡ç®—å™¨åœºæ™¯
  // åœºæ™¯1ï¼šè®¡ç®—æŠ˜æ‰£ä»·æ ¼
  let original_price = 200
  let discount_percentage = 15
  let discount_amount = @azimuth.multiply(original_price, discount_percentage) / 100
  let final_price = @azimuth.add(original_price, -discount_amount)
  @azimuth.assert_eq(170, final_price)
  
  // åœºæ™¯2ï¼šè®¡ç®—çŸ©å½¢é¢ç§¯å’Œå‘¨é•¿
  let length = 10
  let width = 6
  let area = @azimuth.multiply(length, width)
  let perimeter = @azimuth.add(@azimuth.multiply(2, length), @azimuth.multiply(2, width))
  @azimuth.assert_eq(60, area)
  @azimuth.assert_eq(32, perimeter)
}

test "complex_expression_evaluation" {
  // æµ‹è¯•å¤æ‚è¡¨è¾¾å¼è¯„ä¼°
  // è®¡ç®—ï¼š(a + b) * c - d
  let a = 8
  let b = 12
  let c = 5
  let d = 20
  
  let sum_ab = @azimuth.add(a, b)  // 20
  let product = @azimuth.multiply(sum_ab, c)  // 100
  let result = @azimuth.add(product, -d)  // 80
  
  @azimuth.assert_eq(80, result)
  
  // è®¡ç®—ï¼ša * (b + c) + d * e
  let e = 3
  let sum_bc = @azimuth.add(b, c)  // 17
  let term1 = @azimuth.multiply(a, sum_bc)  // 136
  let term2 = @azimuth.multiply(d, e)  // 60
  let result2 = @azimuth.add(term1, term2)  // 196
  
  @azimuth.assert_eq(196, result2)
}

test "error_resilience_and_edge_cases" {
  // æµ‹è¯•é”™è¯¯æ¢å¤å’Œè¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 100))
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 2))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -100))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 2))
  
  // æµ‹è¯•ç‰¹æ®Šå€¼ç»„åˆ
  @azimuth.assert_eq(0, @azimuth.multiply(0, max_val))
  @azimuth.assert_eq(0, @azimuth.multiply(0, min_val))
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, 0))
}

test "sequence_and_pattern_operations" {
  // æµ‹è¯•åºåˆ—å’Œæ¨¡å¼æ“ä½œ
  // è®¡ç®—å‰nä¸ªè‡ªç„¶æ•°çš„å’Œï¼šn * (n + 1) / 2
  let n = 10
  let sum_n = @azimuth.multiply(n, @azimuth.add(n, 1)) / 2
  @azimuth.assert_eq(55, sum_n)
  
  // è®¡ç®—ç­‰å·®æ•°åˆ—çš„å’Œï¼šn * (é¦–é¡¹ + æœ«é¡¹) / 2
  let first_term = 3
  let last_term = 15
  let terms_count = 7
  let arithmetic_sum = @azimuth.multiply(terms_count, @azimuth.add(first_term, last_term)) / 2
  @azimuth.assert_eq(63, arithmetic_sum)
  
  // è®¡ç®—å¹³æ–¹å’Œï¼š1Â² + 2Â² + 3Â² + 4Â² + 5Â²
  let square_sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.multiply(1, 1), @azimuth.multiply(2, 2)), @azimuth.multiply(3, 3)), @azimuth.multiply(4, 4)), @azimuth.multiply(5, 5))
  @azimuth.assert_eq(55, square_sum)
}

test "real_world_application_scenarios" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯
  // åœºæ™¯1ï¼šè®¡ç®—è®¢å•æ€»ä»·
  let item_price = 99
  let quantity = 4
  let shipping = 12
  let tax_rate = 8
  
  let subtotal = @azimuth.multiply(item_price, quantity)  // 396
  let tax = @azimuth.multiply(subtotal, tax_rate) / 100  // 31
  let total = @azimuth.add(@azimuth.add(subtotal, tax), shipping)  // 439
  
  @azimuth.assert_eq(439, total)
  
  // åœºæ™¯2ï¼šè®¡ç®—å¹³å‡åˆ†
  let score1 = 85
  let score2 = 92
  let score3 = 78
  let score4 = 88
  let score5 = 95
  
  let sum_scores = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(score1, score2), score3), score4), score5)
  let average_score = sum_scores / 5
  
  @azimuth.assert_eq(87, average_score)
}

test "unicode_and_special_character_handling" {
  // æµ‹è¯•Unicodeå’Œç‰¹æ®Šå­—ç¬¦å¤„ç†
  // æµ‹è¯•å„ç§Unicodeå­—ç¬¦
  @azimuth.assert_eq_string("Hello, ğŸŒŸ!", @azimuth.greet("ğŸŒŸ"))
  @azimuth.assert_eq_string("Hello, ä¸­æ–‡!", @azimuth.greet("ä¸­æ–‡"))
  @azimuth.assert_eq_string("Hello, Ã‘oÃ«l!", @azimuth.greet("Ã‘oÃ«l"))
  @azimuth.assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", @azimuth.greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  
  // æµ‹è¯•ç‰¹æ®Šç¬¦å·å’Œè¡¨æƒ…ç¬¦å·
  @azimuth.assert_eq_string("Hello, ğŸš€ğŸŒ™!", @azimuth.greet("ğŸš€ğŸŒ™"))
  @azimuth.assert_eq_string("Hello, @#%&*!", @azimuth.greet("@#%&*"))
  @azimuth.assert_eq_string("Hello, [Test]!", @azimuth.greet("[Test]"))
  
  // æµ‹è¯•æ··åˆå­—ç¬¦é›†
  @azimuth.assert_eq_string("Hello, Helloä¸–ç•Œ123!", @azimuth.greet("Helloä¸–ç•Œ123"))
}