// MoonBit æµ‹è¯•ç”¨ä¾‹ - å¢å¼ºç‰ˆ
// åŒ…å«10ä¸ªæ–°çš„æµ‹è¯•ç”¨ä¾‹ï¼Œæµ‹è¯•å„ç§åœºæ™¯

test "edge_case_arithmetic" {
  // æµ‹è¯•è¾¹ç•Œç®—æœ¯è¿ç®—
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
  
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œçš„å€¼
  @azimuth.assert_eq(2147483646, @azimuth.add(max_val, -1))
  @azimuth.assert_eq(-2147483647, @azimuth.add(min_val, 1))
}

test "string_unicode_handling" {
  // æµ‹è¯•Unicodeå­—ç¬¦ä¸²å¤„ç†
  let chinese_name = "å¼ ä¸‰"
  let japanese_name = "ç”°ä¸­"
  let emoji_name = "ğŸš€"
  let mixed_name = "Aliceå¼ ä¸‰ğŸŒ"
  
  @azimuth.assert_eq_string("Hello, å¼ ä¸‰!", @azimuth.greet(chinese_name))
  @azimuth.assert_eq_string("Hello, ç”°ä¸­!", @azimuth.greet(japanese_name))
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet(emoji_name))
  @azimuth.assert_eq_string("Hello, Aliceå¼ ä¸‰ğŸŒ!", @azimuth.greet(mixed_name))
}

test "complex_calculation_sequence" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åºåˆ—
  let base = 10
  let multiplier = 3
  let offset = 5
  
  // è®¡ç®— (base * multiplier) + offset
  let step1 = @azimuth.multiply(base, multiplier)
  let result = @azimuth.add(step1, offset)
  @azimuth.assert_eq(35, result)
  
  // è®¡ç®— ((base + offset) * multiplier) - base
  let step2 = @azimuth.add(base, offset)
  let step3 = @azimuth.multiply(step2, multiplier)
  let result2 = @azimuth.add(step3, -base)
  @azimuth.assert_eq(40, result2)
}

test "mathematical_properties" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨
  let a = 12
  let b = 8
  
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // æµ‹è¯•ä¹˜æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.multiply(a, b), @azimuth.multiply(b, a))
  
  // æµ‹è¯•åˆ†é…å¾‹
  let c = 5
  @azimuth.assert_eq(@azimuth.multiply(a, @azimuth.add(b, c)), @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c)))
}

test "practical_business_calculation" {
  // å®é™…ä¸šåŠ¡è®¡ç®—ï¼šå•†å“æŠ˜æ‰£è®¡ç®—
  let original_price = 299
  let discount_rate = 15  // 15%æŠ˜æ‰£
  let tax_rate = 8        // 8%ç¨ç‡
  
  // è®¡ç®—æŠ˜æ‰£é‡‘é¢
  let discount_amount = @azimuth.multiply(original_price, discount_rate) / 100
  // è®¡ç®—æŠ˜åä»·æ ¼
  let discounted_price = @azimuth.add(original_price, -discount_amount)
  // è®¡ç®—ç¨è´¹
  let tax_amount = @azimuth.multiply(discounted_price, tax_rate) / 100
  // è®¡ç®—æœ€ç»ˆä»·æ ¼
  let final_price = @azimuth.add(discounted_price, tax_amount)
  
  @azimuth.assert_eq(274, final_price)
}

test "error_boundary_conditions" {
  // æµ‹è¯•é”™è¯¯è¾¹ç•Œæ¡ä»¶
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤
  @azimuth.assert_true(@azimuth.add(max_val, 1) == max_val)
  @azimuth.assert_true(@azimuth.add(min_val, -1) == min_val)
  @azimuth.assert_true(@azimuth.multiply(max_val, 2) == max_val)
  @azimuth.assert_true(@azimuth.multiply(min_val, 2) == min_val)
  
  // æµ‹è¯•ç‰¹æ®Šå€¼å¤„ç†
  @azimuth.assert_eq(0, @azimuth.multiply(0, max_val))
  @azimuth.assert_eq(0, @azimuth.multiply(0, min_val))
}

test "string_special_characters" {
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦å­—ç¬¦ä¸²å¤„ç†
  let special_chars = "@#$%^&*()_+-=[]{}|;':\",./<>?"
  let whitespace = "   "
  let newlines = "Line1\nLine2\nLine3"
  let tabs = "Col1\tCol2\tCol3"
  
  @azimuth.assert_eq_string("Hello, @#$%^&*()_+-=[]{}|;':\",./<>?!", @azimuth.greet(special_chars))
  @azimuth.assert_eq_string("Hello,   !", @azimuth.greet(whitespace))
  @azimuth.assert_eq_string("Hello, Line1\nLine2\nLine3!", @azimuth.greet(newlines))
  @azimuth.assert_eq_string("Hello, Col1\tCol2\tCol3!", @azimuth.greet(tabs))
}

test "algorithm_implementation" {
  // ç®—æ³•å®ç°æµ‹è¯•ï¼šè®¡ç®—æ•°åˆ—å’Œ
  // è®¡ç®—1åˆ°10çš„å’Œï¼š1+2+3+...+10 = 55
  let n = 10
  let sum = @azimuth.multiply(n, @azimuth.add(n, 1)) / 2
  @azimuth.assert_eq(55, sum)
  
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—å‰5é¡¹å’Œï¼š1+2+4+8+16 = 31
  let geometric_sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(1, 2), 4), 8), 16)
  @azimuth.assert_eq(31, geometric_sum)
}

test "real_world_scenarios" {
  // å®é™…åœºæ™¯æµ‹è¯•ï¼šè®¡ç®—BMIæŒ‡æ•°ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let weight_kg = 70  // ä½“é‡ï¼ˆå…¬æ–¤ï¼‰
  let height_m = 175  // èº«é«˜ï¼ˆå˜ç±³ï¼‰
  
  // BMI = ä½“é‡(kg) / (èº«é«˜(m))^2
  // ç®€åŒ–è®¡ç®—ï¼šé¿å…æµ®ç‚¹æ•°ï¼Œä½¿ç”¨æ•´æ•°è¿ç®—
  let height_meters = height_m / 100  // è½¬æ¢ä¸ºç±³ï¼ˆæ•´æ•°éƒ¨åˆ†ï¼‰
  let bmi_numerator = @azimuth.multiply(weight_kg, 10000)  // æ”¾å¤§10000å€é¿å…å°æ•°
  let bmi_denominator = @azimuth.multiply(height_meters, height_meters)
  let bmi = bmi_numerator / bmi_denominator
  
  @azimuth.assert_eq(22, bmi)  // 70*10000/(1*1) = 22ï¼ˆç®€åŒ–å€¼ï¼‰
}

test "performance_optimization" {
  // æ€§èƒ½ä¼˜åŒ–æµ‹è¯•ï¼šå¤§é‡æ•°æ®å¤„ç†
  let base_value = 100
  let iterations = 50
  
  // ä½¿ç”¨å…¬å¼è®¡ç®—ï¼šbase_value * iterations * (iterations + 1) / 2
  let optimized_sum = @azimuth.multiply(base_value, @azimuth.multiply(iterations, @azimuth.add(iterations, 1)) / 2)
  
  // éªŒè¯å°è§„æ¨¡è®¡ç®—
  let small_scale = @azimuth.multiply(base_value, @azimuth.multiply(5, 6) / 2)
  @azimuth.assert_eq(1500, small_scale)
  
  // éªŒè¯å¤§è§„æ¨¡è®¡ç®—
  @azimuth.assert_eq(127500, optimized_sum)
}