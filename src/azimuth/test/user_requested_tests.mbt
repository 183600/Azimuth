// æ–°å¢ MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åŒ…çš„æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

test "add_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  let a = 12345
  let b = 67890
  
  assert_eq(add(a, b), add(b, a))
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  let c = -12345
  let d = 67890
  
  assert_eq(add(c, d), add(d, c))
}

test "multiply_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ï¼ša Ã— (b + c) = a Ã— b + a Ã— c
  let a = 7
  let b = 12
  let c = 8
  
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  
  assert_eq(left_side, right_side)
}

test "greet_multilingual_support" {
  // æµ‹è¯•å¤šè¯­è¨€æ”¯æŒ
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, Mundo!", greet("Mundo"))
  assert_eq_string("Hello, le Monde!", greet("le Monde"))
  assert_eq_string("Hello, ä¸–ç•ŒğŸŒ!", greet("ä¸–ç•ŒğŸŒ"))
}

test "calculation_sequence" {
  // æµ‹è¯•è®¡ç®—åºåˆ—ï¼š(a + b) Ã— (c + d) Ã· e
  let a = 10
  let b = 15
  let c = 20
  let d = 25
  let e = 5
  
  let sum1 = add(a, b)  // 25
  let sum2 = add(c, d)  // 45
  let product = multiply(sum1, sum2)  // 1125
  let result = product / e  // 225
  
  assert_eq(225, result)
}

test "boundary_value_combinations" {
  // æµ‹è¯•è¾¹ç•Œå€¼ç»„åˆ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å„ç§è¿ç®—
  assert_eq(-1, add(max_val, min_val))
  assert_eq(min_val, multiply(min_val, -1))
  assert_eq(max_val, add(max_val, 0))
  assert_eq(0, multiply(max_val, 0))
}

test "string_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²è¾¹ç•Œæƒ…å†µ
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, \"John\"!", greet("\"John\""))
  assert_eq_string("Hello, O'Reilly!", greet("O'Reilly"))
  assert_eq_string("Hello, \\backslash!", greet("\\backslash"))
  
  // æµ‹è¯•åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello,  leading space!", greet(" leading space"))
  assert_eq_string("Hello, trailing space !", greet("trailing space "))
}

test "financial_calculation" {
  // æµ‹è¯•é‡‘èè®¡ç®—åœºæ™¯
  // å¤åˆ©è®¡ç®—ï¼šæœ¬é‡‘ Ã— (1 + åˆ©ç‡ Ã— å¹´æ•°)
  let principal = 10000
  let rate = 5  // 5%
  let years = 3
  
  let interest = multiply(principal, multiply(rate, years))
  let total = add(principal, interest)
  
  assert_eq(160000, total)  // 10000 + 10000Ã—5Ã—3 = 160000
}

test "temperature_conversion" {
  // æµ‹è¯•æ¸©åº¦è½¬æ¢ï¼šåæ°åº¦ = æ‘„æ°åº¦ Ã— 2 + 30ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let celsius = 25
  let fahrenheit = add(multiply(celsius, 2), 30)
  
  assert_eq(80, fahrenheit)  // 25 Ã— 2 + 30 = 80
  
  // æµ‹è¯•è´Ÿæ¸©åº¦
  let negative_celsius = -10
  let negative_fahrenheit = add(multiply(negative_celsius, 2), 30)
  
  assert_eq(10, negative_fahrenheit)  // -10 Ã— 2 + 30 = 10
}

test "geometric_calculations" {
  // æµ‹è¯•å‡ ä½•è®¡ç®—
  let radius = 7
  
  // åœ†å‘¨é•¿ï¼ˆç®€åŒ–ï¼‰ï¼š2 Ã— Ï€ Ã— r â‰ˆ 2 Ã— 3 Ã— r
  let circumference = multiply(multiply(2, 3), radius)
  assert_eq(42, circumference)
  
  // åœ†é¢ç§¯ï¼ˆç®€åŒ–ï¼‰ï¼šÏ€ Ã— rÂ² â‰ˆ 3 Ã— rÂ²
  let area = multiply(3, multiply(radius, radius))
  assert_eq(147, area)
}

test "error_handling_verification" {
  // æµ‹è¯•é”™è¯¯å¤„ç†éªŒè¯
  let max_val = 2147483647
  let min_val = -2147483648
  
  // éªŒè¯æº¢å‡ºä¿æŠ¤
  assert_true(add(max_val, 1) == max_val)
  assert_true(add(min_val, -1) == min_val)
  assert_true(multiply(max_val, 2) == max_val)
  assert_true(multiply(min_val, -1) == min_val)
  
  // éªŒè¯æ­£å¸¸è®¡ç®—
  assert_true(add(100, 200) == 300)
  assert_true(multiply(15, 4) == 60)
}