// æ–°å¢çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åŒ…ä¸­çš„å‡½æ•°

test "add_edge_cases" {
  // æµ‹è¯•åŠ æ³•çš„è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸æœ€å°å€¼ç›¸åŠ 
  assert_eq(-1, azimuth::add(max_val, min_val))
  
  // æµ‹è¯•å¤§æ•°ç›¸åŠ 
  assert_eq(2000000000, azimuth::add(1000000000, 1000000000))
  assert_eq(-2000000000, azimuth::add(-1000000000, -1000000000))
  
  // æµ‹è¯•è¿ç»­ç›¸åŠ 
  let sum1 = azimuth::add(1, 2)
  let sum2 = azimuth::add(3, 4)
  let sum3 = azimuth::add(sum1, sum2)
  assert_eq(15, azimuth::add(sum3, 5))
}

test "multiply_edge_cases" {
  // æµ‹è¯•ä¹˜æ³•çš„è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•å¤§æ•°ç›¸ä¹˜
  assert_eq(1000000, azimuth::multiply(1000, 1000))
  assert_eq(-1000000, azimuth::multiply(-1000, 1000))
  
  // æµ‹è¯•è¿ç»­ç›¸ä¹˜
  assert_eq(24, azimuth::multiply(azimuth::multiply(2, 3), 4))
  
  // æµ‹è¯•æœ€å°å€¼ä¸-1ç›¸ä¹˜
  assert_eq(min_val, azimuth::multiply(min_val, -1))
}

test "greet_variations" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„å„ç§æƒ…å†µ
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²
  assert_eq_string("Hello, !", azimuth::greet(""))
  
  // æµ‹è¯•åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, John Doe!", azimuth::greet("John Doe"))
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, @#$%!", azimuth::greet("@#$%"))
  
  // æµ‹è¯•Unicodeå­—ç¬¦
  assert_eq_string("Hello, ğŸŒ!", azimuth::greet("ğŸŒ"))
  assert_eq_string("Hello, æµ‹è¯•!", azimuth::greet("æµ‹è¯•"))
}

test "complex_calculations" {
  // æµ‹è¯•å¤åˆè®¡ç®—
  // è®¡ç®— (a + b) * c
  let a = 10
  let b = 20
  let c = 3
  
  let sum = azimuth::add(a, b)
  let result = azimuth::multiply(sum, c)
  assert_eq(90, result)  // (10 + 20) * 3 = 90
  
  // è®¡ç®— a * b + c * d
  let d = 4
  let product1 = azimuth::multiply(a, b)
  let product2 = azimuth::multiply(c, d)
  let result2 = azimuth::add(product1, product2)
  assert_eq(212, result2)  // 10 * 20 + 3 * 4 = 200 + 12 = 212
}

test "mathematical_series" {
  // æµ‹è¯•æ•°å­¦åºåˆ—è®¡ç®—
  // è®¡ç®—ç­‰å·®æ•°åˆ—å‰5é¡¹çš„å’Œï¼š1 + 3 + 5 + 7 + 9 = 25
  let sum1 = azimuth::add(azimuth::add(1, 3), azimuth::add(5, 7))
  let total1 = azimuth::add(sum1, 9)
  assert_eq(25, total1)
  
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—å‰4é¡¹çš„å’Œï¼š2 + 4 + 8 + 16 = 30
  let term2 = azimuth::multiply(2, 2)
  let term3 = azimuth::multiply(term2, 2)
  let term4 = azimuth::multiply(term3, 2)
  let sum2 = azimuth::add(azimuth::add(2, term2), azimuth::add(term3, term4))
  assert_eq(30, sum2)
}

test "real_world_scenarios" {
  // æµ‹è¯•çœŸå®ä¸–ç•Œåœºæ™¯
  // è´­ç‰©è½¦è®¡ç®—ï¼šå•†å“ä»·æ ¼ * æ•°é‡ + è¿è´¹
  let item_price = 199
  let quantity = 3
  let shipping = 15
  
  let subtotal = azimuth::multiply(item_price, quantity)
  let total = azimuth::add(subtotal, shipping)
  assert_eq(612, total)  // 199 * 3 + 15 = 597 + 15 = 612
  
  // æ¸©åº¦è½¬æ¢ï¼šæ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let celsius = 25
  let fahrenheit = azimuth::add(azimuth::multiply(celsius, 2), 30)
  assert_eq(80, fahrenheit)  // 25 * 2 + 30 = 80
}

test "performance_oriented" {
  // æµ‹è¯•æ€§èƒ½ç›¸å…³çš„è®¡ç®—
  // æ‰¹é‡è®¡ç®—ï¼š0 + 1 + 2 + ... + 9 = 45
  let sum1 = azimuth::add(0, 1)
  let sum2 = azimuth::add(sum1, 2)
  let sum3 = azimuth::add(sum2, 3)
  let sum4 = azimuth::add(sum3, 4)
  let sum5 = azimuth::add(sum4, 5)
  let sum6 = azimuth::add(sum5, 6)
  let sum7 = azimuth::add(sum6, 7)
  let sum8 = azimuth::add(sum7, 8)
  let sum9 = azimuth::add(sum8, 9)
  assert_eq(45, sum9)
  
  // é˜¶ä¹˜è®¡ç®—ï¼š5! = 120
  let factorial = azimuth::multiply(5, azimuth::multiply(4, azimuth::multiply(3, azimuth::multiply(2, 1))))
  assert_eq(120, factorial)
}

test "error_handling" {
  // æµ‹è¯•é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // ç¡®ä¿æº¢å‡ºè¢«æ­£ç¡®å¤„ç†
  assert_eq(max_val, azimuth::add(max_val, 1))
  assert_eq(max_val, azimuth::add(max_val, 100))
  assert_eq(min_val, azimuth::add(min_val, -1))
  assert_eq(min_val, azimuth::add(min_val, -100))
  
  // æµ‹è¯•ä¹˜æ³•æº¢å‡º
  assert_eq(max_val, azimuth::multiply(46341, 46341))
  assert_eq(min_val, azimuth::multiply(-46341, 46341))
}

test "string_operations" {
  // æµ‹è¯•å­—ç¬¦ä¸²æ“ä½œ
  // æµ‹è¯•ä¸åŒé•¿åº¦çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, A!", azimuth::greet("A"))
  assert_eq_string("Hello, ABC!", azimuth::greet("ABC"))
  assert_eq_string("Hello, ABCDEFGHIJKLMNOPQRSTUVWXYZ!", azimuth::greet("ABCDEFGHIJKLMNOPQRSTUVWXYZ"))
  
  // æµ‹è¯•åŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, 123!", azimuth::greet("123"))
  assert_eq_string("Hello, Test123!", azimuth::greet("Test123"))
  
  // æµ‹è¯•åŒ…å«ç¬¦å·çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, test@example.com!", azimuth::greet("test@example.com"))
  assert_eq_string("Hello, user_2023!", azimuth::greet("user_2023"))
}