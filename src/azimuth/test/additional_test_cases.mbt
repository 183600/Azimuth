// é¢å¤–çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•

test "add_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  let a = 12345
  let b = 67890
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  let c = -12345
  let d = 67890
  @azimuth.assert_eq(@azimuth.add(c, d), @azimuth.add(d, c))
  
  // æµ‹è¯•ä¸¤ä¸ªè´Ÿæ•°
  let e = -12345
  let f = -67890
  @azimuth.assert_eq(@azimuth.add(e, f), @azimuth.add(f, e))
}

test "multiply_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ï¼ša Ã— (b + c) = a Ã— b + a Ã— c
  let a = 7
  let b = 15
  let c = 23
  
  let left_side = @azimuth.multiply(a, @azimuth.add(b, c))
  let right_side = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
  @azimuth.assert_eq(left_side, right_side)
  
  // æµ‹è¯•åŒ…å«è´Ÿæ•°çš„æƒ…å†µ
  let x = -5
  let y = 12
  let z = -8
  
  let left_side2 = @azimuth.multiply(x, @azimuth.add(y, z))
  let right_side2 = @azimuth.add(@azimuth.multiply(x, y), @azimuth.multiply(x, z))
  @azimuth.assert_eq(left_side2, right_side2)
}

test "greet_multilingual_support" {
  // æµ‹è¯•å¤šè¯­è¨€æ”¯æŒçš„é—®å€™åŠŸèƒ½
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ğŸŒ!", @azimuth.greet("ğŸŒ"))
  @azimuth.assert_eq_string("Hello, cafÃ©!", @azimuth.greet("cafÃ©"))
  @azimuth.assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", @azimuth.greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  @azimuth.assert_eq_string("Hello, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!", @azimuth.greet("Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"))
}

test "complex_financial_calculation" {
  // å¤æ‚é‡‘èè®¡ç®—ï¼šè´·æ¬¾åˆ†æœŸè®¡ç®—
  let principal = 100000  // æœ¬é‡‘
  let annual_rate = 6     // å¹´åˆ©ç‡6%
  let years = 3           // 3å¹´
  
  // ç®€åŒ–çš„åˆ©æ¯è®¡ç®—ï¼šæ€»åˆ©æ¯ = æœ¬é‡‘ Ã— å¹´åˆ©ç‡ Ã— å¹´æ•°
  let total_interest = @azimuth.multiply(principal, @azimuth.multiply(annual_rate, years))
  
  // æ€»è¿˜æ¬¾é¢ = æœ¬é‡‘ + æ€»åˆ©æ¯
  let total_payment = @azimuth.add(principal, total_interest)
  
  // æœˆè¿˜æ¬¾é¢ï¼ˆç®€åŒ–è®¡ç®—ï¼Œä¸è€ƒè™‘å¤åˆ©ï¼‰
  let monthly_payment = total_payment / (years * 12)
  
  @azimuth.assert_eq(1180000, total_payment)  // 100000 + 100000*6*3 = 1180000
  @azimuth.assert_eq(32777, monthly_payment)  // 1180000 / 36 â‰ˆ 32777
}

test "physics_simulation" {
  // ç‰©ç†æ¨¡æ‹Ÿï¼šè‡ªç”±è½ä½“è¿åŠ¨è®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let initial_height = 100  // åˆå§‹é«˜åº¦ï¼ˆç±³ï¼‰
  let time = 4              // æ—¶é—´ï¼ˆç§’ï¼‰
  
  // ä¸‹è½è·ç¦» = 0.5 Ã— g Ã— tÂ²ï¼ˆç®€åŒ–ä¸º g Ã— tÂ²ï¼‰
  let distance = @azimuth.multiply(10, @azimuth.multiply(time, time))
  
  // å‰©ä½™é«˜åº¦ = åˆå§‹é«˜åº¦ - ä¸‹è½è·ç¦»
  let remaining_height = @azimuth.add(initial_height, -distance)
  
  @azimuth.assert_eq(160, distance)      // 10 Ã— 4Â² = 160
  @azimuth.assert_eq(-60, remaining_height)  // 100 - 160 = -60ï¼ˆå·²è½åœ°ï¼‰
}

test "data_structure_operations" {
  // æ•°æ®ç»“æ„æ“ä½œæ¨¡æ‹Ÿ
  // æ¨¡æ‹Ÿæ ˆæ“ä½œï¼špushå’Œpop
  let mut stack_size = 0
  
  // pushæ“ä½œ
  stack_size = @azimuth.add(stack_size, 1)  // push item1
  stack_size = @azimuth.add(stack_size, 1)  // push item2
  stack_size = @azimuth.add(stack_size, 1)  // push item3
  
  @azimuth.assert_eq(3, stack_size)
  
  // popæ“ä½œ
  stack_size = @azimuth.add(stack_size, -1)  // pop item3
  stack_size = @azimuth.add(stack_size, -1)  // pop item2
  
  @azimuth.assert_eq(1, stack_size)
  
  // æ¨¡æ‹Ÿé˜Ÿåˆ—æ“ä½œï¼šenqueueå’Œdequeue
  let mut queue_size = 0
  let enqueue_count = 5
  let dequeue_count = 2
  
  queue_size = @azimuth.add(queue_size, enqueue_count)   // enqueue 5 items
  queue_size = @azimuth.add(queue_size, -dequeue_count)  // dequeue 2 items
  
  @azimuth.assert_eq(3, queue_size)
}

test "statistical_analysis" {
  // ç»Ÿè®¡åˆ†ææµ‹è¯•
  // æ¨¡æ‹Ÿæ•°æ®é›†ï¼š10, 20, 30, 40, 50
  let data1 = 10
  let data2 = 20
  let data3 = 30
  let data4 = 40
  let data5 = 50
  
  // è®¡ç®—æ€»å’Œ
  let data_sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(data1, data2), data3), data4), data5)
  let data_count = 5
  
  // è®¡ç®—å¹³å‡å€¼
  let average = data_sum / data_count
  
  // è®¡ç®—æ–¹å·®ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let diff1 = @azimuth.add(data1, -average)
  let diff2 = @azimuth.add(data2, -average)
  let diff3 = @azimuth.add(data3, -average)
  let diff4 = @azimuth.add(data4, -average)
  let diff5 = @azimuth.add(data5, -average)
  
  let variance = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.multiply(diff1, diff1), @azimuth.multiply(diff2, diff2)), 
                           @azimuth.multiply(diff3, diff3)), @azimuth.multiply(diff4, diff4)), 
                           @azimuth.multiply(diff5, diff5)) / data_count
  
  @azimuth.assert_eq(150, data_sum)
  @azimuth.assert_eq(30, average)
  @azimuth.assert_eq(200, variance)  // ç®€åŒ–è®¡ç®—
}

test "algorithm_complexity_simulation" {
  // ç®—æ³•å¤æ‚åº¦æ¨¡æ‹Ÿ
  let n = 100
  
  // O(1) å¸¸æ•°æ—¶é—´å¤æ‚åº¦
  let constant_time = 1
  
  // O(n) çº¿æ€§æ—¶é—´å¤æ‚åº¦
  let linear_time = n
  
  // O(nÂ²) å¹³æ–¹æ—¶é—´å¤æ‚åº¦
  let quadratic_time = @azimuth.multiply(n, n)
  
  // O(log n) å¯¹æ•°æ—¶é—´å¤æ‚åº¦ï¼ˆç®€åŒ–ä¸º n/10ï¼‰
  let logarithmic_time = n / 10
  
  @azimuth.assert_eq(1, constant_time)
  @azimuth.assert_eq(100, linear_time)
  @azimuth.assert_eq(10000, quadratic_time)
  @azimuth.assert_eq(10, logarithmic_time)
}

test "edge_case_comprehensive" {
  // ç»¼åˆè¾¹ç•Œæƒ…å†µæµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•è¿ç»­è¿ç®—çš„è¾¹ç•Œæƒ…å†µ
  let result1 = @azimuth.add(@azimuth.add(max_val, -max_val), max_val)
  @azimuth.assert_eq(max_val, result1)
  
  let result2 = @azimuth.multiply(@azimuth.multiply(min_val, -1), -1)
  @azimuth.assert_eq(min_val, result2)
  
  // æµ‹è¯•æ··åˆè¾¹ç•Œè¿ç®—
  let result3 = @azimuth.add(@azimuth.multiply(max_val, 0), min_val)
  @azimuth.assert_eq(min_val, result3)
  
  let result4 = @azimuth.multiply(@azimuth.add(max_val, min_val), 100)
  @azimuth.assert_eq(-100, result4)
  
  // æµ‹è¯•å­—ç¬¦ä¸²è¾¹ç•Œæƒ…å†µ
  let very_long_name = "A" + "B" + "C" + "D" + "E" + "F" + "G" + "H" + "I" + "J"
  let long_greeting = @azimuth.greet(very_long_name)
  @azimuth.assert_eq_string("Hello, ABCDEFGHIJ!", long_greeting)
}