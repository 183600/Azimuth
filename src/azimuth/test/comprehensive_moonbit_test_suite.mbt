// ç»¼åˆ MoonBit æµ‹è¯•å¥—ä»¶
// æµ‹è¯• azimuth æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒåŒ…å«å¤šæ ·åŒ–çš„æµ‹è¯•åœºæ™¯

test "integer_addition_comprehensive" {
  // æµ‹è¯•æ•´æ•°åŠ æ³•çš„å„ç§æƒ…å†µ
  // æ­£æ•°ç›¸åŠ 
  @azimuth.assert_eq(15, @azimuth.add(7, 8))
  
  // è´Ÿæ•°ç›¸åŠ 
  @azimuth.assert_eq(-10, @azimuth.add(-3, -7))
  
  // æ­£è´Ÿæ•°ç›¸åŠ 
  @azimuth.assert_eq(2, @azimuth.add(10, -8))
  
  // ä¸é›¶ç›¸åŠ 
  @azimuth.assert_eq(42, @azimuth.add(42, 0))
  @azimuth.assert_eq(42, @azimuth.add(0, 42))
  
  // è¾¹ç•Œå€¼æµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -1))
}

test "integer_multiplication_comprehensive" {
  // æµ‹è¯•æ•´æ•°ä¹˜æ³•çš„å„ç§æƒ…å†µ
  // æ­£æ•°ç›¸ä¹˜
  @azimuth.assert_eq(24, @azimuth.multiply(4, 6))
  
  // è´Ÿæ•°ç›¸ä¹˜
  @azimuth.assert_eq(35, @azimuth.multiply(-5, -7))
  
  // æ­£è´Ÿæ•°ç›¸ä¹˜
  @azimuth.assert_eq(-30, @azimuth.multiply(5, -6))
  
  // ä¸é›¶å’Œä¸€ç›¸ä¹˜
  @azimuth.assert_eq(0, @azimuth.multiply(123, 0))
  @azimuth.assert_eq(123, @azimuth.multiply(123, 1))
  
  // è¾¹ç•Œå€¼æµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
}

test "string_greeting_variations" {
  // æµ‹è¯•å­—ç¬¦ä¸²é—®å€™åŠŸèƒ½çš„å„ç§å˜ä½“
  // åŸºæœ¬é—®å€™
  @azimuth.assert_eq_string("Hello, Alice!", @azimuth.greet("Alice"))
  
  // ç©ºå­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  
  // åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, John Doe!", @azimuth.greet("John Doe"))
  
  // åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, user@123!", @azimuth.greet("user@123"))
  
  // åŒ…å«Unicodeå­—ç¬¦çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  
  // åŒ…å«emojiçš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, ğŸŒŸ!", @azimuth.greet("ğŸŒŸ"))
}

test "mathematical_properties_validation" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨çš„éªŒè¯
  let a = 12
  let b = 8
  let c = 5
  
  // åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹ï¼ša * b = b * a
  @azimuth.assert_eq(@azimuth.multiply(a, b), @azimuth.multiply(b, a))
  
  // åŠ æ³•ç»“åˆå¾‹ï¼š(a + b) + c = a + (b + c)
  let left_assoc = @azimuth.add(@azimuth.add(a, b), c)
  let right_assoc = @azimuth.add(a, @azimuth.add(b, c))
  @azimuth.assert_eq(left_assoc, right_assoc)
  
  // ä¹˜æ³•ç»“åˆå¾‹ï¼š(a * b) * c = a * (b * c)
  let mul_left_assoc = @azimuth.multiply(@azimuth.multiply(a, b), c)
  let mul_right_assoc = @azimuth.multiply(a, @azimuth.multiply(b, c))
  @azimuth.assert_eq(mul_left_assoc, mul_right_assoc)
  
  // åˆ†é…å¾‹ï¼ša * (b + c) = a * b + a * c
  let distrib_left = @azimuth.multiply(a, @azimuth.add(b, c))
  let distrib_right = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
  @azimuth.assert_eq(distrib_left, distrib_right)
}

test "real_world_financial_calculations" {
  // æµ‹è¯•å®é™…é‡‘èè®¡ç®—åœºæ™¯
  // ç®€å•åˆ©æ¯è®¡ç®—ï¼šæœ¬é‡‘ + (æœ¬é‡‘ Ã— åˆ©ç‡ Ã— æ—¶é—´)
  let principal = 10000
  let rate = 5  // 5%
  let years = 3
  
  let interest = @azimuth.multiply(principal, @azimuth.multiply(rate, years))
  let total = @azimuth.add(principal, interest)
  @azimuth.assert_eq(160000, total)  // 10000 + (10000 * 5 * 3) = 160000
  
  // æŠ˜æ‰£è®¡ç®—ï¼šåŸä»· - (åŸä»· Ã— æŠ˜æ‰£ç™¾åˆ†æ¯”)
  let original_price = 500
  let discount_percent = 20
  let discount_amount = @azimuth.multiply(original_price, discount_percent) / 100
  let discounted_price = @azimuth.add(original_price, -discount_amount)
  @azimuth.assert_eq(400, discounted_price)  // 500 - (500 * 20 / 100) = 400
  
  // ç¨è´¹è®¡ç®—ï¼šä»·æ ¼ + (ä»·æ ¼ Ã— ç¨ç‡)
  let price = 200
  let tax_rate = 8  // 8%
  let tax_amount = @azimuth.multiply(price, tax_rate) / 100
  let final_price = @azimuth.add(price, tax_amount)
  @azimuth.assert_eq(216, final_price)  // 200 + (200 * 8 / 100) = 216
}

test "geometry_calculations" {
  // æµ‹è¯•å‡ ä½•è®¡ç®—
  // çŸ©å½¢é¢ç§¯ï¼šé•¿ Ã— å®½
  let length = 12
  let width = 8
  let rectangle_area = @azimuth.multiply(length, width)
  @azimuth.assert_eq(96, rectangle_area)
  
  // çŸ©å½¢å‘¨é•¿ï¼š2 Ã— (é•¿ + å®½)
  let perimeter = @azimuth.multiply(2, @azimuth.add(length, width))
  @azimuth.assert_eq(40, perimeter)
  
  // ä¸‰è§’å½¢é¢ç§¯ï¼ˆç®€åŒ–ï¼‰ï¼šåº• Ã— é«˜ Ã· 2
  let base = 10
  let height = 6
  let triangle_area = @azimuth.multiply(base, height) / 2
  @azimuth.assert_eq(30, triangle_area)
  
  // åœ†å‘¨é•¿ï¼ˆç®€åŒ–ï¼‰ï¼š2 Ã— Ï€ Ã— r â‰ˆ 2 Ã— 3 Ã— r
  let radius = 5
  let circumference = @azimuth.multiply(2, @azimuth.multiply(3, radius))
  @azimuth.assert_eq(30, circumference)
  
  // åœ†é¢ç§¯ï¼ˆç®€åŒ–ï¼‰ï¼šÏ€ Ã— rÂ² â‰ˆ 3 Ã— rÂ²
  let circle_area = @azimuth.multiply(3, @azimuth.multiply(radius, radius))
  @azimuth.assert_eq(75, circle_area)
}

test "temperature_conversion" {
  // æµ‹è¯•æ¸©åº¦è½¬æ¢ï¼ˆç®€åŒ–ç‰ˆï¼‰
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼šF = C Ã— 2 + 30ï¼ˆç®€åŒ–å…¬å¼ï¼‰
  
  // å†°ç‚¹æ¸©åº¦
  let celsius_freezing = 0
  let fahrenheit_freezing = @azimuth.add(@azimuth.multiply(celsius_freezing, 2), 30)
  @azimuth.assert_eq(30, fahrenheit_freezing)
  
  // å®¤æ¸©
  let celsius_room = 20
  let fahrenheit_room = @azimuth.add(@azimuth.multiply(celsius_room, 2), 30)
  @azimuth.assert_eq(70, fahrenheit_room)
  
  // ä½“æ¸©
  let celsius_body = 37
  let fahrenheit_body = @azimuth.add(@azimuth.multiply(celsius_body, 2), 30)
  @azimuth.assert_eq(104, fahrenheit_body)
  
  // æ²¸ç‚¹æ¸©åº¦
  let celsius_boiling = 100
  let fahrenheit_boiling = @azimuth.add(@azimuth.multiply(celsius_boiling, 2), 30)
  @azimuth.assert_eq(230, fahrenheit_boiling)
}

test "complex_business_logic" {
  // æµ‹è¯•å¤æ‚ä¸šåŠ¡é€»è¾‘
  // è®¢å•æ€»ä»·è®¡ç®—ï¼šå•†å“ä»·æ ¼ Ã— æ•°é‡ + è¿è´¹ - æŠ˜æ‰£
  let item_price = 199
  let quantity = 3
  let shipping = 20
  let discount = 50
  
  let subtotal = @azimuth.multiply(item_price, quantity)
  let total = @azimuth.add(@azimuth.add(subtotal, shipping), -discount)
  @azimuth.assert_eq(627, total)  // 199*3 + 20 - 50 = 597 + 20 - 50 = 627
  
  // åº“å­˜ç®¡ç†ï¼šåˆå§‹åº“å­˜ + è¿›è´§ - é”€è´§ + é€€è´§ - æŸè€—
  let initial_stock = 100
  let received = 30
  let sold = 45
  let returned = 5
  let damaged = 3
  
  let current_stock = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(initial_stock, received), -sold), returned), -damaged)
  @azimuth.assert_eq(87, current_stock)  // 100 + 30 - 45 + 5 - 3 = 87
  
  // åˆ©æ¶¦è®¡ç®—ï¼šæ”¶å…¥ - æˆæœ¬
  let revenue = 1500
  let cost = 900
  let profit = @azimuth.add(revenue, -cost)
  @azimuth.assert_eq(600, profit)
}

test "statistical_calculations" {
  // æµ‹è¯•ç»Ÿè®¡è®¡ç®—
  // è®¡ç®—æ€»å’Œï¼š1 + 2 + 3 + 4 + 5
  let sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(1, 2), 3), 4), 5)
  @azimuth.assert_eq(15, sum)
  
  // è®¡ç®—å¹³å‡å€¼ï¼šæ€»å’Œ / æ•°é‡
  let average = sum / 5
  @azimuth.assert_eq(3, average)
  
  // è®¡ç®—å¹³æ–¹å’Œï¼š1Â² + 2Â² + 3Â² + 4Â² + 5Â²
  let square_sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.multiply(1, 1), @azimuth.multiply(2, 2)), @azimuth.multiply(3, 3)), @azimuth.multiply(4, 4)), @azimuth.multiply(5, 5))
  @azimuth.assert_eq(55, square_sum)
  
  // è®¡ç®—æ–¹å·®ï¼ˆç®€åŒ–ï¼‰ï¼šå¹³æ–¹å’Œ / æ•°é‡ - å¹³å‡å€¼Â²
  let variance = square_sum / 5 - @azimuth.multiply(average, average)
  @azimuth.assert_eq(2, variance)  // 55/5 - 3Â² = 11 - 9 = 2
}

test "assert_functions_validation" {
  // æµ‹è¯•æ–­è¨€å‡½æ•°çš„æœ‰æ•ˆæ€§
  // æµ‹è¯• assert_true å’Œ assert_false
  @azimuth.assert_true(5 > 3)
  @azimuth.assert_true(0 == 0)
  @azimuth.assert_true(-10 < 0)
  
  @azimuth.assert_false(5 < 3)
  @azimuth.assert_false(1 == 0)
  @azimuth.assert_false(-10 > 0)
  
  // æµ‹è¯• assert_eq
  @azimuth.assert_eq(42, 42)
  @azimuth.assert_eq(-10, -10)
  @azimuth.assert_eq(0, 0)
  
  // æµ‹è¯• assert_eq_string
  @azimuth.assert_eq_string("Hello", "Hello")
  @azimuth.assert_eq_string("", "")
  @azimuth.assert_eq_string("Test123", "Test123")
  
  // æµ‹è¯•å¤åˆæ¡ä»¶
  let x = 10
  let y = 20
  @azimuth.assert_true(@azimuth.add(x, y) == 30)
  @azimuth.assert_true(@azimuth.multiply(x, y) == 200)
  @azimuth.assert_eq_string("Hello, World!", @azimuth.greet("World"))
}