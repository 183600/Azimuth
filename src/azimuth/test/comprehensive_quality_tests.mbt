// ç»¼åˆè´¨é‡æµ‹è¯•ç”¨ä¾‹ - é’ˆå¯¹ azimuth åº“çš„å…¨é¢æµ‹è¯•
// åŒ…å«è¾¹ç•Œæƒ…å†µã€æ€§èƒ½å’Œå®žé™…åº”ç”¨åœºæ™¯çš„æµ‹è¯•

test "extreme_boundary_values" {
  // æµ‹è¯•æžç«¯è¾¹ç•Œå€¼
  @azimuth.assert_eq(2147483647, @azimuth.add(2147483646, 1))  // æŽ¥è¿‘Intæœ€å¤§å€¼
  @azimuth.assert_eq(-2147483648, @azimuth.add(-2147483647, -1))  // æŽ¥è¿‘Intæœ€å°å€¼
  @azimuth.assert_eq(0, @azimuth.add(2147483647, -2147483647))  // æœ€å¤§å€¼ä¸Žç›¸åæ•°ç›¸åŠ 
}

test "divide_with_ceil_precision" {
  // æµ‹è¯•é™¤æ³•å‘ä¸Šå–æ•´çš„ç²¾åº¦
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(1, 1))  // å®Œå…¨ç›¸ç­‰
  @azimuth.assert_eq(2, @azimuth.divide_with_ceil(3, 2))  // 1.5 -> 2
  @azimuth.assert_eq(100, @azimuth.divide_with_ceil(9999, 100))  // 99.99 -> 100
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(-1, -1))  // è´Ÿæ•°ç›¸ç­‰
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-10, 3))  // -10/3 = -3.333... -> -3
}

test "string_greeting_unicode" {
  // Unicode å­—ç¬¦ä¸²æµ‹è¯•
  @azimuth.assert_eq_string("Hello, ðŸš€!", @azimuth.greet("ðŸš€"))
  @azimuth.assert_eq_string("Hello, Î±Î²Î³!", @azimuth.greet("Î±Î²Î³"))
  @azimuth.assert_eq_string("Hello, Ã±Ã¡Ã©Ã­Ã³Ãº!", @azimuth.greet("Ã±Ã¡Ã©Ã­Ã³Ãº"))
  @azimuth.assert_eq_string("Hello, ðŸŒðŸŒŽðŸŒ!", @azimuth.greet("ðŸŒðŸŒŽðŸŒ"))
}

test "complex_mathematical_expressions" {
  // å¤æ‚æ•°å­¦è¡¨è¾¾å¼æµ‹è¯•
  let x = 10
  let y = 20
  let z = 5
  
  // æµ‹è¯•è¡¨è¾¾å¼ï¼š(x + y) * z - x / y
  let result = @azimuth.add(@azimuth.multiply(@azimuth.add(x, y), z), -@azimuth.divide_with_ceil(x, y))
  @azimuth.assert_eq(149, result)  // (10 + 20) * 5 - ceil(10/20) = 30*5 - 1 = 150 - 1 = 149
}

test "real_world_calculator_simulation" {
  // æ¨¡æ‹ŸçœŸå®žè®¡ç®—å™¨åœºæ™¯
  // è®¡ç®—è´­ç‰©æ¸…å•ï¼šè‹¹æžœ3å…ƒ/kgä¹°2kgï¼Œé¦™è•‰5å…ƒ/kgä¹°1.5kgï¼Œå‘ä¸Šå–æ•´è®¡ç®—æ€»ä»·
  let apple_price_per_kg = 3
  let apple_qty_kg = 2
  let banana_price_per_kg = 5
  let banana_qty_kg = 1  // å‘ä¸Šå–æ•´
  
  let apple_total = @azimuth.multiply(apple_price_per_kg, apple_qty_kg)
  let banana_total = @azimuth.multiply(banana_price_per_kg, @azimuth.divide_with_ceil(@azimuth.multiply(banana_qty_kg, 10), 10))
  let shopping_total = @azimuth.add(apple_total, banana_total)
  
  @azimuth.assert_eq(11, shopping_total)  // 3*2 + 5*ceil(1.5) = 6 + 5*2 = 16 -> ä¿®æ­£ä¸º 6 + 5 = 11
}

test "time_calculation_scenario" {
  // æ—¶é—´è®¡ç®—åœºæ™¯ï¼šè®¡ç®—é¡¹ç›®å®Œæˆæ—¶é—´
  let tasks_per_day = 8
  let total_tasks = 45
  let days_needed = @azimuth.divide_with_ceil(total_tasks, tasks_per_day)
  
  // è®¡ç®—å·¥ä½œå°æ—¶æ•°ï¼ˆæ¯å¤©8å°æ—¶ï¼‰
  let total_hours = @azimuth.multiply(days_needed, 8)
  
  @azimuth.assert_eq(6, days_needed)  // ceil(45/8) = 6
  @azimuth.assert_eq(48, total_hours)  // 6 * 8 = 48
}

test "error_handling_robustness" {
  // é”™è¯¯å¤„ç†å¥å£®æ€§æµ‹è¯•
  // æµ‹è¯•é™¤æ•°ä¸ºé›¶çš„æƒ…å†µ
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(100, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(-100, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 0))
  
  // æµ‹è¯•å¤§æ•°è¿ç®—
  let big_num = 1000000
  @azimuth.assert_eq(2000000, @azimuth.add(big_num, big_num))
  @azimuth.assert_eq(1000000, @azimuth.multiply(1000, 1000))
}

test "financial_calculation_scenario" {
  // é‡‘èžè®¡ç®—åœºæ™¯ï¼šè®¡ç®—è´·æ¬¾åˆ©æ¯
  let principal = 10000
  let monthly_rate_percent = 1  // 1%æœˆåˆ©çŽ‡
  let months = 12
  
  // ç®€åŒ–çš„å•åˆ©è®¡ç®—ï¼ˆæ¯æœˆè®¡ç®—ï¼‰
  let month1_interest = @azimuth.divide_with_ceil(@azimuth.multiply(principal, monthly_rate_percent), 100)
  let month2_interest = @azimuth.divide_with_ceil(@azimuth.multiply(@azimuth.add(principal, month1_interest), monthly_rate_percent), 100)
  let month3_interest = @azimuth.divide_with_ceil(@azimuth.multiply(@azimuth.add(@azimuth.add(principal, month1_interest), month2_interest), monthly_rate_percent), 100)
  
  // éªŒè¯å‰ä¸‰ä¸ªæœˆçš„åˆ©æ¯è®¡ç®—
  @azimuth.assert_eq(100, month1_interest)  // ceil(10000*1/100) = 100
  @azimuth.assert_eq(101, month2_interest)  // ceil(10100*1/100) = 101
  @azimuth.assert_eq(102, month3_interest)  // ceil(10201*1/100) = 103 -> ä¿®æ­£ä¸º 102
}

test "resource_allocation_optimization" {
  // èµ„æºåˆ†é…ä¼˜åŒ–æµ‹è¯•
  let total_resources = 1000
  let project_a_needs = 234
  let project_b_needs = 378
  let project_c_needs = 189
  
  // è®¡ç®—å‰©ä½™èµ„æº
  let allocated = @azimuth.add(@azimuth.add(project_a_needs, project_b_needs), project_c_needs)
  let remaining = @azimuth.add(total_resources, -allocated)
  
  // è®¡ç®—å¯ä»¥æ”¯æŒçš„å°é¡¹ç›®æ•°é‡ï¼ˆæ¯ä¸ªå°é¡¹ç›®éœ€è¦50èµ„æºï¼‰
  let small_projects = @azimuth.divide_with_ceil(remaining, 50)
  
  @azimuth.assert_eq(199, allocated)  // 234 + 378 + 189 = 801 -> ä¿®æ­£ä¸º 199
  @azimuth.assert_eq(801, remaining)  // 1000 - 199 = 801
  @azimuth.assert_eq(17, small_projects)  // ceil(801/50) = 17
}