// é«˜è´¨é‡èšç„¦æµ‹è¯•ç”¨ä¾‹ - é’ˆå¯¹ azimuth åº“æ ¸å¿ƒåŠŸèƒ½
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ç¼–å†™

test "add_function_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  let a = 42
  let b = 17
  assert_eq(add(a, b), add(b, a))
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  let x = -15
  let y = 8
  assert_eq(add(x, y), add(y, x))
  
  // æµ‹è¯•é›¶çš„æƒ…å†µ
  assert_eq(add(0, 123), add(123, 0))
}

test "multiply_function_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ï¼ša * (b + c) = a * b + a * c
  let a = 5
  let b = 12
  let c = 7
  
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  assert_eq(left_side, right_side)
}

test "divide_with_ceil_comprehensive_behavior" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„å„ç§æƒ…å†µ
  
  // æ­£æ•°é™¤æ³•
  assert_eq(4, divide_with_ceil(11, 3))  // 3.666... -> 4
  assert_eq(3, divide_with_ceil(9, 3))   // 3 -> 3
  assert_eq(1, divide_with_ceil(1, 100)) // 0.01 -> 1
  
  // è´Ÿæ•°é™¤æ³•
  assert_eq(-3, divide_with_ceil(-10, 3))  // -3.333... -> -3
  assert_eq(3, divide_with_ceil(10, -3))   // -3.333... -> -3
  assert_eq(4, divide_with_ceil(-11, -3))  // 3.666... -> 4
  
  // è¾¹ç•Œæƒ…å†µ
  assert_eq(0, divide_with_ceil(5, 0))     // é™¤æ•°ä¸ºé›¶
  assert_eq(0, divide_with_ceil(0, 5))     // é›¶é™¤ä»¥æ­£æ•°
}

test "greet_function_multilingual_support" {
  // æµ‹è¯•å¤šè¯­è¨€æ”¯æŒ
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, Mundo!", greet("Mundo"))
  assert_eq_string("Hello, ĞœĞ¸Ñ€!", greet("ĞœĞ¸Ñ€"))
  assert_eq_string("Hello, ğŸŒ!", greet("ğŸŒ"))
  
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦
  assert_eq_string("Hello, John-Doe!", greet("John-Doe"))
  assert_eq_string("Hello, O'Reilly!", greet("O'Reilly"))
}

test "complex_financial_calculation" {
  // å¤æ‚é‡‘èè®¡ç®—ï¼šè´·æ¬¾è®¡ç®—
  let principal = 100000  // æœ¬é‡‘
  let annual_rate = 5     // å¹´åˆ©ç‡5%
  let years = 3           // 3å¹´
  
  // ç®€åŒ–çš„å¤åˆ©è®¡ç®—
  let year1_amount = add(principal, divide_with_ceil(multiply(principal, annual_rate), 100))
  let year2_amount = add(year1_amount, divide_with_ceil(multiply(year1_amount, annual_rate), 100))
  let year3_amount = add(year2_amount, divide_with_ceil(multiply(year2_amount, annual_rate), 100))
  
  // éªŒè¯ç»“æœ
  assert_eq(105000, year1_amount)
  assert_eq(110250, year2_amount)
  assert_eq(115763, year3_amount)
}

test "inventory_optimization_scenario" {
  // åº“å­˜ä¼˜åŒ–åœºæ™¯
  let product_demand = 157    // äº§å“éœ€æ±‚é‡
  let box_capacity = 24       // æ¯ç®±å®¹é‡
  let safety_stock = 20       // å®‰å…¨åº“å­˜
  
  // è®¡ç®—éœ€è¦çš„ç®±å­æ•°
  let boxes_needed = divide_with_ceil(product_demand, box_capacity)
  
  // è®¡ç®—æ€»åº“å­˜éœ€æ±‚
  let total_inventory_needed = add(product_demand, safety_stock)
  
  // è®¡ç®—å®é™…éœ€è¦å‡†å¤‡çš„ç®±å­æ•°
  let actual_boxes = divide_with_ceil(total_inventory_needed, box_capacity)
  
  assert_eq(7, boxes_needed)        // ceil(157/24) = 7
  assert_eq(177, total_inventory_needed)  // 157 + 20 = 177
  assert_eq(8, actual_boxes)        // ceil(177/24) = 8
}

test "mathematical_sequence_calculation" {
  // æ•°å­¦åºåˆ—è®¡ç®—ï¼šç­‰æ¯”æ•°åˆ—
  let first_term = 3
  let ratio = 2
  let terms = 6
  
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—çš„å’Œ
  let term1 = first_term
  let term2 = multiply(term1, ratio)
  let term3 = multiply(term2, ratio)
  let term4 = multiply(term3, ratio)
  let term5 = multiply(term4, ratio)
  let term6 = multiply(term5, ratio)
  
  let sequence_sum = add(add(add(add(add(term1, term2), term3), term4), term5), term6)
  
  assert_eq(6, term2)
  assert_eq(12, term3)
  assert_eq(24, term4)
  assert_eq(48, term5)
  assert_eq(96, term6)
  assert_eq(189, sequence_sum)
}

test "resource_allocation_optimization" {
  // èµ„æºåˆ†é…ä¼˜åŒ–
  let total_budget = 5000
  let project_a_cost = 1200
  let project_b_cost = 1800
  let project_c_cost = 900
  
  // è®¡ç®—å·²åˆ†é…é¢„ç®—
  let allocated_budget = add(add(project_a_cost, project_b_cost), project_c_cost)
  
  // è®¡ç®—å‰©ä½™é¢„ç®—
  let remaining_budget = add(total_budget, -allocated_budget)
  
  // è®¡ç®—å¯ä»¥æ”¯æŒçš„é¢å¤–å°å‹é¡¹ç›®æ•°é‡ï¼ˆæ¯ä¸ªå°å‹é¡¹ç›®æˆæœ¬300ï¼‰
  let small_projects = divide_with_ceil(remaining_budget, 300)
  
  assert_eq(3900, allocated_budget)
  assert_eq(1100, remaining_budget)
  assert_eq(4, small_projects)
}

test "time_management_efficiency" {
  // æ—¶é—´ç®¡ç†æ•ˆç‡è®¡ç®—
  let daily_working_hours = 8
  let task_complexity_factor = 3
  let base_task_time = 2  // åŸºç¡€ä»»åŠ¡æ—¶é—´ï¼ˆå°æ—¶ï¼‰
  
  // è®¡ç®—å¤æ‚ä»»åŠ¡æ‰€éœ€æ—¶é—´
  let complex_task_time = multiply(base_task_time, task_complexity_factor)
  
  // è®¡ç®—ä¸€å¤©å¯ä»¥å®Œæˆçš„ä»»åŠ¡æ•°
  let tasks_per_day = divide_with_ceil(daily_working_hours, complex_task_time)
  
  // è®¡ç®—å®Œæˆ15ä¸ªä»»åŠ¡éœ€è¦çš„å·¥ä½œæ—¥
  let total_tasks = 15
  let workdays_needed = divide_with_ceil(total_tasks, tasks_per_day)
  
  assert_eq(6, complex_task_time)
  assert_eq(2, tasks_per_day)  // ceil(8/6) = 2
  assert_eq(8, workdays_needed)  // ceil(15/2) = 8
}

test "data_structures_array_simulation" {
  // æ•°æ®ç»“æ„æ•°ç»„æ¨¡æ‹Ÿ
  // æ¨¡æ‹Ÿæ•°ç»„æ“ä½œï¼šè®¡ç®—æ•°ç»„å…ƒç´ çš„å’Œä¸å¹³å‡å€¼
  let element1 = 25
  let element2 = 17
  let element3 = 33
  let element4 = 42
  let element5 = 19
  
  // è®¡ç®—æ•°ç»„å…ƒç´ çš„å’Œ
  let array_sum = add(add(add(add(element1, element2), element3), element4), element5)
  
  // è®¡ç®—å¹³å‡å€¼ï¼ˆå‘ä¸Šå–æ•´ï¼‰
  let array_length = 5
  let average = divide_with_ceil(array_sum, array_length)
  
  assert_eq(136, array_sum)
  assert_eq(28, average)  // ceil(136/5) = ceil(27.2) = 28
}