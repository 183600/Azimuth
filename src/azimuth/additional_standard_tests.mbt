// é¢å¤–çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// é’ˆå¯¹ azimuth åº“çš„è¡¥å……æµ‹è¯•

test "add_with_large_numbers" {
  // æµ‹è¯•å¤§æ•°åŠ æ³•
  assert_eq(2000000, add(1000000, 1000000))
  assert_eq(2147483647, add(2147483646, 1))
  assert_eq(-2147483648, add(-2147483647, -1))
}

test "multiply_boundary_values" {
  // æµ‹è¯•ä¹˜æ³•è¾¹ç•Œå€¼
  assert_eq(2147483647, multiply(46340, 46341))
  assert_eq(0, multiply(2147483647, 0))
  assert_eq(-2147483648, multiply(-2, 1073741824))
}

test "divide_with_ceil_precision" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„ç²¾åº¦
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(2, divide_with_ceil(3, 2))
  assert_eq(100, divide_with_ceil(9999, 100))
  assert_eq(-3, divide_with_ceil(-10, 3))
}

test "greet_unicode_characters" {
  // æµ‹è¯• Unicode å­—ç¬¦é—®å€™
  assert_eq_string("Hello, ğŸŒŸ!", greet("ğŸŒŸ"))
  assert_eq_string("Hello, Î±Î²Î³!", greet("Î±Î²Î³"))
  assert_eq_string("Hello, Ã±Ã¡Ã©Ã­Ã³Ãº!", greet("Ã±Ã¡Ã©Ã­Ã³Ãº"))
}

test "complex_arithmetic_sequence" {
  // æµ‹è¯•å¤æ‚æ•°å­¦åºåˆ—è®¡ç®—
  let a = 5
  let d = 3
  let n = 10
  
  // è®¡ç®—ç­‰å·®æ•°åˆ—ç¬¬né¡¹: a + (n-1)*d
  let nth_term = add(a, multiply(n - 1, d))
  
  // è®¡ç®—ç­‰å·®æ•°åˆ—å‰né¡¹å’Œ: n/2 * (2a + (n-1)*d)
  let sum = divide_with_ceil(multiply(n, add(multiply(2, a), multiply(n - 1, d))), 2)
  
  assert_eq(32, nth_term)  // 5 + 9*3 = 32
  assert_eq(185, sum)      // 10/2 * (10 + 27) = 5 * 37 = 185
}

test "financial_compound_interest" {
  // æµ‹è¯•å¤åˆ©è®¡ç®—
  let principal = 1000
  let rate = 5
  let years = 3
  
  // ç¬¬ä¸€å¹´
  let year1 = add(principal, divide_with_ceil(multiply(principal, rate), 100))
  // ç¬¬äºŒå¹´
  let year2 = add(year1, divide_with_ceil(multiply(year1, rate), 100))
  // ç¬¬ä¸‰å¹´
  let year3 = add(year2, divide_with_ceil(multiply(year2, rate), 100))
  
  assert_eq(1050, year1)
  assert_eq(1103, year2)
  assert_eq(1158, year3)
}

test "resource_allocation_optimization" {
  // æµ‹è¯•èµ„æºåˆ†é…ä¼˜åŒ–
  let total_budget = 10000
  let project_a_cost = 3500
  let project_b_cost = 2800
  let project_c_cost = 2200
  
  let allocated = add(add(project_a_cost, project_b_cost), project_c_cost)
  let remaining = add(total_budget, -allocated)
  
  // è®¡ç®—å¯ä»¥æ”¯æŒçš„å°é¡¹ç›®æ•°é‡
  let small_project_cost = 600
  let additional_projects = divide_with_ceil(remaining, small_project_cost)
  
  assert_eq(8500, allocated)
  assert_eq(1500, remaining)
  assert_eq(3, additional_projects)
}

test "time_zone_conversion" {
  // æµ‹è¯•æ—¶åŒºè½¬æ¢è®¡ç®—
  let local_time = 14  // ä¸‹åˆ2ç‚¹
  let time_difference = -8  // æ—¶å·®
  
  let converted_time = add(local_time, time_difference)
  let adjusted_time = if converted_time < 0 {
    add(converted_time, 24)
  } else if converted_time >= 24 {
    add(converted_time, -24)
  } else {
    converted_time
  }
  
  assert_eq(6, adjusted_time)  // 14 - 8 = 6 (æ—©ä¸Š6ç‚¹)
}