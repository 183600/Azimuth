// æ–°å¢çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// é’ˆå¯¹ azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½è¿›è¡Œè¡¥å……æµ‹è¯•

test "extreme_boundary_addition" {
  // æµ‹è¯•æç«¯è¾¹ç•Œå€¼çš„åŠ æ³•
  assert_eq(2147483647, add(2147483646, 1))  // æ¥è¿‘Intæœ€å¤§å€¼
  assert_eq(-2147483648, add(-2147483647, -1))  // æ¥è¿‘Intæœ€å°å€¼
  assert_eq(0, add(2147483647, -2147483647))  // æœ€å¤§å€¼ä¸ç›¸åæ•°
  assert_eq(1, add(-2147483648, 2147483647))  // æœ€å°å€¼ä¸æœ€å¤§å€¼-1
}

test "divide_with_ceil_complex_scenarios" {
  // æµ‹è¯•å¤æ‚çš„å‘ä¸Šå–æ•´é™¤æ³•åœºæ™¯
  assert_eq(1, divide_with_ceil(1, 2147483647))  // æå¤§é™¤æ•°
  assert_eq(2147483647, divide_with_ceil(2147483647, 1))  // æå¤§å•†
  assert_eq(-1, divide_with_ceil(-1, 2147483647))  // è´Ÿæ•°æå°å•†
  assert_eq(0, divide_with_ceil(2147483647, -2147483648))  // æ­£è´Ÿè¾¹ç•Œ
}

test "greet_function_edge_unicode" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„è¾¹ç¼˜Unicodeå­—ç¬¦
  assert_eq_string("Hello, \n!", greet("\n"))  // æ¢è¡Œç¬¦
  assert_eq_string("Hello, \t!", greet("\t"))  // åˆ¶è¡¨ç¬¦
  assert_eq_string("Hello, \r!", greet("\r"))  // å›è½¦ç¬¦
  assert_eq_string("Hello, ğŸŒˆ!", greet("ğŸŒˆ"))  // å½©è™¹emoji
}

test "mathematical_identities" {
  // æµ‹è¯•æ•°å­¦æ’ç­‰å¼
  let x = 42
  let y = 17
  
  // åŠ æ³•æ’ç­‰å¼
  assert_eq(x, add(x, 0))
  assert_eq(x, add(0, x))
  
  // ä¹˜æ³•æ’ç­‰å¼
  assert_eq(x, multiply(x, 1))
  assert_eq(x, multiply(1, x))
  
  // é›¶æ€§è´¨
  assert_eq(0, multiply(x, 0))
  assert_eq(0, multiply(0, x))
}

test "nested_function_composition" {
  // æµ‹è¯•åµŒå¥—å‡½æ•°ç»„åˆ
  let base = 10
  
  // å¤æ‚åµŒå¥—ï¼šmultiply(add(divide_with_ceil(multiply(base, 3), 4), 5), 2)
  let step1 = multiply(base, 3)  // 30
  let step2 = divide_with_ceil(step1, 4)  // 8
  let step3 = add(step2, 5)  // 13
  let result = multiply(step3, 2)  // 26
  
  assert_eq(30, step1)
  assert_eq(8, step2)
  assert_eq(13, step3)
  assert_eq(26, result)
}

test "real_world_financial_calculation" {
  // å®é™…é‡‘èè®¡ç®—ï¼šè´·æ¬¾åˆ†æœŸä»˜æ¬¾
  let loan_amount = 10000
  let interest_rate = 5  // 5%
  let months = 24
  
  // è®¡ç®—æ€»åˆ©æ¯ï¼ˆç®€åŒ–æ¨¡å‹ï¼‰
  let total_interest = divide_with_ceil(multiply(loan_amount, multiply(interest_rate, months)), 1200)
  
  // è®¡ç®—æœˆä¾›ï¼ˆå‘ä¸Šå–æ•´ï¼‰
  let monthly_payment = divide_with_ceil(add(loan_amount, total_interest), months)
  
  // è®¡ç®—æ€»è¿˜æ¬¾é¢
  let total_payment = multiply(monthly_payment, months)
  
  assert_eq(1000, total_interest)  // 10000 * 5% * 24 / 12 = 1000
  assert_eq(459, monthly_payment)  // ceil(11000 / 24) = 459
  assert_eq(11016, total_payment)  // 459 * 24 = 11016
}

test "algorithm_complexity_simulation" {
  // æ¨¡æ‹Ÿç®—æ³•å¤æ‚åº¦è®¡ç®—
  let n = 100
  let constant_factor = 3
  
  // O(n) ç®—æ³•
  let linear_time = multiply(n, constant_factor)
  
  // O(nÂ²) ç®—æ³•ï¼ˆç®€åŒ–è®¡ç®—ï¼‰
  let quadratic_time = multiply(multiply(n, n), constant_factor) / 100
  
  // O(log n) ç®—æ³•ï¼ˆç®€åŒ–ä¸ºå‘ä¸Šå–æ•´é™¤æ³•ï¼‰
  let logarithmic_time = divide_with_ceil(n, 10)
  
  assert_eq(300, linear_time)
  assert_eq(300, quadratic_time)
  assert_eq(10, logarithmic_time)
}

test "string_processing_with_numbers" {
  // æµ‹è¯•å­—ç¬¦ä¸²ä¸æ•°å­—çš„å¤„ç†
  let number_as_string = "12345"
  let processed_greeting = greet("User_" + number_as_string)
  
  assert_eq_string("Hello, User_12345!", processed_greeting)
  
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦ç»„åˆ
  let special_chars = "!@#$%^&*()"
  assert_eq_string("Hello, !@#$%^&*()!", greet(special_chars))
}

test "resource_allocation_optimization" {
  // èµ„æºåˆ†é…ä¼˜åŒ–é—®é¢˜
  let total_resources = 100
  let project_requirements = [15, 25, 30, 20]
  
  // è®¡ç®—æ€»éœ€æ±‚
  let total_required = add(add(add(project_requirements[0], project_requirements[1]), project_requirements[2]), project_requirements[3])
  
  // è®¡ç®—å‰©ä½™èµ„æº
  let remaining = add(total_resources, -total_required)
  
  // è®¡ç®—å¯ä»¥æ”¯æŒçš„é¢å¤–é¡¹ç›®æ•°ï¼ˆæ¯ä¸ªé¡¹ç›®éœ€è¦10ä¸ªèµ„æºï¼‰
  let additional_projects = divide_with_ceil(remaining, 10)
  
  assert_eq(90, total_required)  // 15 + 25 + 30 + 20 = 90
  assert_eq(10, remaining)  // 100 - 90 = 10
  assert_eq(1, additional_projects)  // ceil(10 / 10) = 1
}

test "error_boundary_conditions" {
  // é”™è¯¯è¾¹ç•Œæ¡ä»¶æµ‹è¯•
  // æµ‹è¯•é™¤æ•°ä¸ºé›¶çš„å„ç§æƒ…å†µ
  assert_eq(0, divide_with_ceil(0, 0))
  assert_eq(0, divide_with_ceil(100, 0))
  assert_eq(0, divide_with_ceil(-100, 0))
  
  // æµ‹è¯•æå€¼è¿ç®—
  assert_eq(0, multiply(2147483647, 0))
  assert_eq(0, multiply(-2147483648, 0))
  assert_eq(0, multiply(0, 2147483647))
  assert_eq(0, multiply(0, -2147483648))
}