// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// è¦†ç›– azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

test "add_basic_functionality" {
  // æµ‹è¯•åŸºæœ¬åŠ æ³•åŠŸèƒ½
  let result = azimuth::add(10, 20)
  @azimuth.assert_eq(30, result)
  
  // æµ‹è¯•è´Ÿæ•°åŠ æ³•
  let negative_result = azimuth::add(-5, 15)
  @azimuth.assert_eq(10, negative_result)
}

test "add_overflow_protection" {
  // æµ‹è¯•æ­£æ•°æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let overflow_result = azimuth::add(max_val, 1)
  @azimuth.assert_eq(max_val, overflow_result)
  
  // æµ‹è¯•è´Ÿæ•°æº¢å‡ºä¿æŠ¤
  let min_val = -2147483648
  let underflow_result = azimuth::add(min_val, -1)
  @azimuth.assert_eq(min_val, underflow_result)
}

test "multiply_basic_functionality" {
  // æµ‹è¯•åŸºæœ¬ä¹˜æ³•åŠŸèƒ½
  let result = azimuth::multiply(6, 7)
  @azimuth.assert_eq(42, result)
  
  // æµ‹è¯•ä¸é›¶ç›¸ä¹˜
  let zero_result = azimuth::multiply(123, 0)
  @azimuth.assert_eq(0, zero_result)
}

test "multiply_overflow_protection" {
  // æµ‹è¯•ä¹˜æ³•æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let overflow_result = azimuth::multiply(max_val, 2)
  @azimuth.assert_eq(max_val, overflow_result)
  
  // æµ‹è¯•æœ€å°å€¼ä¹˜æ³•
  let min_val = -2147483648
  let min_multiply = azimuth::multiply(min_val, 1)
  @azimuth.assert_eq(min_val, min_multiply)
}

test "greet_function_variations" {
  // æµ‹è¯•åŸºæœ¬é—®å€™åŠŸèƒ½
  let basic_greeting = azimuth::greet("MoonBit")
  @azimuth.assert_eq_string("Hello, MoonBit!", basic_greeting)
  
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²
  let empty_greeting = azimuth::greet("")
  @azimuth.assert_eq_string("Hello, !", empty_greeting)
  
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦
  let special_greeting = azimuth::greet("æµ‹è¯•@123")
  @azimuth.assert_eq_string("Hello, æµ‹è¯•@123!", special_greeting)
}

test "complex_calculation_scenario" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯ï¼šè®¡ç®—çŸ©å½¢é¢ç§¯å’Œå‘¨é•¿
  let length = 8
  let width = 5
  
  // è®¡ç®—é¢ç§¯
  let area = azimuth::multiply(length, width)
  @azimuth.assert_eq(40, area)
  
  // è®¡ç®—å‘¨é•¿ï¼š2 Ã— (length + width)
  let perimeter = azimuth::multiply(2, azimuth::add(length, width))
  @azimuth.assert_eq(26, perimeter)
}

test "financial_calculation" {
  // æµ‹è¯•é‡‘èè®¡ç®—åœºæ™¯ï¼šç®€å•åˆ©æ¯è®¡ç®—
  let principal = 1000
  let rate = 5
  let years = 3
  
  // è®¡ç®—åˆ©æ¯ï¼šprincipal Ã— rate Ã— years
  let interest = azimuth::multiply(principal, azimuth::multiply(rate, years))
  @azimuth.assert_eq(15000, interest)
  
  // è®¡ç®—æ€»é¢ï¼šprincipal + interest
  let total = azimuth::add(principal, interest)
  @azimuth.assert_eq(16000, total)
}

test "boundary_value_combinations" {
  // æµ‹è¯•è¾¹ç•Œå€¼ç»„åˆ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼ä¸æœ€å°å€¼ç›¸åŠ 
  let sum_result = azimuth::add(max_val, min_val)
  @azimuth.assert_eq(-1, sum_result)
  
  // æœ€å¤§å€¼ä¸1ç›¸ä¹˜
  let max_multiply = azimuth::multiply(max_val, 1)
  @azimuth.assert_eq(max_val, max_multiply)
  
  // æœ€å°å€¼ä¸1ç›¸ä¹˜
  let min_multiply = azimuth::multiply(min_val, 1)
  @azimuth.assert_eq(min_val, min_multiply)
}

test "assert_functions_verification" {
  // æµ‹è¯•æ–­è¨€å‡½æ•°
  @azimuth.assert_true(true)
  @azimuth.assert_false(false)
  @azimuth.assert_eq(42, 42)
  @azimuth.assert_eq_string("test", "test")
  
  // æµ‹è¯•è®¡ç®—ç»“æœçš„æ–­è¨€
  let calc_result = azimuth::add(azimuth::multiply(3, 4), azimuth::multiply(2, 5))
  @azimuth.assert_eq(22, calc_result)  // 3*4 + 2*5 = 12 + 10 = 22
}

test "string_processing_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
  // æµ‹è¯•é•¿å­—ç¬¦ä¸²
  let long_name = "ThisIsAVeryLongNameThatTestsStringHandlingCapabilities"
  let long_result = azimuth::greet(long_name)
  @azimuth.assert_eq_string("Hello, " + long_name + "!", long_result)
  
  // æµ‹è¯•åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
  let spaced_name = "  Leading and trailing spaces  "
  let spaced_result = azimuth::greet(spaced_name)
  @azimuth.assert_eq_string("Hello,   Leading and trailing spaces  !", spaced_result)
  
  // æµ‹è¯•Unicodeå­—ç¬¦
  let unicode_name = "ğŸŒğŸš€"
  let unicode_result = azimuth::greet(unicode_name)
  @azimuth.assert_eq_string("Hello, ğŸŒğŸš€!", unicode_result)
}