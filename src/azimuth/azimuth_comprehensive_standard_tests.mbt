// Azimuth ç»¼åˆæ ‡å‡†æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œè¦†ç›–æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

test "add_function_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  assert_eq(15, add(7, 8))
  assert_eq(15, add(8, 7))
  assert_eq(0, add(5, -5))
  assert_eq(0, add(-5, 5))
  assert_eq(-10, add(-3, -7))
  assert_eq(-10, add(-7, -3))
}

test "multiply_function_properties" {
  // æµ‹è¯•ä¹˜æ³•æ€§è´¨
  assert_eq(0, multiply(5, 0))  // é›¶å…ƒç´ æ€§è´¨
  assert_eq(0, multiply(0, 5))
  assert_eq(7, multiply(7, 1))  // å•ä½å…ƒæ€§è´¨
  assert_eq(7, multiply(1, 7))
  assert_eq(-21, multiply(3, -7))  // è´Ÿæ•°ä¹˜æ³•
  assert_eq(21, multiply(-3, -7))  // è´Ÿè´Ÿå¾—æ­£
}

test "divide_with_ceil_comprehensive" {
  // å…¨é¢æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•
  // æ­£æ•°æƒ…å†µ
  assert_eq(4, divide_with_ceil(10, 3))   // 3.333... -> 4
  assert_eq(3, divide_with_ceil(9, 3))    // 3 -> 3
  assert_eq(1, divide_with_ceil(1, 100))  // 0.01 -> 1
  
  // è´Ÿæ•°æƒ…å†µ
  assert_eq(-3, divide_with_ceil(-10, 3))  // -3.333... -> -3
  assert_eq(-4, divide_with_ceil(-11, 3))  // -3.666... -> -4
  assert_eq(4, divide_with_ceil(-10, -3))  // 3.333... -> 4
  
  // è¾¹ç•Œæƒ…å†µ
  assert_eq(0, divide_with_ceil(5, 0))     // é™¤æ•°ä¸ºé›¶
  assert_eq(0, divide_with_ceil(0, 5))     // è¢«é™¤æ•°ä¸ºé›¶
  assert_eq(0, divide_with_ceil(0, 0))     // ä¸¤è€…éƒ½ä¸ºé›¶
}

test "greet_function_various_inputs" {
  // æµ‹è¯•å„ç§è¾“å…¥çš„é—®å€™åŠŸèƒ½
  assert_eq_string("Hello, World!", greet("World"))
  assert_eq_string("Hello, MoonBit!", greet("MoonBit"))
  assert_eq_string("Hello, !", greet(""))  // ç©ºå­—ç¬¦ä¸²
  assert_eq_string("Hello,  !", greet(" "))  // ç©ºæ ¼
  assert_eq_string("Hello, A!", greet("A"))  // å•å­—ç¬¦
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))  // ä¸­æ–‡
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))  // è¡¨æƒ…ç¬¦å·
}

test "complex_business_calculation" {
  // å¤æ‚ä¸šåŠ¡è®¡ç®—ï¼šè®¢å•æ€»ä»·
  let unit_price = 25
  let quantity = 8
  let shipping = 15
  let discount = 20
  
  // è®¡ç®—å°è®¡
  let subtotal = multiply(unit_price, quantity)
  // è®¡ç®—æ€»ä»·ï¼ˆå«è¿è´¹ï¼‰
  let total_before_discount = add(subtotal, shipping)
  // åº”ç”¨æŠ˜æ‰£
  let final_total = add(total_before_discount, -discount)
  
  assert_eq(200, subtotal)
  assert_eq(215, total_before_discount)
  assert_eq(195, final_total)
}

test "packaging_and_shipping_calculation" {
  // åŒ…è£…å’Œè¿è¾“è®¡ç®—
  let total_items = 47
  let items_per_box = 12
  let boxes_needed = divide_with_ceil(total_items, items_per_box)
  
  // è®¡ç®—è¿è¾“æˆæœ¬ï¼ˆæ¯ç®±5å…ƒï¼‰
  let shipping_cost_per_box = 5
  let total_shipping_cost = multiply(boxes_needed, shipping_cost_per_box)
  
  assert_eq(4, boxes_needed)  // ceil(47/12) = 4
  assert_eq(20, total_shipping_cost)  // 4 * 5 = 20
}

test "mathematical_distributive_property" {
  // æµ‹è¯•åˆ†é…å¾‹ï¼ša * (b + c) = a * b + a * c
  let a = 3
  let b = 4
  let c = 5
  
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  
  assert_eq(left_side, right_side)  // 3 * (4 + 5) = 3 * 4 + 3 * 5 = 27
}

test "time_and_resource_calculation" {
  // æ—¶é—´å’Œèµ„æºè®¡ç®—
  let tasks_per_day = 8
  let total_tasks = 35
  let days_needed = divide_with_ceil(total_tasks, tasks_per_day)
  
  // è®¡ç®—æ€»å·¥ä½œå°æ—¶ï¼ˆæ¯å¤©8å°æ—¶ï¼‰
  let total_hours = multiply(days_needed, 8)
  
  // è®¡ç®—æ€»å·¥ä½œåˆ†é’Ÿ
  let total_minutes = multiply(total_hours, 60)
  
  assert_eq(5, days_needed)  // ceil(35/8) = 5
  assert_eq(40, total_hours)  // 5 * 8 = 40
  assert_eq(2400, total_minutes)  // 40 * 60 = 2400
}

test "financial_calculation_with_interest" {
  // é‡‘èè®¡ç®—ï¼šå¸¦åˆ©æ¯çš„è´·æ¬¾
  let principal = 1000
  let interest_rate = 5  // 5%
  let loan_term_years = 3
  
  // ç®€å•åˆ©æ¯è®¡ç®—ï¼ˆæ¯å¹´ï¼‰
  let annual_interest = divide_with_ceil(multiply(principal, interest_rate), 100)
  let total_interest = multiply(annual_interest, loan_term_years)
  let total_repayment = add(principal, total_interest)
  
  assert_eq(50, annual_interest)  // ceil(1000 * 5 / 100) = 50
  assert_eq(150, total_interest)  // 50 * 3 = 150
  assert_eq(1150, total_repayment)  // 1000 + 150 = 1150
}

test "data_processing_and_analysis" {
  // æ•°æ®å¤„ç†å’Œåˆ†æ
  let data_points = 1000
  let sample_size = 75
  let processing_time_per_sample = 3  // åˆ†é’Ÿ
  
  // è®¡ç®—éœ€è¦çš„æ‰¹æ¬¡æ•°
  let batches_needed = divide_with_ceil(data_points, sample_size)
  
  // è®¡ç®—æ€»å¤„ç†æ—¶é—´
  let total_processing_time = multiply(batches_needed, processing_time_per_sample)
  
  // è®¡ç®—æ¯å°æ—¶å¯ä»¥å¤„ç†çš„æ ·æœ¬æ•°
  let samples_per_hour = divide_with_ceil(60, processing_time_per_sample)
  
  assert_eq(14, batches_needed)  // ceil(1000/75) = 14
  assert_eq(42, total_processing_time)  // 14 * 3 = 42
  assert_eq(20, samples_per_hour)  // ceil(60/3) = 20
}