// æ ‡å‡† MoonBit æµ‹è¯•å¥—ä»¶ - å¢å¼ºç‰ˆ
// æµ‹è¯• azimuth åŒ…çš„æ ¸å¿ƒåŠŸèƒ½

test "enhanced_add_commutativity" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  let a = 12345
  let b = 67890
  
  let result1 = add(a, b)
  let result2 = add(b, a)
  assert_eq(result1, result2)
  
  // æµ‹è¯•åŒ…å«è´Ÿæ•°çš„æƒ…å†µ
  let c = -12345
  let d = 67890
  
  let result3 = add(c, d)
  let result4 = add(d, c)
  assert_eq(result3, result4)
}

test "enhanced_multiply_distributivity" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ï¼ša Ã— (b + c) = a Ã— b + a Ã— c
  let a = 15
  let b = 20
  let c = 25
  
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  assert_eq(left_side, right_side)
}

test "enhanced_divide_with_ceil_functionality" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•åŠŸèƒ½
  // æ­£å¸¸æƒ…å†µ
  assert_eq(3, divide_with_ceil(10, 4))
  assert_eq(3, divide_with_ceil(11, 4))
  assert_eq(3, divide_with_ceil(12, 4))
  assert_eq(4, divide_with_ceil(13, 4))
  
  // è¾¹ç•Œæƒ…å†µ
  assert_eq(0, divide_with_ceil(0, 5))
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(1, divide_with_ceil(5, 5))
  
  // è´Ÿæ•°æƒ…å†µ
  assert_eq(-2, divide_with_ceil(-7, 4))
  assert_eq(-1, divide_with_ceil(-4, 4))
}

test "enhanced_string_processing_multilingual" {
  // æµ‹è¯•å¤šè¯­è¨€å­—ç¬¦ä¸²å¤„ç†
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  assert_eq_string("Hello, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!", greet("Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"))
  assert_eq_string("Hello, ğŸŒ!", greet("ğŸŒ"))
}

test "enhanced_mathematical_series" {
  // æµ‹è¯•æ•°å­¦çº§æ•°è®¡ç®—
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—ï¼š2 + 4 + 8 + 16 = 30
  let term1 = 2
  let term2 = multiply(term1, 2)
  let term3 = multiply(term2, 2)
  let term4 = multiply(term3, 2)
  
  let series_sum = add(add(add(term1, term2), term3), term4)
  assert_eq(30, series_sum)
}

test "enhanced_boundary_stress_test" {
  // è¾¹ç•Œå€¼å‹åŠ›æµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // è¿ç»­è¾¹ç•Œè¿ç®—
  let step1 = add(max_val, -1000000)
  let step2 = add(step1, 500000)
  let step3 = add(step2, -250000)
  let step4 = add(step3, 125000)
  let step5 = add(step4, -62500)
  
  assert_eq(2147483647, step5)
  
  // ä¹˜æ³•é“¾æµ‹è¯•
  let mul_step1 = multiply(1000, 1000)
  let mul_step2 = multiply(mul_step1, 1000)
  let mul_step3 = multiply(mul_step2, 2)
  
  assert_eq(2000000000, mul_step3)
}

test "enhanced_financial_compound_interest" {
  // å¤åˆ©è®¡ç®—æµ‹è¯•ï¼ˆæ›´ç²¾ç¡®çš„ç‰ˆæœ¬ï¼‰
  let principal = 10000
  let rate_percent = 8
  let years = 4
  
  // ç®€åŒ–çš„å¤åˆ©è®¡ç®—ï¼Œé¿å…æµ®ç‚¹æ•°
  // æœ¬æ¯å’Œ = æœ¬é‡‘ Ã— (1 + åˆ©ç‡%)^å¹´æ•°
  let growth_factor = add(100, rate_percent)
  let growth_squared = multiply(growth_factor, growth_factor)
  let growth_fourth = multiply(growth_squared, growth_squared)
  let total = multiply(principal, growth_fourth) / 1000000
  
  assert_eq(13605, total)
}

test "enhanced_scientific_notation_simulation" {
  // ç§‘å­¦è®¡æ•°æ³•æ¨¡æ‹Ÿæµ‹è¯•
  // æ¨¡æ‹Ÿ 1.23 Ã— 10^6 = 1230000
  let mantissa = 123
  let exponent = 4
  let result = multiply(mantissa, multiply(10, multiply(10, multiply(10, 10))))
  assert_eq(1230000, result)
  
  // æ¨¡æ‹Ÿ 4.56 Ã— 10^3 = 4560
  let mantissa2 = 456
  let exponent2 = 1
  let result2 = multiply(mantissa2, 10)
  assert_eq(4560, result2)
}

test "enhanced_error_boundary_conditions" {
  // é”™è¯¯è¾¹ç•Œæ¡ä»¶æµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•è¿ç»­æº¢å‡ºæ“ä½œ
  let overflow1 = add(max_val, 1000)
  let overflow2 = add(overflow1, 1000)
  let overflow3 = add(overflow2, 1000)
  
  assert_eq(max_val, overflow3)
  
  // æµ‹è¯•ä¹˜æ³•æº¢å‡ºé“¾
  let mul_overflow1 = multiply(100000, 100000)
  let mul_overflow2 = multiply(mul_overflow1, 1000)
  
  assert_eq(max_val, mul_overflow2)
  
  // æµ‹è¯•æ–­è¨€å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  assert_true(max_val > 0)
  assert_false(min_val > 0)
  assert_eq(max_val, 2147483647)
  assert_eq_string("max", "max")
}

test "enhanced_real_world_inventory_management" {
  // å®é™…åº“å­˜ç®¡ç†åœºæ™¯æµ‹è¯•
  let initial_stock = 1000
  let sales_day1 = 150
  let sales_day2 = 200
  let sales_day3 = 175
  let restock_day2 = 300
  let restock_day3 = 500
  
  // è®¡ç®—æ¯æ—¥åº“å­˜
  let stock_day1 = add(initial_stock, -sales_day1)
  let stock_day2_before = add(stock_day1, -sales_day2)
  let stock_day2_after = add(stock_day2_before, restock_day2)
  let stock_day3_before = add(stock_day2_after, -sales_day3)
  let stock_day3_after = add(stock_day3_before, restock_day3)
  
  assert_eq(1275, stock_day3_after)
  
  // è®¡ç®—æ€»é”€å”®é¢
  let total_sales = add(add(sales_day1, sales_day2), sales_day3)
  assert_eq(525, total_sales)
  
  // è®¡ç®—æ€»è¡¥è´§é‡
  let total_restock = add(restock_day2, restock_day3)
  assert_eq(800, total_restock)
}