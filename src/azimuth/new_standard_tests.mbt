// æ–°æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹ - é’ˆå¯¹ azimuth åº“çš„ç»¼åˆæµ‹è¯•
// åŒ…å«ä¸è¶…è¿‡10ä¸ªé«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

test "arithmetic_commutative_properties" {
  // æµ‹è¯•ç®—æœ¯è¿ç®—çš„äº¤æ¢å¾‹æ€§è´¨
  let a = 15
  let b = 27
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(add(a, b), add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(multiply(a, b), multiply(b, a))
  
  // éªŒè¯å…·ä½“æ•°å€¼
  assert_eq(42, add(15, 27))
  assert_eq(405, multiply(15, 27))
}

test "divide_with_ceil_complex_scenarios" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„å¤æ‚åœºæ™¯
  // åœºæ™¯1: æ­£æ•°é™¤æ³•
  assert_eq(4, divide_with_ceil(10, 3))
  assert_eq(3, divide_with_ceil(9, 3))
  assert_eq(1, divide_with_ceil(1, 100))
  
  // åœºæ™¯2: è´Ÿæ•°é™¤æ³•
  assert_eq(-3, divide_with_ceil(-10, 3))
  assert_eq(4, divide_with_ceil(-10, -3))
  
  // åœºæ™¯3: é™¤é›¶å¤„ç†
  assert_eq(0, divide_with_ceil(10, 0))
  assert_eq(0, divide_with_ceil(-10, 0))
  assert_eq(0, divide_with_ceil(0, 0))
}

test "greet_function_internationalization" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„å›½é™…åŒ–æ”¯æŒ
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  assert_eq_string("Hello, cafÃ©!", greet("cafÃ©"))
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))
  assert_eq_string("Hello, Ã±oÃ±o!", greet("Ã±oÃ±o"))
  assert_eq_string("Hello, empty!", greet(""))
}

test "business_logic_resource_calculation" {
  // ä¸šåŠ¡é€»è¾‘ï¼šèµ„æºè®¡ç®—æµ‹è¯•
  // åœºæ™¯ï¼šé¡¹ç›®èµ„æºåˆ†é…
  let total_tasks = 47
  let team_members = 6
  let tasks_per_member = divide_with_ceil(total_tasks, team_members)
  
  assert_eq(8, tasks_per_member)  // ceil(47/6) = 8
  
  // è®¡ç®—æ€»å¤„ç†èƒ½åŠ›
  let total_capacity = multiply(tasks_per_member, team_members)
  assert_eq(48, total_capacity)
  
  // è®¡ç®—å‰©ä½™èƒ½åŠ›
  let remaining_capacity = subtract(total_capacity, total_tasks)
  assert_eq(1, remaining_capacity)
}

test "mathematical_distributive_property" {
  // æµ‹è¯•æ•°å­¦åˆ†é…å¾‹
  let a = 5
  let b = 12
  let c = 7
  
  // éªŒè¯åˆ†é…å¾‹: a * (b + c) = a * b + a * c
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  
  assert_eq(left_side, right_side)
  assert_eq(95, left_side)  // 5 * (12 + 7) = 5 * 19 = 95
}

test "error_handling_and_boundary_values" {
  // é”™è¯¯å¤„ç†å’Œè¾¹ç•Œå€¼æµ‹è¯•
  // æå€¼æµ‹è¯•
  assert_eq(0, add(0, 0))
  assert_eq(0, multiply(0, 12345))
  assert_eq(1, multiply(1, 1))
  assert_eq(-1, multiply(1, -1))
  
  // è¾¹ç•Œæƒ…å†µ
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(1, divide_with_ceil(-1, -1))
  assert_eq(0, divide_with_ceil(0, 1))
  assert_eq(0, divide_with_ceil(0, -1))
}

test "complex_calculation_pipeline" {
  // å¤æ‚è®¡ç®—æµæ°´çº¿æµ‹è¯•
  // åœºæ™¯ï¼šå¤šæ­¥éª¤è®¡ç®—
  let initial_value = 20
  
  // æ­¥éª¤1: åŠ æ³•è¿ç®—
  let step1 = add(initial_value, 15)  // 35
  
  // æ­¥éª¤2: ä¹˜æ³•è¿ç®—
  let step2 = multiply(step1, 3)  // 105
  
  // æ­¥éª¤3: é™¤æ³•è¿ç®—
  let step3 = divide_with_ceil(step2, 25)  // 5
  
  // æ­¥éª¤4: æœ€ç»ˆéªŒè¯
  assert_eq(5, step3)
  
  // éªŒè¯ä¸­é—´æ­¥éª¤
  assert_eq(35, step1)
  assert_eq(105, step2)
}

test "string_processing_edge_cases" {
  // å­—ç¬¦ä¸²å¤„ç†è¾¹ç¼˜æƒ…å†µæµ‹è¯•
  // ç‰¹æ®Šå­—ç¬¦å’Œæ ¼å¼
  assert_eq_string("Hello, 12345!", greet("12345"))
  assert_eq_string("Hello, !@#$%^&*()!", greet("!@#$%^&*()"))
  assert_eq_string("Hello,   spaces   !", greet("   spaces   "))
  assert_eq_string("Hello, \n\t\r!", greet("\n\t\r"))
  assert_eq_string("Hello, \"quoted\"!", greet("\"quoted\""))
  assert_eq_string("Hello, 'apostrophe'!", greet("'apostrophe'"))
}

test "performance_large_number_operations" {
  // å¤§æ•°è¿ç®—æ€§èƒ½æµ‹è¯•
  // å¤§æ•°åŠ æ³•
  assert_eq(2000000, add(1000000, 1000000))
  
  // å¤§æ•°ä¹˜æ³•
  assert_eq(1000000, multiply(1000, 1000))
  
  // å¤§æ•°é™¤æ³•
  assert_eq(1001, divide_with_ceil(1000000, 999))
  assert_eq(1000, divide_with_ceil(1000000, 1000))
  assert_eq(999, divide_with_ceil(1000000, 1001))
}

test "real_world_application_scenario" {
  // çœŸå®ä¸–ç•Œåº”ç”¨åœºæ™¯æµ‹è¯•
  // åœºæ™¯ï¼šæ´»åŠ¨å®‰æ’å’Œåº§ä½åˆ†é…
  let participants = 87
  let tables_available = 8
  let chairs_per_table = 10
  
  // è®¡ç®—éœ€è¦çš„æ¡Œå­æ•°é‡
  let tables_needed = divide_with_ceil(participants, chairs_per_table)
  assert_eq(9, tables_needed)  // ceil(87/10) = 9
  
  // æ£€æŸ¥æ˜¯å¦æœ‰è¶³å¤Ÿçš„æ¡Œå­
  let enough_tables = tables_needed <= tables_available
  assert_true(enough_tables)
  
  // è®¡ç®—æ€»åº§ä½æ•°
  let total_seats = multiply(tables_needed, chairs_per_table)
  assert_eq(90, total_seats)
  
  // è®¡ç®—å‰©ä½™åº§ä½
  let remaining_seats = subtract(total_seats, participants)
  assert_eq(3, remaining_seats)
}

// è¾…åŠ©å‡½æ•°ï¼šå‡æ³•
fn subtract(a : Int, b : Int) -> Int {
  a - b
}