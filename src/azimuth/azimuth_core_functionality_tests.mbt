// Azimuth æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

test "add_function_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  azimuth::assert_eq(15, azimuth::add(7, 8))
  azimuth::assert_eq(15, azimuth::add(8, 7))
  azimuth::assert_eq(0, azimuth::add(-5, 5))
  azimuth::assert_eq(0, azimuth::add(5, -5))
}

test "multiply_function_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹
  let a = 3
  let b = 4
  let c = 5
  
  // a * (b + c) = a * b + a * c
  let left_side = azimuth::multiply(a, azimuth::add(b, c))
  let right_side = azimuth::add(azimuth::multiply(a, b), azimuth::multiply(a, c))
  azimuth::assert_eq(left_side, right_side)
}

test "divide_with_ceil_comprehensive" {
  // å…¨é¢æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•
  azimuth::assert_eq(4, azimuth::divide_with_ceil(11, 3))  // 11/3 = 3.666... -> 4
  azimuth::assert_eq(3, azimuth::divide_with_ceil(9, 3))   // 9/3 = 3 -> 3
  azimuth::assert_eq(-3, azimuth::divide_with_ceil(-10, 3)) // -10/3 = -3.333... -> -3
  azimuth::assert_eq(0, azimuth::divide_with_ceil(5, 0))    // é™¤æ•°ä¸º0æ—¶çš„å®‰å…¨å¤„ç†
}

test "greet_function_unicode_support" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„Unicodeæ”¯æŒ
  azimuth::assert_eq_string("Hello, ä¸–ç•Œ!", azimuth::greet("ä¸–ç•Œ"))
  azimuth::assert_eq_string("Hello, ğŸš€!", azimuth::greet("ğŸš€"))
  azimuth::assert_eq_string("Hello, CafÃ©!", azimuth::greet("CafÃ©"))
  azimuth::assert_eq_string("Hello, !", azimuth::greet(""))
}

test "complex_business_calculation" {
  // å¤æ‚ä¸šåŠ¡è®¡ç®—ï¼šè®¢å•æ€»ä»·
  let unit_price = 45
  let quantity = 6
  let shipping = 12
  let tax_rate = 8
  
  let subtotal = azimuth::multiply(unit_price, quantity)
  let tax = azimuth::divide_with_ceil(azimuth::multiply(subtotal, tax_rate), 100)
  let total = azimuth::add(azimuth::add(subtotal, tax), shipping)
  
  azimuth::assert_eq(270, subtotal)
  azimuth::assert_eq(22, tax)
  azimuth::assert_eq(304, total)
}

test "mathematical_series_sum" {
  // æ•°å­¦çº§æ•°æ±‚å’Œï¼šç­‰å·®æ•°åˆ— 1+2+3+...+10
  let n = 10
  let sum = azimuth::divide_with_ceil(azimuth::multiply(n, azimuth::add(n, 1)), 2)
  azimuth::assert_eq(55, sum)
}

test "inventory_packaging_optimization" {
  // åº“å­˜åŒ…è£…ä¼˜åŒ–
  let items_per_box = 12
  let total_items = 85
  
  let boxes_needed = azimuth::divide_with_ceil(total_items, items_per_box)
  let unused_space = azimuth::multiply(boxes_needed, items_per_box) - total_items
  
  azimuth::assert_eq(8, boxes_needed)
  azimuth::assert_eq(11, unused_space)
}

test "financial_compound_interest" {
  // é‡‘èå¤åˆ©è®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let principal = 1000
  let rate_percent = 5
  let years = 3
  
  let amount_year1 = azimuth::add(principal, azimuth::divide_with_ceil(azimuth::multiply(principal, rate_percent), 100))
  let amount_year2 = azimuth::add(amount_year1, azimuth::divide_with_ceil(azimuth::multiply(amount_year1, rate_percent), 100))
  let amount_year3 = azimuth::add(amount_year2, azimuth::divide_with_ceil(azimuth::multiply(amount_year2, rate_percent), 100))
  
  azimuth::assert_eq(1050, amount_year1)
  azimuth::assert_eq(1103, amount_year2)
  azimuth::assert_eq(1158, amount_year3)
}

test "time_management_calculation" {
  // æ—¶é—´ç®¡ç†è®¡ç®—
  let daily_tasks = 8
  let total_tasks = 35
  let work_hours_per_day = 8
  
  let days_needed = azimuth::divide_with_ceil(total_tasks, daily_tasks)
  let total_work_hours = azimuth::multiply(days_needed, work_hours_per_day)
  
  azimuth::assert_eq(5, days_needed)
  azimuth::assert_eq(40, total_work_hours)
}

test "error_handling_boundary_cases" {
  // é”™è¯¯å¤„ç†è¾¹ç•Œæƒ…å†µ
  azimuth::assert_eq(0, azimuth::divide_with_ceil(0, 0))    // 0é™¤ä»¥0
  azimuth::assert_eq(0, azimuth::divide_with_ceil(100, 0))   // æ­£æ•°é™¤ä»¥0
  azimuth::assert_eq(0, azimuth::divide_with_ceil(-100, 0))  // è´Ÿæ•°é™¤ä»¥0
  azimuth::assert_eq(0, azimuth::multiply(0, 0))             // 0ä¹˜ä»¥0
  azimuth::assert_eq(0, azimuth::add(0, 0))                  // 0åŠ 0
}