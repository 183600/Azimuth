// æ ‡å‡† MoonBit æµ‹è¯•å¥—ä»¶
// é’ˆå¯¹ azimuth åº“æ ¸å¿ƒåŠŸèƒ½çš„ç»¼åˆæµ‹è¯•

test "add_function_boundary_values" {
  // æµ‹è¯•åŠ æ³•å‡½æ•°çš„è¾¹ç•Œå€¼
  assert_eq(0, add(0, 0))
  assert_eq(1, add(1, 0))
  assert_eq(-1, add(-1, 0))
  assert_eq(2147483647, add(2147483646, 1))
  assert_eq(-2147483648, add(-2147483647, -1))
}

test "multiply_function_properties" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„æ•°å­¦æ€§è´¨
  assert_eq(0, multiply(5, 0))
  assert_eq(0, multiply(0, 5))
  assert_eq(1, multiply(1, 1))
  assert_eq(-1, multiply(1, -1))
  assert_eq(1, multiply(-1, -1))
  assert_eq(1000000, multiply(1000, 1000))
}

test "divide_with_ceil_comprehensive" {
  // å…¨é¢æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•å‡½æ•°
  // æ­£æ•°æƒ…å†µ
  assert_eq(4, divide_with_ceil(11, 3))
  assert_eq(3, divide_with_ceil(9, 3))
  assert_eq(1, divide_with_ceil(1, 100))
  
  // è´Ÿæ•°æƒ…å†µ
  assert_eq(-3, divide_with_ceil(-10, 3))
  assert_eq(-4, divide_with_ceil(-11, 3))
  assert_eq(4, divide_with_ceil(-11, -3))
  
  // é›¶é™¤æ•°å®‰å…¨å¤„ç†
  assert_eq(0, divide_with_ceil(100, 0))
  assert_eq(0, divide_with_ceil(-100, 0))
  assert_eq(0, divide_with_ceil(0, 0))
}

test "greet_function_unicode_support" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„ Unicode æ”¯æŒ
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ðŸŒŸ!", greet("ðŸŒŸ"))
  assert_eq_string("Hello, Ã±Ã¡Ã©Ã­Ã³Ãº!", greet("Ã±Ã¡Ã©Ã­Ã³Ãº"))
  assert_eq_string("Hello, Î±Î²Î³!", greet("Î±Î²Î³"))
  assert_eq_string("Hello, ðŸš€ðŸ›¸!", greet("ðŸš€ðŸ›¸"))
}

test "complex_financial_calculation" {
  // å¤æ‚é‡‘èžè®¡ç®—åœºæ™¯
  let principal = 10000
  let interest_rate = 5
  let years = 3
  
  // è®¡ç®—å¤åˆ©ï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼Œä½¿ç”¨å‘ä¸Šå–æ•´ï¼‰
  let year1 = add(principal, divide_with_ceil(multiply(principal, interest_rate), 100))
  let year2 = add(year1, divide_with_ceil(multiply(year1, interest_rate), 100))
  let year3 = add(year2, divide_with_ceil(multiply(year2, interest_rate), 100))
  
  assert_eq(10500, year1)
  assert_eq(11025, year2)
  assert_eq(11576, year3)
}

test "inventory_management_system" {
  // åº“å­˜ç®¡ç†ç³»ç»Ÿæµ‹è¯•
  let initial_stock = 500
  let daily_sales = 25
  let days = 15
  let new_shipment = 300
  
  // è®¡ç®—é”€å”®åŽçš„åº“å­˜
  let total_sales = multiply(daily_sales, days)
  let stock_after_sales = add(initial_stock, -total_sales)
  
  // æ”¶åˆ°æ–°è´§åŽçš„åº“å­˜
  let final_stock = add(stock_after_sales, new_shipment)
  
  assert_eq(375, total_sales)
  assert_eq(125, stock_after_sales)
  assert_eq(425, final_stock)
}

test "mathematical_distributive_law" {
  // æµ‹è¯•æ•°å­¦åˆ†é…å¾‹ï¼ša * (b + c) = a * b + a * c
  let a = 7
  let b = 12
  let c = 8
  
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  
  assert_eq(left_side, right_side)
  assert_eq(140, left_side)
}

test "project_resource_allocation" {
  // é¡¹ç›®èµ„æºåˆ†é…æµ‹è¯•
  let total_budget = 50000
  let team_members = 8
  let project_duration_days = 30
  
  // è®¡ç®—æ¯äººæ¯æ—¥é¢„ç®—
  let daily_budget_per_person = divide_with_ceil(
    divide_with_ceil(total_budget, team_members), 
    project_duration_days
  )
  
  // è®¡ç®—æ€»é¡¹ç›®æˆæœ¬ï¼ˆå¯èƒ½å› å‘ä¸Šå–æ•´è€Œå¢žåŠ ï¼‰
  let actual_total_cost = multiply(
    multiply(daily_budget_per_person, team_members), 
    project_duration_days
  )
  
  assert_eq(209, daily_budget_per_person)
  assert_eq(50160, actual_total_cost)
}

test "string_processing_edge_cases" {
  // å­—ç¬¦ä¸²å¤„ç†è¾¹ç•Œæƒ…å†µ
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello,  !", greet(" "))
  assert_eq_string("Hello, A!", greet("A"))
  assert_eq_string("Hello, This is a very long name!", greet("This is a very long name"))
  assert_eq_string("Hello, line\nbreak!", greet("line\nbreak"))
  assert_eq_string("Hello, tab\tcharacter!", greet("tab\tcharacter"))
}

test "comprehensive_business_workflow" {
  // ç»¼åˆä¸šåŠ¡å·¥ä½œæµæµ‹è¯•
  let product_cost = 150
  let quantity = 12
  let tax_rate = 8
  let shipping_per_item = 10
  let discount_threshold = 2000
  let discount_amount = 100
  
  // è®¡ç®—å°è®¡
  let subtotal = multiply(product_cost, quantity)
  
  // è®¡ç®—è¿è´¹
  let total_shipping = multiply(shipping_per_item, quantity)
  
  // è®¡ç®—ç¨Žè´¹
  let tax_amount = divide_with_ceil(multiply(subtotal, tax_rate), 100)
  
  // è®¡ç®—æŠ˜æ‰£å‰æ€»ä»·
  let pre_discount_total = add(add(subtotal, total_shipping), tax_amount)
  
  // åº”ç”¨æŠ˜æ‰£ï¼ˆå¦‚æžœæ»¡è¶³æ¡ä»¶ï¼‰
  let final_total = if pre_discount_total > discount_threshold {
    add(pre_discount_total, -discount_amount)
  } else {
    pre_discount_total
  }
  
  assert_eq(1800, subtotal)
  assert_eq(120, total_shipping)
  assert_eq(144, tax_amount)
  assert_eq(2064, pre_discount_total)
  assert_eq(1964, final_total)
}