// Enhanced MoonBit Test Cases
// å¢å¼ºçš„ MoonBit æµ‹è¯•ç”¨ä¾‹

// å¯¼å…¥å¿…è¦çš„å‡½æ•°
use "azimuth"

// æµ‹è¯•ç”¨ä¾‹ 1: åŸºæœ¬ç®—æœ¯è¿ç®—ç»„åˆæµ‹è¯•
test "arithmetic_combination_test" {
  // æµ‹è¯• (a + b) * c - d çš„å¤åˆè¿ç®—
  let a = 8
  let b = 12
  let c = 3
  let d = 15
  
  let sum_ab = azimuth.add(a, b)
  let product = azimuth.multiply(sum_ab, c)
  let result = azimuth.add(product, -d)
  
  azimuth.assert_eq(45, result)
}

// æµ‹è¯•ç”¨ä¾‹ 2: å­—ç¬¦ä¸²å¤„ç†è¾¹ç•Œæµ‹è¯•
test "string_boundary_test" {
  // æµ‹è¯•å„ç§å­—ç¬¦ä¸²è¾¹ç•Œæƒ…å†µ
  azimuth.assert_eq_string("Hello, !", azimuth.greet(""))
  azimuth.assert_eq_string("Hello, A!", azimuth.greet("A"))
  azimuth.assert_eq_string("Hello, 123!", azimuth.greet("123"))
  azimuth.assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", azimuth.greet("ä¸­æ–‡æµ‹è¯•"))
  azimuth.assert_eq_string("Hello, ğŸš€!", azimuth.greet("ğŸš€"))
}

// æµ‹è¯•ç”¨ä¾‹ 3: æå€¼è¿ç®—æµ‹è¯•
test "extreme_values_test" {
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æå€¼ç›¸åŠ 
  azimuth.assert_eq(-1, azimuth.add(max_val, min_val))
  azimuth.assert_eq(max_val, azimuth.add(max_val, 1))
  azimuth.assert_eq(min_val, azimuth.add(min_val, -1))
  
  // æµ‹è¯•æå€¼ç›¸ä¹˜
  azimuth.assert_eq(0, azimuth.multiply(max_val, 0))
  azimuth.assert_eq(min_val, azimuth.multiply(min_val, 1))
  azimuth.assert_eq(min_val, azimuth.multiply(min_val, -1))
}

// æµ‹è¯•ç”¨ä¾‹ 4: å®é™…åº”ç”¨åœºæ™¯ - è´­ç‰©è½¦è®¡ç®—
test "shopping_cart_test" {
  // å•†å“ä»·æ ¼å’Œæ•°é‡
  let item1_price = 199
  let item1_qty = 2
  let item2_price = 299
  let item2_qty = 1
  let shipping = 20
  
  // è®¡ç®—æ€»ä»·
  let total1 = azimuth.multiply(item1_price, item1_qty)
  let total2 = azimuth.multiply(item2_price, item2_qty)
  let subtotal = azimuth.add(total1, total2)
  let final_total = azimuth.add(subtotal, shipping)
  
  azimuth.assert_eq(717, final_total)
}

// æµ‹è¯•ç”¨ä¾‹ 5: æ•°å­¦æ€§è´¨éªŒè¯
test "mathematical_properties_test" {
  let a = 15
  let b = 25
  
  // éªŒè¯åŠ æ³•äº¤æ¢å¾‹
  azimuth.assert_eq(azimuth.add(a, b), azimuth.add(b, a))
  
  // éªŒè¯ä¹˜æ³•äº¤æ¢å¾‹
  azimuth.assert_eq(azimuth.multiply(a, b), azimuth.multiply(b, a))
  
  // éªŒè¯åˆ†é…å¾‹: a * (b + c) = a * b + a * c
  let c = 10
  let left_side = azimuth.multiply(a, azimuth.add(b, c))
  let right_side = azimuth.add(azimuth.multiply(a, b), azimuth.multiply(a, c))
  azimuth.assert_eq(left_side, right_side)
}

// æµ‹è¯•ç”¨ä¾‹ 6: æ¡ä»¶é€»è¾‘æµ‹è¯•
test "conditional_logic_test" {
  let x = 18
  let y = 25
  
  // æµ‹è¯•åŸºäºæ¯”è¾ƒçš„æ¡ä»¶è¿ç®—
  let is_greater = x > y
  let result = if is_greater { 
    azimuth.multiply(x, 2) 
  } else { 
    azimuth.add(y, 10) 
  }
  
  azimuth.assert_eq(35, result)
  
  // åå‘æµ‹è¯•
  let is_less = x < y
  let result2 = if is_less { 
    azimuth.multiply(x, 2) 
  } else { 
    azimuth.add(y, 10) 
  }
  
  azimuth.assert_eq(36, result2)
}

// æµ‹è¯•ç”¨ä¾‹ 7: æ•°åˆ—è®¡ç®—æµ‹è¯•
test "sequence_calculation_test" {
  // è®¡ç®—ç­‰å·®æ•°åˆ—å‰né¡¹å’Œ: 1 + 3 + 5 + ... + 19
  let n = 10
  let first_term = 1
  let last_term = 19
  
  let sum = azimuth.multiply(n, azimuth.add(first_term, last_term)) / 2
  azimuth.assert_eq(100, sum)
  
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—å‰né¡¹å’Œ: 2 + 4 + 8 + 16
  let term1 = 2
  let term2 = 4
  let term3 = 8
  let term4 = 16
  
  let geo_sum = azimuth.add(azimuth.add(azimuth.add(term1, term2), term3), term4)
  azimuth.assert_eq(30, geo_sum)
}

// æµ‹è¯•ç”¨ä¾‹ 8: å­—ç¬¦ä¸²ç»„åˆå¤„ç†æµ‹è¯•
test "string_combination_test" {
  // æµ‹è¯•å¤æ‚å­—ç¬¦ä¸²ç»„åˆ
  let username = "user123"
  let domain = "example.com"
  let email = username + "@" + domain
  
  // é€šè¿‡greetå‡½æ•°æµ‹è¯•å­—ç¬¦ä¸²æ‹¼æ¥
  let greeting = azimuth.greet(email)
  azimuth.assert_eq_string("Hello, user123@example.com!", greeting)
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  let special_string = "test@#$%^&*()_+"
  let special_greeting = azimuth.greet(special_string)
  azimuth.assert_eq_string("Hello, test@#$%^&*()_+!", special_greeting)
}

// æµ‹è¯•ç”¨ä¾‹ 9: è¾¹ç•Œå€¼ç»„åˆæµ‹è¯•
test "boundary_combination_test" {
  let max_val = 2147483647
  let min_val = -2147483648
  let zero = 0
  
  // æµ‹è¯•å„ç§è¾¹ç•Œå€¼ç»„åˆ
  azimuth.assert_eq(max_val, azimuth.add(max_val, zero))
  azimuth.assert_eq(min_val, azimuth.add(min_val, zero))
  azimuth.assert_eq(zero, azimuth.multiply(max_val, zero))
  azimuth.assert_eq(zero, azimuth.multiply(min_val, zero))
  
  // æµ‹è¯•è¿ç»­è¾¹ç•Œè¿ç®—
  let chain_result = azimuth.add(azimuth.multiply(max_val, 1), azimuth.multiply(min_val, 0))
  azimuth.assert_eq(max_val, chain_result)
}

// æµ‹è¯•ç”¨ä¾‹ 10: ç»¼åˆåº”ç”¨åœºæ™¯æµ‹è¯•
test "comprehensive_application_test" {
  // æ¨¡æ‹Ÿé“¶è¡Œåˆ©æ¯è®¡ç®—
  let principal = 10000
  let rate = 5  // 5%
  let years = 3
  
  // è®¡ç®—ç®€å•åˆ©æ¯: æœ¬é‡‘ + æœ¬é‡‘ * åˆ©ç‡ * å¹´æ•°
  let interest = azimuth.multiply(principal, azimuth.multiply(rate, years))
  let total = azimuth.add(principal, interest)
  
  azimuth.assert_eq(160000, total)
  
  // æ¨¡æ‹Ÿæ¸©åº¦è½¬æ¢: æ‘„æ°åº¦è½¬åæ°åº¦ (ç®€åŒ–ç‰ˆ: F = C * 2 + 30)
  let celsius = 25
  let fahrenheit = azimuth.add(azimuth.multiply(celsius, 2), 30)
  azimuth.assert_eq(80, fahrenheit)
  
  // éªŒè¯æ–­è¨€å‡½æ•°
  azimuth.assert_true(true)
  azimuth.assert_false(false)
  azimuth.assert_eq(42, 42)
  azimuth.assert_eq_string("test", "test")
}