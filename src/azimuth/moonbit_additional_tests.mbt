// MoonBit é¢å¤–æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½

// å¯¼å…¥ azimuth åº“
use azimuth.*

// æµ‹è¯•ç”¨ä¾‹ 1: æ•°åˆ—æ±‚å’Œ
test "arithmetic_series_sum" {
  // è®¡ç®—ç­‰å·®æ•°åˆ— 1+2+3+...+10 çš„å’Œ
  let n = 10
  let sum = multiply(n, add(n, 1)) / 2  // n*(n+1)/2
  assert_eq(55, sum)
}

// æµ‹è¯•ç”¨ä¾‹ 2: å¹³æ–¹æ•°è®¡ç®—
test "square_calculation" {
  // è®¡ç®— 15 çš„å¹³æ–¹
  let num = 15
  let square = multiply(num, num)
  assert_eq(225, square)
}

// æµ‹è¯•ç”¨ä¾‹ 3: ç«‹æ–¹æ•°è®¡ç®—
test "cube_calculation" {
  // è®¡ç®— 5 çš„ç«‹æ–¹
  let num = 5
  let cube = multiply(multiply(num, num), num)
  assert_eq(125, cube)
}

// æµ‹è¯•ç”¨ä¾‹ 4: æ¸©åº¦è½¬æ¢ï¼ˆæ‘„æ°åº¦è½¬åæ°åº¦ï¼‰
test "temperature_conversion" {
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼šF = C * 9/5 + 32ï¼Œç®€åŒ–ä¸º F = C * 2 + 30
  let celsius = 25
  let fahrenheit = add(multiply(celsius, 2), 30)
  assert_eq(80, fahrenheit)
}

// æµ‹è¯•ç”¨ä¾‹ 5: å­—ç¬¦ä¸²é•¿åº¦æµ‹è¯•
test "string_length_scenarios" {
  // æµ‹è¯•ä¸åŒé•¿åº¦çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, A!", greet("A"))
  assert_eq_string("Hello, MoonBit!", greet("MoonBit"))
  assert_eq_string("Hello, æµ‹è¯•ä¸­æ–‡!", greet("æµ‹è¯•ä¸­æ–‡"))
  assert_eq_string("Hello, 12345!", greet("12345"))
}

// æµ‹è¯•ç”¨ä¾‹ 6: é¢ç§¯è®¡ç®—
test "area_calculations" {
  // çŸ©å½¢é¢ç§¯ï¼šé•¿ Ã— å®½
  let length = 12
  let width = 8
  let rectangle_area = multiply(length, width)
  assert_eq(96, rectangle_area)
  
  // ä¸‰è§’å½¢é¢ç§¯ï¼šåº• Ã— é«˜ Ã· 2
  let base = 10
  let height = 6
  let triangle_area = multiply(base, height) / 2
  assert_eq(30, triangle_area)
}

// æµ‹è¯•ç”¨ä¾‹ 7: è´­ç‰©è½¦æ€»ä»·è®¡ç®—
test "shopping_cart_total" {
  // å•†å“1ï¼šå•ä»· 199ï¼Œæ•°é‡ 2
  // å•†å“2ï¼šå•ä»· 99ï¼Œæ•°é‡ 3
  // å•†å“3ï¼šå•ä»· 49ï¼Œæ•°é‡ 1
  let item1_total = multiply(199, 2)
  let item2_total = multiply(99, 3)
  let item3_total = multiply(49, 1)
  let cart_total = add(add(item1_total, item2_total), item3_total)
  assert_eq(643, cart_total)
}

// æµ‹è¯•ç”¨ä¾‹ 8: å¤åˆ©è®¡ç®—
test "compound_interest" {
  // æœ¬é‡‘ 1000ï¼Œå¹´åˆ©ç‡ 5%ï¼Œ3å¹´
  // ç®€åŒ–è®¡ç®—ï¼šæœ¬é‡‘ Ã— (1 + åˆ©ç‡ Ã— å¹´æ•°)
  let principal = 1000
  let rate = 5
  let years = 3
  let total = multiply(principal, add(1, multiply(rate, years)))
  assert_eq(16000, total)
}

// æµ‹è¯•ç”¨ä¾‹ 9: å¹³å‡å€¼è®¡ç®—
test "average_calculation" {
  // è®¡ç®— 85, 90, 95, 80, 75 çš„å¹³å‡å€¼
  let sum = add(add(add(add(85, 90), 95), 80), 75)
  let average = sum / 5
  assert_eq(85, average)
}

// æµ‹è¯•ç”¨ä¾‹ 10: ç‰¹æ®Šå­—ç¬¦ä¸²å¤„ç†
test "special_string_handling" {
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, user@domain.com!", greet("user@domain.com"))
  assert_eq_string("Hello, spaces  and\ttabs!", greet("spaces  and\ttabs"))
  assert_eq_string("Hello, emojiğŸ˜Š!", greet("emojiğŸ˜Š"))
  assert_eq_string("Hello, \"quoted\"!", greet("\"quoted\""))
}