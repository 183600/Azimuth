// Azimuth ç»¼åˆæµ‹è¯•å¥—ä»¶ - æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½çš„å„ç§åœºæ™¯å’Œè¾¹ç•Œæƒ…å†µ

test "mathematical_series_sum" {
  // æµ‹è¯•æ•°å­¦çº§æ•°æ±‚å’Œï¼šè®¡ç®— 1+2+3+...+n çš„å’Œ
  let n = 10
  let sum = multiply(divide_with_ceil(multiply(n, add(n, 1)), 2), 1)
  assert_eq(55, sum)  // 10*11/2 = 55
}

test "temperature_conversion" {
  // æ¨¡æ‹Ÿæ¸©åº¦è½¬æ¢è®¡ç®—
  let celsius = 25
  let fahrenheit = add(divide_with_ceil(multiply(celsius, 9), 5), 32)
  assert_eq(77, fahrenheit)  // 25*9/5 + 32 = 45 + 32 = 77
}

test "banking_interest_calculation" {
  // é“¶è¡Œåˆ©æ¯è®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let principal = 10000
  let rate_percent = 5
  let _years = 3  // ä½¿ç”¨ä¸‹åˆ’çº¿å‰ç¼€æ ‡è®°æœªä½¿ç”¨çš„å˜é‡
  
  let year1_interest = divide_with_ceil(multiply(principal, rate_percent), 100)
  let year2_interest = divide_with_ceil(multiply(add(principal, year1_interest), rate_percent), 100)
  let year3_interest = divide_with_ceil(multiply(add(add(principal, year1_interest), year2_interest), rate_percent), 100)
  
  let total_amount = add(add(add(principal, year1_interest), year2_interest), year3_interest)
  assert_eq(11576, total_amount)
}

test "digital_storage_conversion" {
  // æ•°å­—å­˜å‚¨å•ä½è½¬æ¢
  let megabytes = 1024
  let kilobytes = multiply(megabytes, 1024)
  let bytes = multiply(kilobytes, 1024)
  
  assert_eq(1048576, kilobytes)
  assert_eq(1073741824, bytes)
}

test "work_scheduling" {
  // å·¥ä½œæ’ç­è®¡ç®—
  let total_tasks = 87
  let tasks_per_person = 8
  let people_needed = divide_with_ceil(total_tasks, tasks_per_person)
  
  assert_eq(11, people_needed)  // ceil(87/8) = 11
}

test "geometric_progression" {
  // å‡ ä½•çº§æ•°è®¡ç®—
  let first_term = 2
  let ratio = 3
  let _terms = 5  // ä½¿ç”¨ä¸‹åˆ’çº¿å‰ç¼€æ ‡è®°æœªä½¿ç”¨çš„å˜é‡
  
  let term1 = first_term
  let term2 = multiply(term1, ratio)
  let term3 = multiply(term2, ratio)
  let term4 = multiply(term3, ratio)
  let term5 = multiply(term4, ratio)
  
  let sum = add(add(add(add(term1, term2), term3), term4), term5)
  assert_eq(242, sum)  // 2 + 6 + 18 + 54 + 162 = 242
}

test "greeting_with_special_formatting" {
  // æµ‹è¯•ç‰¹æ®Šæ ¼å¼çš„é—®å€™
  let formal_name = "Dr. Smith"
  let informal_name = "Alice"
  let emoji_name = "ğŸš€"
  
  assert_eq_string("Hello, Dr. Smith!", greet(formal_name))
  assert_eq_string("Hello, Alice!", greet(informal_name))
  assert_eq_string("Hello, ğŸš€!", greet(emoji_name))
}

test "resource_allocation_optimization" {
  // èµ„æºåˆ†é…ä¼˜åŒ–è®¡ç®—
  let total_budget = 5000
  let critical_projects = multiply(800, 3)
  let remaining_budget = add(total_budget, 0 - critical_projects)  // ä½¿ç”¨ 0 - x ä»£æ›¿ -x
  let small_projects = divide_with_ceil(remaining_budget, 300)
  
  assert_eq(2400, critical_projects)
  assert_eq(2600, remaining_budget)
  assert_eq(9, small_projects)  // ceil(2600/300) = 9
}

test "time_zone_conversion" {
  // æ—¶åŒºè½¬æ¢è®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let local_time = 14  // 2 PM
  let time_difference = 8  // ä¸ç›®æ ‡æ—¶åŒºç›¸å·®8å°æ—¶
  
  let target_time = add(local_time, time_difference)
  let adjusted_time = if target_time >= 24 {
    add(target_time, 0 - 24)  // ä½¿ç”¨ 0 - x ä»£æ›¿ -x
  } else {
    target_time
  }
  
  assert_eq(22, adjusted_time)  // 14 + 8 = 22 (10 PM)
}

test "inventory_reorder_calculation" {
  // åº“å­˜é‡æ–°è®¢è´­è®¡ç®—
  let current_stock = 45
  let daily_usage = 7
  let lead_time_days = 5
  let safety_stock = 20
  
  let usage_during_lead = multiply(daily_usage, lead_time_days)
  let reorder_point = add(usage_during_lead, safety_stock)
  let days_until_reorder = divide_with_ceil(add(current_stock, 0 - reorder_point), daily_usage)
  
  assert_eq(35, usage_during_lead)
  assert_eq(55, reorder_point)
  assert_eq(-2, days_until_reorder)  // éœ€è¦ç«‹å³è®¢è´­
}