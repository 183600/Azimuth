// Azimuth åº“ç»¼åˆæµ‹è¯•å¥—ä»¶
// åŒ…å«10ä¸ªé«˜è´¨é‡çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹

test "add_function_comprehensive" {
  // å…¨é¢æµ‹è¯•åŠ æ³•å‡½æ•°
  // åŸºæœ¬åŠŸèƒ½æµ‹è¯•
  assert_eq(8, add(3, 5))
  assert_eq(0, add(0, 0))
  assert_eq(-2, add(-5, 3))
  
  // è¾¹ç•Œå€¼æµ‹è¯•
  assert_eq(1000000, add(500000, 500000))
  assert_eq(-1000000, add(-500000, -500000))
  assert_eq(1, add(2147483647, -2147483646))
  
  // æ•°å­¦æ€§è´¨éªŒè¯
  let x = 42
  assert_eq(x, add(x, 0))  // åŠ æ³•å•ä½å…ƒ
  assert_eq(add(x, 5), add(5, x))  // äº¤æ¢å¾‹
}

test "multiply_function_comprehensive" {
  // å…¨é¢æµ‹è¯•ä¹˜æ³•å‡½æ•°
  // åŸºæœ¬åŠŸèƒ½æµ‹è¯•
  assert_eq(15, multiply(3, 5))
  assert_eq(0, multiply(0, 123))
  assert_eq(-12, multiply(-3, 4))
  
  // è¾¹ç•Œå€¼æµ‹è¯•
  assert_eq(1000000, multiply(1000, 1000))
  assert_eq(1, multiply(-1, -1))
  assert_eq(-1, multiply(1, -1))
  
  // æ•°å­¦æ€§è´¨éªŒè¯
  let x = 17
  assert_eq(x, multiply(x, 1))  // ä¹˜æ³•å•ä½å…ƒ
  assert_eq(0, multiply(x, 0))  // é›¶å…ƒç´ æ€§è´¨
  assert_eq(multiply(x, 7), multiply(7, x))  // äº¤æ¢å¾‹
}

test "divide_with_ceil_function_comprehensive" {
  // å…¨é¢æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•å‡½æ•°
  // æ­£æ•°é™¤æ³•æµ‹è¯•
  assert_eq(4, divide_with_ceil(10, 3))  // 3.333... -> 4
  assert_eq(3, divide_with_ceil(9, 3))   // æ•´é™¤
  assert_eq(1, divide_with_ceil(1, 100)) // å°æ•°
  
  // è´Ÿæ•°é™¤æ³•æµ‹è¯•
  assert_eq(-3, divide_with_ceil(-10, 3))   // -3.333... -> -3
  assert_eq(4, divide_with_ceil(-10, -3))   // 3.333... -> 4
  assert_eq(-4, divide_with_ceil(-11, 3))   // -3.666... -> -4
  
  // è¾¹ç•Œæƒ…å†µæµ‹è¯•
  assert_eq(0, divide_with_ceil(5, 0))    // é™¤æ•°ä¸ºé›¶
  assert_eq(0, divide_with_ceil(0, 5))    // è¢«é™¤æ•°ä¸ºé›¶
  assert_eq(1, divide_with_ceil(100, 100)) // ç›¸ç­‰æ•°
}

test "greet_function_comprehensive" {
  // å…¨é¢æµ‹è¯•é—®å€™å‡½æ•°
  // åŸºæœ¬åŠŸèƒ½æµ‹è¯•
  assert_eq_string("Hello, World!", greet("World"))
  assert_eq_string("Hello, MoonBit!", greet("MoonBit"))
  
  // ç‰¹æ®Šå­—ç¬¦æµ‹è¯•
  assert_eq_string("Hello, !", greet(""))  // ç©ºå­—ç¬¦ä¸²
  assert_eq_string("Hello, 123!", greet("123"))  // æ•°å­—
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))  // ä¸­æ–‡
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))  // Emoji
  
  // å¤æ‚å­—ç¬¦ä¸²æµ‹è¯•
  assert_eq_string("Hello, John Doe!", greet("John Doe"))
  assert_eq_string("Hello, test@example.com!", greet("test@example.com"))
}

test "mathematical_distributive_law" {
  // éªŒè¯æ•°å­¦åˆ†é…å¾‹: a * (b + c) = a * b + a * c
  let a = 6
  let b = 8
  let c = 12
  
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  
  assert_eq(left_side, right_side)  // 6 * (8 + 12) = 6 * 8 + 6 * 12 = 120
}

test "real_world_shopping_cart_calculation" {
  // çœŸå®ä¸–ç•Œè´­ç‰©è½¦è®¡ç®—åœºæ™¯
  let apple_price = 5
  let apple_qty = 6
  let banana_price = 3
  let banana_qty = 8
  let shipping_fee = 12
  
  // è®¡ç®—å•†å“æ€»ä»·
  let apple_total = multiply(apple_price, apple_qty)
  let banana_total = multiply(banana_price, banana_qty)
  let subtotal = add(apple_total, banana_total)
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let total = add(subtotal, shipping_fee)
  
  assert_eq(30, apple_total)  // 5 * 6
  assert_eq(24, banana_total)  // 3 * 8
  assert_eq(54, subtotal)     // 30 + 24
  assert_eq(66, total)        // 54 + 12
}

test "inventory_packaging_optimization" {
  // åº“å­˜åŒ…è£…ä¼˜åŒ–åœºæ™¯
  let total_products = 157
  let box_capacity = 24
  let warehouse_sections = 3
  
  // è®¡ç®—éœ€è¦çš„ç®±å­æ•°é‡
  let boxes_needed = divide_with_ceil(total_products, box_capacity)
  
  // è®¡ç®—æ¯ä¸ªä»“åº“åŒºåŸŸçš„ç®±å­æ•°é‡
  let boxes_per_section = divide_with_ceil(boxes_needed, warehouse_sections)
  
  assert_eq(7, boxes_needed)      // ceil(157/24) = 7
  assert_eq(3, boxes_per_section) // ceil(7/3) = 3
}

test "project_resource_allocation" {
  // é¡¹ç›®èµ„æºåˆ†é…åœºæ™¯
  let team_members = 8
  let tasks_per_member = 5
  let overtime_tasks = 7
  let bonus_tasks = 3
  
  // è®¡ç®—åŸºç¡€ä»»åŠ¡é‡
  let base_tasks = multiply(team_members, tasks_per_member)
  
  // è®¡ç®—æ€»ä»»åŠ¡é‡
  let total_tasks = add(add(base_tasks, overtime_tasks), bonus_tasks)
  
  // è®¡ç®—éœ€è¦çš„é¢å¤–äººæ‰‹ï¼ˆå‡è®¾æ¯äººæœ€å¤šå¤„ç†6ä¸ªä»»åŠ¡ï¼‰
  let additional_staff = divide_with_ceil(total_tasks, 6) - team_members
  
  assert_eq(40, base_tasks)        // 8 * 5
  assert_eq(50, total_tasks)       // 40 + 7 + 3
  assert_eq(1, additional_staff)   // ceil(50/6) - 8 = 9 - 8 = 1
}

test "complex_financial_calculation" {
  // å¤æ‚é‡‘èè®¡ç®—åœºæ™¯
  let principal = 10000
  let interest_rate = 8  // 8%
  let years = 3
  let monthly_fee = 25
  
  // è®¡ç®—å¹´åˆ©æ¯
  let annual_interest = divide_with_ceil(multiply(principal, interest_rate), 100)
  
  // è®¡ç®—æ€»åˆ©æ¯ï¼ˆç®€åŒ–ä¸ºå•åˆ©ï¼‰
  let total_interest = multiply(annual_interest, years)
  
  // è®¡ç®—æ€»è´¹ç”¨
  let total_fees = multiply(monthly_fee, multiply(years, 12))
  
  // è®¡ç®—æœ€ç»ˆé‡‘é¢
  let final_amount = add(add(principal, total_interest), total_fees)
  
  assert_eq(800, annual_interest)   // ceil(10000 * 8 / 100)
  assert_eq(2400, total_interest)   // 800 * 3
  assert_eq(900, total_fees)        // 25 * 3 * 12
  assert_eq(13300, final_amount)    // 10000 + 2400 + 900
}

test "error_handling_and_edge_cases" {
  // é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µæµ‹è¯•
  // æµ‹è¯•é™¤é›¶å®‰å…¨æ€§
  assert_eq(0, divide_with_ceil(100, 0))
  assert_eq(0, divide_with_ceil(-100, 0))
  assert_eq(0, divide_with_ceil(0, 0))
  
  // æµ‹è¯•æå€¼è¿ç®—
  assert_eq(0, add(2147483647, -2147483647))
  assert_eq(4294967294, add(2147483647, 2147483647))
  
  // æµ‹è¯•å­—ç¬¦ä¸²è¾¹ç•Œæƒ…å†µ
  assert_eq_string("Hello,   !", greet("   "))  // ç©ºæ ¼å­—ç¬¦ä¸²
  assert_eq_string("Hello, A!", greet("A"))     // å•å­—ç¬¦
  
  // æµ‹è¯•æ•°å­¦è¿ç®—çš„ä¸€è‡´æ€§
  let x = 100
  let y = 25
  assert_eq(multiply(x, divide_with_ceil(y, 5)), multiply(x, 5))  // 100 * ceil(25/5) = 100 * 5
}