// æ ‡å‡† MoonBit å¢å¼ºæµ‹è¯•ç”¨ä¾‹
// é’ˆå¯¹ azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½è¿›è¡Œè¡¥å……æµ‹è¯•

test "power_calculation_simulation" {
  // æ¨¡æ‹Ÿå¹‚è¿ç®—è®¡ç®— (ä½¿ç”¨é‡å¤ä¹˜æ³•)
  let base = 3
  let result = multiply(multiply(multiply(base, base), base), base)
  assert_eq(81, result)  // 3^4 = 81
}

test "factorial_calculation" {
  // æ¨¡æ‹Ÿé˜¶ä¹˜è®¡ç®—
  let factorial = multiply(multiply(multiply(multiply(1, 2), 3), 4), 5)
  assert_eq(120, factorial)  // 5! = 120
}

test "percentage_calculations" {
  // ç™¾åˆ†æ¯”è®¡ç®—æµ‹è¯•
  let original_value = 200
  let percentage = 25
  
  // è®¡ç®—ç™¾åˆ†æ¯”å€¼
  let percentage_value = divide_with_ceil(multiply(original_value, percentage), 100)
  
  // è®¡ç®—å¢åŠ åçš„å€¼
  let increased_value = add(original_value, percentage_value)
  
  // è®¡ç®—å‡å°‘åçš„å€¼
  let decreased_value = add(original_value, -percentage_value)
  
  assert_eq(50, percentage_value)
  assert_eq(250, increased_value)
  assert_eq(150, decreased_value)
}

test "time_conversion_calculations" {
  // æ—¶é—´è½¬æ¢è®¡ç®—
  let hours = 2
  let minutes = 45
  
  // è½¬æ¢ä¸ºæ€»åˆ†é’Ÿæ•°
  let total_minutes = add(multiply(hours, 60), minutes)
  
  // è½¬æ¢ä¸ºæ€»ç§’æ•°
  let total_seconds = multiply(total_minutes, 60)
  
  assert_eq(165, total_minutes)
  assert_eq(9900, total_seconds)
}

test "geometric_calculations" {
  // å‡ ä½•è®¡ç®—
  let radius = 5
  
  // è®¡ç®—ç›´å¾„
  let diameter = multiply(radius, 2)
  
  // è®¡ç®—å‘¨é•¿ (ç®€åŒ–ä¸º Ï€ * dï¼Œä½¿ç”¨Ï€â‰ˆ3)
  let circumference = multiply(diameter, 3)
  
  // è®¡ç®—é¢ç§¯ (ç®€åŒ–ä¸º Ï€ * rÂ²ï¼Œä½¿ç”¨Ï€â‰ˆ3)
  let area = multiply(multiply(radius, radius), 3)
  
  assert_eq(10, diameter)
  assert_eq(30, circumference)
  assert_eq(75, area)
}

test "temperature_conversion" {
  // æ¸©åº¦è½¬æ¢è®¡ç®— (ç®€åŒ–ç‰ˆæœ¬)
  let celsius = 25
  
  // æ‘„æ°åº¦è½¬åæ°åº¦ (ç®€åŒ–å…¬å¼: F = C * 2 + 30)
  let fahrenheit = add(multiply(celsius, 2), 30)
  
  // åæ°åº¦è½¬æ‘„æ°åº¦ (ç®€åŒ–å…¬å¼: C = (F - 30) / 2)
  let back_to_celsius = divide_with_ceil(add(fahrenheit, -30), 2)
  
  assert_eq(80, fahrenheit)
  assert_eq(25, back_to_celsius)
}

test "array_sum_simulation" {
  // æ¨¡æ‹Ÿæ•°ç»„æ±‚å’Œ (ä½¿ç”¨ç´¯åŠ )
  let value1 = 15
  let value2 = 23
  let value3 = 7
  let value4 = 12
  
  let total_sum = add(add(add(value1, value2), value3), value4)
  let average = divide_with_ceil(total_sum, 4)
  
  assert_eq(57, total_sum)
  assert_eq(15, average)  // ceil(57/4) = ceil(14.25) = 15
}

test "compound_interest_simplified" {
  // ç®€åŒ–çš„å¤åˆ©è®¡ç®—
  let principal = 1000
  let rate = 5  // 5%
  
  // ç¬¬ä¸€å¹´
  let year1 = add(principal, divide_with_ceil(multiply(principal, rate), 100))
  
  // ç¬¬äºŒå¹´
  let year2 = add(year1, divide_with_ceil(multiply(year1, rate), 100))
  
  // ç¬¬ä¸‰å¹´
  let year3 = add(year2, divide_with_ceil(multiply(year2, rate), 100))
  
  assert_eq(1050, year1)
  assert_eq(1103, year2)
  assert_eq(1158, year3)
}

test "batch_processing_simulation" {
  // æ‰¹å¤„ç†æ¨¡æ‹Ÿè®¡ç®—
  let batch_size = 25
  let total_items = 180
  
  // è®¡ç®—éœ€è¦çš„æ‰¹æ¬¡æ•°
  let batches_needed = divide_with_ceil(total_items, batch_size)
  
  // è®¡ç®—æœ€åä¸€æ‰¹çš„å®é™…é¡¹ç›®æ•°
  let last_batch_size = add(total_items, -multiply(batches_needed - 1, batch_size))
  
  assert_eq(8, batches_needed)  // ceil(180/25) = 8
  assert_eq(5, last_batch_size)  // 180 - 7*25 = 5
}

test "string_greeting_with_special_characters" {
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦çš„é—®å€™
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))
  assert_eq_string("Hello, 123!", greet("123"))
  assert_eq_string("Hello, !", greet(""))
}