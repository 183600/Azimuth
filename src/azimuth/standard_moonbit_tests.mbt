// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹ - ä¸º azimuth åº“æ–°å¢10ä¸ªé«˜è´¨é‡æµ‹è¯•
// æµ‹è¯•è¦†ç›–æ‰€æœ‰ä¸»è¦åŠŸèƒ½ï¼šadd, multiply, greet, divide_with_ceil

test "add_function_comprehensive" {
  // å…¨é¢æµ‹è¯•åŠ æ³•å‡½æ•°çš„æ­£è´Ÿæ•°æƒ…å†µ
  assert_eq(10, add(7, 3))
  assert_eq(0, add(5, -5))
  assert_eq(-10, add(-7, -3))
  assert_eq(1000000, add(500000, 500000))
  assert_eq(1, add(2147483647, -2147483646))
}

test "multiply_function_properties" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„æ•°å­¦æ€§è´¨
  assert_eq(0, multiply(12345, 0))
  assert_eq(12345, multiply(12345, 1))
  assert_eq(-12345, multiply(12345, -1))
  assert_eq(12345, multiply(-12345, -1))
  assert_eq(1000000, multiply(1000, 1000))
}

test "greet_function_international_support" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„å›½é™…å­—ç¬¦å’Œç‰¹æ®Šç¬¦å·æ”¯æŒ
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸš€ MoonBit!", greet("ğŸš€ MoonBit"))
  assert_eq_string("Hello, cafÃ©!", greet("cafÃ©"))
  assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  assert_eq_string("Hello, Ã±oÃ±o!", greet("Ã±oÃ±o"))
}

test "divide_with_ceil_business_scenarios" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„å®é™…ä¸šåŠ¡åœºæ™¯
  // åœºæ™¯1ï¼šè®¡ç®—è¿è¾“è½¦è¾†éœ€æ±‚
  let packages = 47
  let capacity_per_truck = 10
  let trucks_needed = divide_with_ceil(packages, capacity_per_truck)
  assert_eq(5, trucks_needed)
  
  // åœºæ™¯2ï¼šè®¡ç®—å­˜å‚¨ç©ºé—´éœ€æ±‚
  let items = 156
  let box_capacity = 25
  let boxes_needed = divide_with_ceil(items, box_capacity)
  assert_eq(7, boxes_needed)
}

test "mathematical_commutative_laws" {
  // éªŒè¯æ•°å­¦äº¤æ¢å¾‹
  let a = 42
  let b = 17
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(add(a, b), add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(multiply(a, b), multiply(b, a))
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  assert_eq(add(-5, 10), add(10, -5))
  assert_eq(multiply(-3, 7), multiply(7, -3))
}

test "complex_calculation_pipeline" {
  // æµ‹è¯•å¤æ‚è®¡ç®—æµæ°´çº¿
  // åœºæ™¯ï¼šé¡¹ç›®èµ„æºè§„åˆ’è®¡ç®—
  let team_members = 8
  let tasks_per_member = 6
  let sprint_capacity = 20
  
  // è®¡ç®—æ€»ä»»åŠ¡æ•°
  let total_tasks = multiply(team_members, tasks_per_member)
  assert_eq(48, total_tasks)
  
  // è®¡ç®—éœ€è¦çš„å†²åˆºæ•°
  let sprints_needed = divide_with_ceil(total_tasks, sprint_capacity)
  assert_eq(3, sprints_needed)
  
  // è®¡ç®—æ€»å¤„ç†èƒ½åŠ›
  let total_capacity = multiply(sprints_needed, sprint_capacity)
  assert_eq(60, total_capacity)
  
  // è®¡ç®—å‰©ä½™èƒ½åŠ›
  let remaining_capacity = total_capacity - total_tasks
  assert_eq(12, remaining_capacity)
}

test "edge_cases_and_boundary_conditions" {
  // æµ‹è¯•è¾¹ç¼˜æƒ…å†µå’Œè¾¹ç•Œæ¡ä»¶
  // é™¤é›¶çš„å„ç§æƒ…å†µ
  assert_eq(0, divide_with_ceil(0, 0))
  assert_eq(0, divide_with_ceil(10, 0))
  assert_eq(0, divide_with_ceil(-10, 0))
  
  // æå€¼æµ‹è¯•
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(-1, divide_with_ceil(-1, 1))
  assert_eq(1, divide_with_ceil(-1, -1))
  
  // åŠ æ³•æ’ç­‰å¼
  assert_eq(42, add(42, 0))
  assert_eq(42, add(0, 42))
  
  // ä¹˜æ³•æ’ç­‰å¼
  assert_eq(0, multiply(42, 0))
  assert_eq(42, multiply(42, 1))
}

test "string_processing_comprehensive" {
  // å­—ç¬¦ä¸²å¤„ç†ç»¼åˆæµ‹è¯•
  // æµ‹è¯•å„ç§å­—ç¬¦ä¸²è¾“å…¥
  assert_eq_string("Hello, single!", greet("single"))
  assert_eq_string("Hello, space test!", greet("space test"))
  assert_eq_string("Hello, 12345!", greet("12345"))
  assert_eq_string("Hello, !@#$%^&*()", greet("!@#$%^&*()"))
  assert_eq_string("Hello, mixedCASE123!", greet("mixedCASE123"))
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello,   !", greet("  "))
}

test "resource_allocation_optimization" {
  // èµ„æºåˆ†é…ä¼˜åŒ–æµ‹è¯•
  // åœºæ™¯ï¼šé¢„ç®—åˆ†é…é—®é¢˜
  let total_budget = 10000
  let departments = 6
  
  // è®¡ç®—æ¯ä¸ªéƒ¨é—¨çš„å¹³å‡é¢„ç®—ï¼ˆå‘ä¸Šå–æ•´ï¼‰
  let budget_per_dept = divide_with_ceil(total_budget, departments)
  assert_eq(1667, budget_per_dept)
  
  // è®¡ç®—å®é™…åˆ†é…çš„æ€»é¢„ç®—
  let actual_total = multiply(budget_per_dept, departments)
  assert_eq(10002, actual_total)
  
  // è®¡ç®—é¢„ç®—æº¢å‡º
  let budget_overflow = actual_total - total_budget
  assert_eq(2, budget_overflow)
  
  // åœºæ™¯2ï¼šä¼˜åŒ–åˆ†é…ç­–ç•¥
  let optimized_departments = departments + 1
  let optimized_budget = divide_with_ceil(total_budget, optimized_departments)
  assert_eq(1429, optimized_budget)
}

test "mathematical_distributive_law" {
  // éªŒè¯æ•°å­¦åˆ†é…å¾‹: a * (b + c) = a * b + a * c
  let a = 6
  let b = 8
  let c = 4
  
  // è®¡ç®—å·¦è¾¹ï¼ša * (b + c)
  let left_side = multiply(a, add(b, c))
  
  // è®¡ç®—å³è¾¹ï¼ša * b + a * c
  let right_side = add(multiply(a, b), multiply(a, c))
  
  // éªŒè¯åˆ†é…å¾‹
  assert_eq(left_side, right_side)
  
  // å¦ä¸€ä¸ªæµ‹è¯•æ¡ˆä¾‹
  let x = 12
  let y = 5
  let z = 3
  
  assert_eq(
    multiply(x, add(y, z)),
    add(multiply(x, y), multiply(x, z))
  )
  
  // éªŒè¯å…·ä½“æ•°å€¼
  assert_eq(96, multiply(12, add(5, 3)))  // 12 * 8 = 96
  assert_eq(96, add(multiply(12, 5), multiply(12, 3)))  // 60 + 36 = 96
}