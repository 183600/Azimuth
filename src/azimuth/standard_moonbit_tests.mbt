// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½

test "add_basic_functionality" {
  // æµ‹è¯•åŸºæœ¬åŠ æ³•åŠŸèƒ½
  assert_eq(10, azimuth::add(3, 7))
  assert_eq(0, azimuth::add(-5, 5))
  assert_eq(-10, azimuth::add(-3, -7))
  assert_eq(100, azimuth::add(50, 50))
}

test "add_boundary_values" {
  // æµ‹è¯•è¾¹ç•Œå€¼åŠ æ³•
  let max_val = 2147483647
  let min_val = -2147483648
  
  assert_eq(max_val, azimuth::add(max_val, 1))
  assert_eq(min_val, azimuth::add(min_val, -1))
  assert_eq(-1, azimuth::add(max_val, min_val))
  assert_eq(0, azimuth::add(min_val, 1))
}

test "multiply_basic_functionality" {
  // æµ‹è¯•åŸºæœ¬ä¹˜æ³•åŠŸèƒ½
  assert_eq(6, azimuth::multiply(2, 3))
  assert_eq(0, azimuth::multiply(5, 0))
  assert_eq(-6, azimuth::multiply(-2, 3))
  assert_eq(15, azimuth::multiply(3, 5))
}

test "multiply_boundary_values" {
  // æµ‹è¯•è¾¹ç•Œå€¼ä¹˜æ³•
  let max_val = 2147483647
  let min_val = -2147483648
  
  assert_eq(0, azimuth::multiply(max_val, 0))
  assert_eq(min_val, azimuth::multiply(min_val, -1))
  assert_eq(max_val, azimuth::multiply(max_val, 1))
  assert_eq(min_val, azimuth::multiply(min_val, 1))
}

test "greet_function_variations" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„å„ç§æƒ…å†µ
  assert_eq_string("Hello, MoonBit!", azimuth::greet("MoonBit"))
  assert_eq_string("Hello, !", azimuth::greet(""))
  assert_eq_string("Hello, 123!", azimuth::greet("123"))
  assert_eq_string("Hello, æµ‹è¯•!", azimuth::greet("æµ‹è¯•"))
}

test "complex_arithmetic_operations" {
  // æµ‹è¯•å¤æ‚ç®—æœ¯è¿ç®—
  // è®¡ç®—ï¼š(2 + 3) * 4 - 5 = 20 - 5 = 15
  let sum = azimuth::add(2, 3)
  let product = azimuth::multiply(sum, 4)
  let result = azimuth::add(product, -5)
  assert_eq(15, result)
  
  // è®¡ç®—ï¼š10 * (5 + 3) = 10 * 8 = 80
  let sum2 = azimuth::add(5, 3)
  let result2 = azimuth::multiply(10, sum2)
  assert_eq(80, result2)
}

test "mathematical_properties" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨
  let a = 7
  let b = 11
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(azimuth::add(a, b), azimuth::add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(azimuth::multiply(a, b), azimuth::multiply(b, a))
  
  // åˆ†é…å¾‹
  let c = 3
  assert_eq(azimuth::multiply(a, azimuth::add(b, c)), 
            azimuth::add(azimuth::multiply(a, b), azimuth::multiply(a, c)))
}

test "real_world_scenarios" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯
  // è´­ç‰©è½¦è®¡ç®—ï¼šå•†å“ä»·æ ¼ Ã— æ•°é‡ + è¿è´¹
  let item_price = 199
  let quantity = 3
  let shipping = 15
  let subtotal = azimuth::multiply(item_price, quantity)
  let total = azimuth::add(subtotal, shipping)
  assert_eq(612, total)  // 199 * 3 + 15 = 597 + 15 = 612
  
  // æ¸©åº¦è½¬æ¢ï¼šæ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼šF = C Ã— 2 + 30ï¼‰
  let celsius = 25
  let fahrenheit = azimuth::add(azimuth::multiply(celsius, 2), 30)
  assert_eq(80, fahrenheit)  // 25 * 2 + 30 = 80
}

test "string_processing_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
  // åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, user@example.com!", azimuth::greet("user@example.com"))
  assert_eq_string("Hello, John Doe!", azimuth::greet("John Doe"))
  assert_eq_string("Hello,   spaced   !", azimuth::greet("  spaced   "))
  assert_eq_string("Hello, ğŸŒ!", azimuth::greet("ğŸŒ"))
}

test "performance_oriented_calculations" {
  // æµ‹è¯•æ€§èƒ½å¯¼å‘çš„è®¡ç®—
  // å¤§æ•°è¿ç®—
  assert_eq(2000000, azimuth::add(1000000, 1000000))
  assert_eq(1000000, azimuth::multiply(1000, 1000))
  
  // è¿ç»­è¿ç®—
  let chain_result = azimuth::add(
    azimuth::multiply(10, 20),
    azimuth::multiply(30, 40)
  )
  assert_eq(1400, chain_result)  // 200 + 1200 = 1400
  
  // åµŒå¥—è¿ç®—
  let nested_result = azimuth::multiply(
    azimuth::add(5, 10),
    azimuth::add(3, 7)
  )
  assert_eq(225, nested_result)  // 15 * 15 = 225
}