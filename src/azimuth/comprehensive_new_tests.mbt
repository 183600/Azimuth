// æ–°å¢çš„ç»¼åˆæµ‹è¯•ç”¨ä¾‹
// åŒ…å«æ€§èƒ½ã€å®é™…åº”ç”¨å’Œæ•°å­¦æ€§è´¨çš„æµ‹è¯•

// æµ‹è¯•å¤§æ•°è¿ç®—çš„æ€§èƒ½åœºæ™¯
///|
test "performance_large_number_calculations" {
  // æµ‹è¯•è¿ç»­çš„å¤§æ•°åŠ æ³•
  let result1 = @azimuth.add(1000000, 2000000)
  let result2 = @azimuth.add(result1, 3000000)
  let result3 = @azimuth.add(result2, 4000000)
  assert_eq(10000000, result3)
  
  // æµ‹è¯•è¿ç»­çš„å¤§æ•°ä¹˜æ³•ï¼ˆåœ¨æº¢å‡ºèŒƒå›´å†…ï¼‰
  let mult1 = @azimuth.multiply(1000, 1000)
  let mult2 = @azimuth.multiply(mult1, 1000)
  assert_eq(1000000000, mult2)
}

// æµ‹è¯•å¤åˆ©è®¡ç®—çš„å®é™…åº”ç”¨
///|
test "financial_compound_interest_calculation" {
  // æœ¬é‡‘
  let principal = 10000
  // å¹´åˆ©ç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰
  let rate_percent = 5
  // å¹´æ•°
  let years = 3
  
  // è®¡ç®—ç¬¬ä¸€å¹´çš„åˆ©æ¯ï¼šprincipal * rate / 100
  let year1_interest = @azimuth.multiply(principal, rate_percent)
  let year1_total = @azimuth.add(principal, @azimuth.multiply(year1_interest, 1))
  
  // ç®€åŒ–è®¡ç®—ï¼šç›´æ¥è®¡ç®—æœ€ç»ˆé‡‘é¢
  let final_amount = @azimuth.add(principal, @azimuth.multiply(years, @azimuth.multiply(principal, rate_percent)))
  assert_eq(115000, final_amount)
}

// æµ‹è¯•ç‰©ç†å…¬å¼åº”ç”¨ï¼šè‡ªç”±è½ä½“è·ç¦»
///|
test "physics_free_fall_distance" {
  // é‡åŠ›åŠ é€Ÿåº¦ (ç®€åŒ–ä¸º 10 m/sÂ²)
  let g = 10
  // æ—¶é—´ï¼ˆç§’ï¼‰
  let t1 = 1
  let t2 = 2
  let t3 = 3
  
  // è·ç¦»å…¬å¼ï¼šs = 0.5 * g * tÂ²
  // ç”±äºæˆ‘ä»¬çš„å‡½æ•°åªæ”¯æŒæ•´æ•°ï¼Œæˆ‘ä»¬ç®€åŒ–è®¡ç®—
  let distance1 = @azimuth.multiply(@azimuth.multiply(g, t1), t1)
  let distance2 = @azimuth.multiply(@azimuth.multiply(g, t2), t2)
  let distance3 = @azimuth.multiply(@azimuth.multiply(g, t3), t3)
  
  assert_eq(10, distance1)   // 10 * 1 * 1 = 10
  assert_eq(40, distance2)   // 10 * 2 * 2 = 40
  assert_eq(90, distance3)   // 10 * 3 * 3 = 90
}

// æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
///|
test "string_processing_edge_cases" {
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq("Hello, @#$%!", @azimuth.greet("@#$%"))
  assert_eq("Hello,   !", @azimuth.greet("  "))  // ç©ºæ ¼
  assert_eq("Hello, ä¸­æ–‡!", @azimuth.greet("ä¸­æ–‡"))  // ä¸­æ–‡å­—ç¬¦
  assert_eq("Hello, ğŸŒ™!", @azimuth.greet("ğŸŒ™"))  // emoji
  
  // æµ‹è¯•é•¿å­—ç¬¦ä¸²
  let long_name = "VeryLongNameThatMightCauseIssuesInSomeSystems"
  let result = @azimuth.greet(long_name)
  assert_eq(true, result.contains("VeryLongNameThatMightCauseIssuesInSomeSystems"))
}

// æµ‹è¯•æ•°å­¦æ’ç­‰å¼ï¼šå¹³æ–¹å·®å…¬å¼
///|
test "math_difference_of_squares" {
  // æµ‹è¯• aÂ² - bÂ² = (a+b)(a-b)
  let a = 15
  let b = 8
  
  // è®¡ç®— aÂ² - bÂ²
  let a_squared = @azimuth.multiply(a, a)
  let b_squared = @azimuth.multiply(b, b)
  let difference = @azimuth.add(a_squared, -b_squared)
  
  // è®¡ç®— (a+b)(a-b)
  let sum_ab = @azimuth.add(a, b)
  let diff_ab = @azimuth.add(a, -b)
  let factored = @azimuth.multiply(sum_ab, diff_ab)
  
  assert_eq(difference, factored)
  
  // æµ‹è¯•å¦ä¸€ç»„æ•°å€¼
  let x = 100
  let y = 50
  let x_squared = @azimuth.multiply(x, x)
  let y_squared = @azimuth.multiply(y, y)
  let diff2 = @azimuth.add(x_squared, -y_squared)
  
  let sum_xy = @azimuth.add(x, y)
  let diff_xy = @azimuth.add(x, -y)
  let factored2 = @azimuth.multiply(sum_xy, diff_xy)
  
  assert_eq(diff2, factored2)
}

// æµ‹è¯•æ•°ç»„ç´¢å¼•è®¡ç®—ï¼ˆæ¨¡æ‹Ÿï¼‰
///|
test "array_index_calculations" {
  // æ¨¡æ‹ŸäºŒç»´æ•°ç»„çš„ç´¢å¼•è®¡ç®—
  let rows = 10
  let cols = 20
  let row = 3
  let col = 5
  
  // ä¸€ç»´ç´¢å¼• = row * cols + col
  let index = @azimuth.add(@azimuth.multiply(row, cols), col)
  assert_eq(65, index)
  
  // æµ‹è¯•è¾¹ç•Œæƒ…å†µ
  let first_index = @azimuth.add(@azimuth.multiply(0, cols), 0)
  let last_index = @azimuth.add(@azimuth.multiply(@azimuth.add(rows, -1), cols), @azimuth.add(cols, -1))
  
  assert_eq(0, first_index)
  assert_eq(199, last_index)
}

// æµ‹è¯•æ¸©åº¦è½¬æ¢ï¼ˆç®€åŒ–ç‰ˆï¼‰
///|
test "temperature_conversion_simplified" {
  // æ‘„æ°åº¦åˆ°åæ°åº¦çš„è½¬æ¢ï¼šF = C * 9/5 + 32
  // ç”±äºæˆ‘ä»¬åªæœ‰æ•´æ•°è¿ç®—ï¼Œæˆ‘ä»¬ç®€åŒ–è®¡ç®—
  let celsius = 100
  
  // ç®€åŒ–è®¡ç®—ï¼šC * 2 + 30 ï¼ˆè¿‘ä¼¼å€¼ï¼‰
  let fahrenheit_approx = @azimuth.add(@azimuth.multiply(celsius, 2), 30)
  assert_eq(230, fahrenheit_approx)
  
  // 0Â°C çš„è½¬æ¢
  let freezing = @azimuth.add(@azimuth.multiply(0, 2), 30)
  assert_eq(30, freezing)
}

// æµ‹è¯•ç»„åˆè¿ç®—çš„ä¼˜å…ˆçº§
///|
test "combined_operations_priority" {
  // æµ‹è¯• (a + b) * c ä¸ a + b * c çš„åŒºåˆ«
  let a = 5
  let b = 3
  let c = 2
  
  // (a + b) * c
  let sum_then_mult = @azimuth.multiply(@azimuth.add(a, b), c)
  
  // a + b * c
  let mult_then_add = @azimuth.add(a, @azimuth.multiply(b, c))
  
  assert_eq(16, sum_then_mult)   // (5 + 3) * 2 = 16
  assert_eq(11, mult_then_add)   // 5 + 3 * 2 = 11
}

// æµ‹è¯•é”™è¯¯æ¢å¤æœºåˆ¶
///|
test "error_recovery_scenarios" {
  // æµ‹è¯•æº¢å‡ºåçš„è¿ç®—æ˜¯å¦èƒ½æ­£ç¡®å¤„ç†
  let overflow_result = @azimuth.add(2147483647, 1)
  assert_eq(2147483647, overflow_result)
  
  // æº¢å‡ºåç»§ç»­è¿ç®—
  let after_overflow = @azimuth.add(overflow_result, 1)
  assert_eq(2147483647, after_overflow)
  
  // æµ‹è¯•è´Ÿæº¢å‡ºåçš„è¿ç®—
  let neg_overflow = @azimuth.add(-2147483648, -1)
  assert_eq(-2147483648, neg_overflow)
  
  let after_neg_overflow = @azimuth.add(neg_overflow, 1)
  assert_eq(-2147483647, after_neg_overflow)
}

// æµ‹è¯•è¾¹ç•Œå€¼çš„ç»„åˆè¿ç®—
///|
test "boundary_value_combinations" {
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å„ç§ç»„åˆ
  assert_eq(-1, @azimuth.add(max_val, min_val))
  assert_eq(-1, @azimuth.add(min_val, max_val))
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸è‡ªèº«çš„åŠ æ³•ï¼ˆæº¢å‡ºï¼‰
  assert_eq(max_val, @azimuth.add(max_val, max_val))
  
  // æµ‹è¯•æœ€å°å€¼ä¸è‡ªèº«çš„åŠ æ³•ï¼ˆæº¢å‡ºï¼‰
  assert_eq(min_val, @azimuth.add(min_val, min_val))
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸0çš„è¿ç®—
  assert_eq(max_val, @azimuth.add(max_val, 0))
  assert_eq(max_val, @azimuth.add(0, max_val))
  
  // æµ‹è¯•æœ€å°å€¼ä¸0çš„è¿ç®—
  assert_eq(min_val, @azimuth.add(min_val, 0))
  assert_eq(min_val, @azimuth.add(0, min_val))
}