// æ–°å¢çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// è¿™äº›æµ‹è¯•ç”¨ä¾‹è¦†ç›–äº†ä¸åŒçš„åŠŸèƒ½å’Œåœºæ™¯ï¼Œä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•

// æµ‹è¯•ç”¨ä¾‹1: è´Ÿæ•°è¿ç®—æµ‹è¯•
test "negative_number_operations" {
  // æµ‹è¯•è´Ÿæ•°åŠ æ³•
  @azimuth.assert_eq(-10, @azimuth.add(-3, -7))
  @azimuth.assert_eq(0, @azimuth.add(-5, 5))
  @azimuth.assert_eq(-2, @azimuth.add(-8, 6))
  
  // æµ‹è¯•è´Ÿæ•°ä¹˜æ³•
  @azimuth.assert_eq(15, @azimuth.multiply(-3, -5))
  @azimuth.assert_eq(-15, @azimuth.multiply(3, -5))
  @azimuth.assert_eq(0, @azimuth.multiply(-5, 0))
}

// æµ‹è¯•ç”¨ä¾‹2: å¤åˆè¿ç®—æµ‹è¯•
test "compound_operations" {
  // æµ‹è¯• (a + b) * c - d çš„å¤åˆè¿ç®—
  let a = 5
  let b = 3
  let c = 4
  let d = 10
  
  // æ­¥éª¤è®¡ç®—
  let sum_ab = @azimuth.add(a, b)  // 5 + 3 = 8
  let product = @azimuth.multiply(sum_ab, c)  // 8 * 4 = 32
  let result = @azimuth.add(product, -d)  // 32 - 10 = 22
  
  @azimuth.assert_eq(22, result)
}

// æµ‹è¯•ç”¨ä¾‹3: å­—ç¬¦ä¸²è¾¹ç•Œæƒ…å†µæµ‹è¯•
test "string_boundary_cases" {
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  
  // æµ‹è¯•å•å­—ç¬¦
  @azimuth.assert_eq_string("Hello, A!", @azimuth.greet("A"))
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, @#$%^&*()!", @azimuth.greet("@#$%^&*()"))
  
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, ğŸŒŸ!", @azimuth.greet("ğŸŒŸ"))
}

// æµ‹è¯•ç”¨ä¾‹4: æ•°å­¦å…¬å¼åº”ç”¨æµ‹è¯•
test "mathematical_formulas" {
  // æµ‹è¯•ç­‰å·®æ•°åˆ—æ±‚å’Œï¼šn * (a1 + an) / 2
  let n = 10
  let first = 1
  let last = 10
  
  let sum = @azimuth.multiply(n, @azimuth.add(first, last)) / 2
  @azimuth.assert_eq(55, sum)  // 10 * (1 + 10) / 2 = 55
  
  // æµ‹è¯•çŸ©å½¢é¢ç§¯ï¼šé•¿ * å®½
  let length = 8
  let width = 6
  let area = @azimuth.multiply(length, width)
  @azimuth.assert_eq(48, area)
}

// æµ‹è¯•ç”¨ä¾‹5: è¾¹ç•Œæ¡ä»¶ç»„åˆæµ‹è¯•
test "boundary_combinations" {
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
  
  // æµ‹è¯•è¾¹ç•Œå€¼ä¸0å’Œ1çš„è¿ç®—
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, 0))
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 1))
}

// æµ‹è¯•ç”¨ä¾‹6: å®é™…åº”ç”¨åœºæ™¯æµ‹è¯• - è´­ç‰©è½¦è®¡ç®—
test "shopping_cart_calculation" {
  // å•†å“ä»·æ ¼å’Œæ•°é‡
  let item1_price = 299
  let item1_quantity = 2
  let item2_price = 199
  let item2_quantity = 3
  
  // è®¡ç®—æ¯ç§å•†å“çš„æ€»ä»·
  let total1 = @azimuth.multiply(item1_price, item1_quantity)
  let total2 = @azimuth.multiply(item2_price, item2_quantity)
  
  // è®¡ç®—è´­ç‰©è½¦æ€»ä»·
  let cart_total = @azimuth.add(total1, total2)
  
  // éªŒè¯æ€»ä»·ï¼š299*2 + 199*3 = 598 + 597 = 1195
  @azimuth.assert_eq(1195, cart_total)
}

// æµ‹è¯•ç”¨ä¾‹7: æ¸©åº¦è½¬æ¢æµ‹è¯•
test "temperature_conversion" {
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼šF = C * 2 + 30
  
  // æµ‹è¯•å†°ç‚¹æ¸©åº¦
  let freezing_celsius = 0
  let freezing_fahrenheit = @azimuth.add(@azimuth.multiply(freezing_celsius, 2), 30)
  @azimuth.assert_eq(30, freezing_fahrenheit)  // 0 * 2 + 30 = 30
  
  // æµ‹è¯•å®¤æ¸©
  let room_celsius = 20
  let room_fahrenheit = @azimuth.add(@azimuth.multiply(room_celsius, 2), 30)
  @azimuth.assert_eq(70, room_fahrenheit)  // 20 * 2 + 30 = 70
  
  // æµ‹è¯•æ²¸ç‚¹æ¸©åº¦
  let boiling_celsius = 100
  let boiling_fahrenheit = @azimuth.add(@azimuth.multiply(boiling_celsius, 2), 30)
  @azimuth.assert_eq(230, boiling_fahrenheit)  // 100 * 2 + 30 = 230
}

// æµ‹è¯•ç”¨ä¾‹8: é”™è¯¯å¤„ç†æµ‹è¯•
test "error_handling" {
  // æµ‹è¯•æ–­è¨€å‡½æ•°
  @azimuth.assert_true(true)
  @azimuth.assert_false(false)
  @azimuth.assert_eq(42, 42)
  @azimuth.assert_eq_string("test", "test")
  
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  @azimuth.assert_true(@azimuth.add(max_val, 1) == max_val)
  @azimuth.assert_true(@azimuth.add(min_val, -1) == min_val)
  @azimuth.assert_true(@azimuth.multiply(max_val, 2) == max_val)
  @azimuth.assert_true(@azimuth.multiply(min_val, -1) == min_val)
}

// æµ‹è¯•ç”¨ä¾‹9: æ€§èƒ½ç›¸å…³è®¡ç®—æµ‹è¯•
test "performance_calculations" {
  // æ¨¡æ‹Ÿç´¯åŠ è®¡ç®—ï¼š1 + 2 + ... + 100
  // ä½¿ç”¨å…¬å¼ï¼šn * (n + 1) / 2
  let n = 100
  let sum = @azimuth.multiply(n, @azimuth.add(n, 1)) / 2
  @azimuth.assert_eq(5050, sum)
  
  // æ¨¡æ‹Ÿå¹³æ–¹å’Œè®¡ç®—ï¼š1Â² + 2Â² + ... + 10Â²
  // æ‰‹åŠ¨è®¡ç®—å‰å‡ é¡¹éªŒè¯
  let square1 = @azimuth.multiply(1, 1)
  let square2 = @azimuth.multiply(2, 2)
  let square3 = @azimuth.multiply(3, 3)
  let square4 = @azimuth.multiply(4, 4)
  let square5 = @azimuth.multiply(5, 5)
  
  let sum_of_squares = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(square1, square2), square3), square4), square5)
  @azimuth.assert_eq(55, sum_of_squares)  // 1 + 4 + 9 + 16 + 25 = 55
}

// æµ‹è¯•ç”¨ä¾‹10: æ•°æ®è½¬æ¢åœºæ™¯æµ‹è¯•
test "data_conversion_scenarios" {
  // æµ‹è¯•æ•°å­—åˆ°å­—ç¬¦ä¸²çš„é—´æ¥è½¬æ¢ï¼ˆé€šè¿‡greetå‡½æ•°ï¼‰
  let number_str = "2023"
  let result = @azimuth.greet(number_str)
  @azimuth.assert_eq_string("Hello, 2023!", result)
  
  // æµ‹è¯•åŒ…å«æ•°å­—å’Œå­—æ¯çš„æ··åˆå­—ç¬¦ä¸²
  let mixed_str = "User123"
  let result2 = @azimuth.greet(mixed_str)
  @azimuth.assert_eq_string("Hello, User123!", result2)
  
  // æµ‹è¯•åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
  let spaced_str = "John Doe"
  let result3 = @azimuth.greet(spaced_str)
  @azimuth.assert_eq_string("Hello, John Doe!", result3)
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  let email_str = "test@example.com"
  let result4 = @azimuth.greet(email_str)
  @azimuth.assert_eq_string("Hello, test@example.com!", result4)
}