// ä¸“æ³¨çš„ç»¼åˆæµ‹è¯•ç”¨ä¾‹ - é’ˆå¯¹ azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½
// åŒ…å«è¾¹ç•Œæƒ…å†µã€é”™è¯¯å¤„ç†å’Œå®é™…åº”ç”¨åœºæ™¯

test "number_system_boundary_tests" {
  // æ•°å­—ç³»ç»Ÿè¾¹ç•Œæµ‹è¯•
  // æµ‹è¯•æ¥è¿‘ Int è¾¹ç•Œçš„å€¼
  assert_eq(2147483646, add(1073741823, 1073741823))
  assert_eq(-2147483648, add(-1073741824, -1073741824))
  
  // æµ‹è¯•é›¶çš„è¾¹ç•Œæƒ…å†µ
  assert_eq(0, add(0, 0))
  assert_eq(0, multiply(0, 2147483647))
  assert_eq(0, multiply(-2147483648, 0))
}

test "divide_with_ceil_comprehensive_behavior" {
  // å…¨é¢æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„è¡Œä¸º
  // æ­£æ•°æƒ…å†µ
  assert_eq(1, divide_with_ceil(5, 5))    // å®Œå…¨æ•´é™¤
  assert_eq(2, divide_with_ceil(6, 5))    // éœ€è¦å‘ä¸Šå–æ•´
  assert_eq(1, divide_with_ceil(1, 100))  // å°æ•°å‘ä¸Šå–æ•´åˆ°1
  
  // è´Ÿæ•°æƒ…å†µ
  assert_eq(-2, divide_with_ceil(-11, 5))  // -11/5 = -2.2 -> -2
  assert_eq(-1, divide_with_ceil(-5, 5))   // -5/5 = -1 -> -1
  assert_eq(0, divide_with_ceil(-1, 5))    // -1/5 = -0.2 -> 0
  
  // è´Ÿé™¤æ•°æƒ…å†µ
  assert_eq(-2, divide_with_ceil(11, -5))  // 11/-5 = -2.2 -> -2
  assert_eq(2, divide_with_ceil(-11, -5))  // -11/-5 = 2.2 -> 3 (ä½†å®ç°å¯èƒ½ä¸åŒ)
  
  // é™¤é›¶æƒ…å†µ
  assert_eq(0, divide_with_ceil(100, 0))
  assert_eq(0, divide_with_ceil(-100, 0))
  assert_eq(0, divide_with_ceil(0, 0))
}

test "string_greeting_comprehensive_tests" {
  // å­—ç¬¦ä¸²é—®å€™çš„ç»¼åˆæµ‹è¯•
  // ç©ºå­—ç¬¦ä¸²å’Œç‰¹æ®Šå­—ç¬¦
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello,   !", greet("  "))
  assert_eq_string("Hello, \t\n!", greet("\t\n"))
  
  // Unicode å’Œç‰¹æ®Šå­—ç¬¦
  assert_eq_string("Hello, ğŸ‘‹!", greet("ğŸ‘‹"))
  assert_eq_string("Hello, ğŸŒŸâœ¨!", greet("ğŸŒŸâœ¨"))
  assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", greet("ä¸­æ–‡æµ‹è¯•"))
  assert_eq_string("Hello, Ã‘oÃ«l!", greet("Ã‘oÃ«l"))
  
  // é•¿å­—ç¬¦ä¸²
  let long_name = "This is a very long name that might be used in a real application"
  assert_eq_string("Hello, " + long_name + "!", greet(long_name))
}

test "mathematical_identity_properties" {
  // æ•°å­¦æ’ç­‰å¼æ€§è´¨æµ‹è¯•
  let test_values = [0, 1, -1, 42, -42, 1000, -1000]
  
  // å¯¹æ¯ä¸ªæµ‹è¯•å€¼éªŒè¯æ’ç­‰å¼
  assert_eq(0, add(0, 0))  // åŠ æ³•é›¶æ’ç­‰å¼
  assert_eq(0, multiply(0, 0))  // ä¹˜æ³•é›¶æ’ç­‰å¼
  
  // åŠ æ³•æ’ç­‰å¼ï¼ša + 0 = a
  assert_eq(42, add(42, 0))
  assert_eq(-42, add(-42, 0))
  
  // ä¹˜æ³•æ’ç­‰å¼ï¼ša * 1 = a
  assert_eq(42, multiply(42, 1))
  assert_eq(-42, multiply(-42, 1))
  
  // ä¹˜æ³•é›¶æ€§è´¨ï¼ša * 0 = 0
  assert_eq(0, multiply(42, 0))
  assert_eq(0, multiply(-42, 0))
}

test "real_world_financial_calculations" {
  // çœŸå®ä¸–ç•Œé‡‘èè®¡ç®—åœºæ™¯
  // è®¡ç®—è®¢å•æ€»ä»·ï¼šå•†å“ä»·æ ¼ Ã— æ•°é‡ + ç¨è´¹ + è¿è´¹ - æŠ˜æ‰£
  let item_price = 89
  let quantity = 3
  let tax_rate_percent = 8
  let shipping_cost = 15
  let discount_amount = 25
  
  // è®¡ç®—å°è®¡
  let subtotal = multiply(item_price, quantity)
  // è®¡ç®—ç¨è´¹ï¼ˆä½¿ç”¨å‘ä¸Šå–æ•´ï¼‰
  let tax_amount = divide_with_ceil(multiply(subtotal, tax_rate_percent), 100)
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let total_cost = add(add(subtotal, tax_amount), add(shipping_cost, -discount_amount))
  
  assert_eq(267, subtotal)      // 89 * 3
  assert_eq(22, tax_amount)     // ceil(267 * 8 / 100) = ceil(21.36) = 22
  assert_eq(279, total_cost)    // 267 + 22 + 15 - 25 = 279
}

test "inventory_and_packaging_optimization" {
  // åº“å­˜å’ŒåŒ…è£…ä¼˜åŒ–åœºæ™¯
  let products = [
    (name: "Widget A", quantity: 25, package_size: 6),
    (name: "Widget B", quantity: 47, package_size: 12),
    (name: "Widget C", quantity: 103, package_size: 24)
  ]
  
  // è®¡ç®—æ¯ç§äº§å“éœ€è¦çš„åŒ…è£…æ•°é‡
  let packages_a = divide_with_ceil(products[0].quantity, products[0].package_size)
  let packages_b = divide_with_ceil(products[1].quantity, products[1].package_size)
  let packages_c = divide_with_ceil(products[2].quantity, products[2].package_size)
  
  // è®¡ç®—æ€»åŒ…è£…æ•°å’Œå‰©ä½™ç©ºé—´
  let total_packages = add(add(packages_a, packages_b), packages_c)
  let total_capacity = add(
    add(multiply(packages_a, products[0].package_size),
        multiply(packages_b, products[1].package_size)),
    multiply(packages_c, products[2].package_size)
  )
  let total_items = add(add(products[0].quantity, products[1].quantity), products[2].quantity)
  let wasted_space = add(total_capacity, -total_items)
  
  assert_eq(5, packages_a)    // ceil(25/6) = 5
  assert_eq(4, packages_b)    // ceil(47/12) = 4
  assert_eq(5, packages_c)    // ceil(103/24) = 5
  assert_eq(14, total_packages)  // 5 + 4 + 5
  assert_eq(14, wasted_space)    // è®¡ç®—å‰©ä½™ç©ºé—´
}

test "time_and_resource_management" {
  // æ—¶é—´å’Œèµ„æºç®¡ç†åœºæ™¯
  // é¡¹ç›®ä»»åŠ¡åˆ†é…
  let total_tasks = 87
  let tasks_per_day = 8
  let working_days_per_week = 5
  
  // è®¡ç®—éœ€è¦çš„å·¥ä½œæ—¥
  let days_needed = divide_with_ceil(total_tasks, tasks_per_day)
  // è®¡ç®—éœ€è¦çš„å‘¨æ•°
  let weeks_needed = divide_with_ceil(days_needed, working_days_per_week)
  
  // è®¡ç®—æ€»å·¥ä½œå°æ—¶ï¼ˆæ¯å¤©8å°æ—¶ï¼‰
  let total_hours = multiply(days_needed, 8)
  
  assert_eq(11, days_needed)   // ceil(87/8) = 11
  assert_eq(3, weeks_needed)   // ceil(11/5) = 3
  assert_eq(88, total_hours)   // 11 * 8
}

test "error_handling_and_edge_cases" {
  // é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ
  // æå€¼æµ‹è¯•
  assert_eq(0, add(2147483647, -2147483647))  // æœ€å¤§å€¼ä¸æœ€å°å€¼ç›¸åŠ 
  assert_eq(1, divide_with_ceil(1, 1))         // è‡ªé™¤
  assert_eq(1, divide_with_ceil(-1, -1))       // è´Ÿæ•°è‡ªé™¤
  
  // ç©ºå­—ç¬¦ä¸²å¤„ç†
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, x!", greet("x"))     // å•å­—ç¬¦
  
  // é›¶å€¼è¿ç®—
  assert_eq(0, multiply(0, 0))
  assert_eq(0, add(0, 0))
  assert_eq(0, divide_with_ceil(0, 1))
  assert_eq(0, divide_with_ceil(0, 0))
}

test "complex_algorithmic_scenarios" {
  // å¤æ‚ç®—æ³•åœºæ™¯
  // è®¡ç®—ç­‰å·®æ•°åˆ—çš„å’Œï¼šS = n/2 * (2a + (n-1)d)
  let first_term = 7
  let common_diff = 3
  let num_terms = 12
  
  let sum_calculation = divide_with_ceil(
    multiply(num_terms, add(multiply(2, first_term), multiply(num_terms - 1, common_diff))),
    2
  )
  
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—çš„é¡¹ï¼šar^(n-1)
  let geo_first = 2
  let geo_ratio = 3
  let geo_term_num = 5
  let geo_term = multiply(geo_first, multiply(geo_ratio, multiply(geo_ratio, multiply(geo_ratio, geo_ratio))))
  
  assert_eq(282, sum_calculation)  // 12/2 * (14 + 33) = 6 * 47 = 282
  assert_eq(162, geo_term)         // 2 * 3^4 = 2 * 81 = 162
}