// ä¸“æ³¨çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// è¦†ç›– azimuth é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½å’Œå®é™…åº”ç”¨åœºæ™¯

test "basic_arithmetic_operations" {
  // æµ‹è¯•åŸºæœ¬ç®—æœ¯è¿ç®—
  @azimuth.assert_eq(15, @azimuth.add(7, 8))
  @azimuth.assert_eq(-6, @azimuth.add(-10, 4))
  @azimuth.assert_eq(24, @azimuth.multiply(6, 4))
  @azimuth.assert_eq(-18, @azimuth.multiply(-3, 6))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 12345))
}

test "overflow_protection_mechanisms" {
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤æœºåˆ¶
  let max_val = 2147483647
  let min_val = -2147483648
  
  // åŠ æ³•æº¢å‡ºä¿æŠ¤
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 100))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -100))
  
  // ä¹˜æ³•æº¢å‡ºä¿æŠ¤
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 2))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 2))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
}

test "string_processing_capabilities" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†èƒ½åŠ›
  @azimuth.assert_eq_string("Hello, MoonBit!", @azimuth.greet("MoonBit"))
  @azimuth.assert_eq_string("Hello, ç”¨æˆ·123!", @azimuth.greet("ç”¨æˆ·123"))
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
}

test "mathematical_formula_implementation" {
  // æµ‹è¯•æ•°å­¦å…¬å¼å®ç°
  // è®¡ç®—çŸ©å½¢é¢ç§¯å’Œå‘¨é•¿
  let length = 12
  let width = 8
  
  let area = @azimuth.multiply(length, width)
  let perimeter = @azimuth.add(@azimuth.multiply(2, length), @azimuth.multiply(2, width))
  
  @azimuth.assert_eq(96, area)
  @azimuth.assert_eq(40, perimeter)
}

test "financial_calculation_scenario" {
  // æµ‹è¯•é‡‘èè®¡ç®—åœºæ™¯
  // å¤åˆåˆ©æ¯è®¡ç®—ï¼šæœ¬é‡‘ Ã— (1 + åˆ©ç‡ Ã— å¹´æ•°)
  let principal = 5000
  let rate = 8  // 8%
  let years = 3
  
  let interest = @azimuth.multiply(principal, @azimuth.multiply(rate, years))
  let total_amount = @azimuth.add(principal, interest)
  
  @azimuth.assert_eq(125000, total_amount)  // 5000 + 5000Ã—8Ã—3 = 125000
}

test "data_analysis_operations" {
  // æµ‹è¯•æ•°æ®åˆ†ææ“ä½œ
  // è®¡ç®—ä¸€ç»„æ•°æ®çš„å¹³å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼
  let data1 = 85
  let data2 = 92
  let data3 = 78
  let data4 = 96
  let data5 = 89
  
  let sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(data1, data2), data3), data4), data5)
  let average = sum / 5
  
  @azimuth.assert_eq(440, sum)
  @azimuth.assert_eq(88, average)
  
  // éªŒè¯æ•°æ®èŒƒå›´
  @azimuth.assert_true(average >= data3)
  @azimuth.assert_true(average <= data4)
}

test "unit_conversion_calculations" {
  // æµ‹è¯•å•ä½è½¬æ¢è®¡ç®—
  // å…¬é‡Œè½¬ç±³ï¼š1å…¬é‡Œ = 1000ç±³
  let kilometers = 5
  let meters = @azimuth.multiply(kilometers, 1000)
  @azimuth.assert_eq(5000, meters)
  
  // å°æ—¶è½¬ç§’ï¼š1å°æ—¶ = 3600ç§’
  let hours = 2
  let seconds = @azimuth.multiply(hours, 3600)
  @azimuth.assert_eq(7200, seconds)
  
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼šF = C Ã— 2 + 30
  let celsius = 15
  let fahrenheit = @azimuth.add(@azimuth.multiply(celsius, 2), 30)
  @azimuth.assert_eq(60, fahrenheit)
}

test "error_boundary_conditions" {
  // æµ‹è¯•é”™è¯¯è¾¹ç•Œæ¡ä»¶
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æ–­è¨€å‡½æ•°
  @azimuth.assert_true(true)
  @azimuth.assert_false(false)
  @azimuth.assert_eq(100, 100)
  @azimuth.assert_eq_string("test", "test")
  
  // æµ‹è¯•è¾¹ç•Œå€¼è¿ç®—
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(min_val, 0))
}

test "complex_business_logic" {
  // æµ‹è¯•å¤æ‚ä¸šåŠ¡é€»è¾‘
  // è®¢å•æ€»ä»·è®¡ç®—ï¼šå•†å“ä»·æ ¼ Ã— æ•°é‡ + ç¨è´¹ - æŠ˜æ‰£
  let item_price = 199
  let quantity = 3
  let tax_rate = 10  // 10%
  let discount = 50
  
  let subtotal = @azimuth.multiply(item_price, quantity)
  let tax_amount = @azimuth.multiply(subtotal, tax_rate) / 100
  let total_before_discount = @azimuth.add(subtotal, tax_amount)
  let final_total = @azimuth.add(total_before_discount, -discount)
  
  @azimuth.assert_eq(616, final_total)  // (199Ã—3) + (199Ã—3Ã—10/100) - 50 = 597 + 59 - 50 = 616
}

test "algorithmic_implementation" {
  // æµ‹è¯•ç®—æ³•å®ç°
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—å‰né¡¹å’Œï¼ša + ar + arÂ² + ... + ar^(n-1)
  let a = 2  // é¦–é¡¹
  let r = 3  // å…¬æ¯”
  let n = 4  // é¡¹æ•°
  
  // æ‰‹åŠ¨è®¡ç®—ï¼š2 + 6 + 18 + 54 = 80
  let term1 = a
  let term2 = @azimuth.multiply(a, r)
  let term3 = @azimuth.multiply(term2, r)
  let term4 = @azimuth.multiply(term3, r)
  
  let sum = @azimuth.add(@azimuth.add(@azimuth.add(term1, term2), term3), term4)
  @azimuth.assert_eq(80, sum)
}