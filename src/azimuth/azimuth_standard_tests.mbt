// Azimuth é¡¹ç›®æ ‡å‡†æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œé’ˆå¯¹æ ¸å¿ƒåŠŸèƒ½è¿›è¡Œå…¨é¢æµ‹è¯•

test "add_function_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  assert_eq(15, azimuth.add(7, 8))
  assert_eq(15, azimuth.add(8, 7))
  assert_eq(0, azimuth.add(5, -5))
  assert_eq(0, azimuth.add(-5, 5))
}

test "multiply_function_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹
  let a = 3
  let b = 4
  let c = 5
  
  // a * (b + c) = a * b + a * c
  let left_side = azimuth.multiply(a, azimuth.add(b, c))
  let right_side = azimuth.add(azimuth.multiply(a, b), azimuth.multiply(a, c))
  
  assert_eq(left_side, right_side)
}

test "divide_with_ceil_fractional_cases" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„å°æ•°æƒ…å†µ
  assert_eq(2, azimuth.divide_with_ceil(3, 2))  // 1.5 -> 2
  assert_eq(3, azimuth.divide_with_ceil(8, 3))  // 2.666... -> 3
  assert_eq(4, azimuth.divide_with_ceil(11, 3)) // 3.666... -> 4
  assert_eq(0, azimuth.divide_with_ceil(5, 0))  // é™¤æ•°ä¸ºé›¶çš„å®‰å…¨å¤„ç†
}

test "greet_function_special_characters" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„ç‰¹æ®Šå­—ç¬¦å¤„ç†
  assert_eq_string("Hello, ä¸–ç•Œ!", azimuth.greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸš€!", azimuth.greet("ğŸš€"))
  assert_eq_string("Hello, user@example.com!", azimuth.greet("user@example.com"))
  assert_eq_string("Hello, !", azimuth.greet(""))
}

test "complex_business_calculation" {
  // æµ‹è¯•å¤æ‚ä¸šåŠ¡è®¡ç®—åœºæ™¯
  let unit_price = 25
  let quantity = 8
  let tax_rate = 8
  let shipping = 15
  
  // è®¡ç®—å°è®¡
  let subtotal = azimuth.multiply(unit_price, quantity)
  // è®¡ç®—ç¨è´¹
  let tax = azimuth.divide_with_ceil(azimuth.multiply(subtotal, tax_rate), 100)
  // è®¡ç®—æ€»ä»·
  let total = azimuth.add(azimuth.add(subtotal, tax), shipping)
  
  assert_eq(200, subtotal)
  assert_eq(16, tax)
  assert_eq(231, total)
}

test "mathematical_series_sum" {
  // æµ‹è¯•æ•°å­¦çº§æ•°æ±‚å’Œ
  let n = 10
  
  // è®¡ç®—ç­‰å·®æ•°åˆ—å’Œï¼š1 + 2 + 3 + ... + n
  let arithmetic_sum = azimuth.divide_with_ceil(
    azimuth.multiply(n, azimuth.add(n, 1)),
    2
  )
  
  // è®¡ç®—ç­‰æ¯”æ•°åˆ—å’Œï¼š1 + 2 + 4 + 8 + 16
  let geometric_sum = azimuth.add(
    azimuth.add(
      azimuth.add(azimuth.multiply(1, 1), azimuth.multiply(2, 2)),
      azimuth.multiply(4, 4)
    ),
    azimuth.multiply(8, 8)
  )
  
  assert_eq(55, arithmetic_sum)
  assert_eq(85, geometric_sum)
}

test "negative_number_operations" {
  // æµ‹è¯•è´Ÿæ•°è¿ç®—
  assert_eq(-10, azimuth.add(-3, -7))
  assert_eq(-5, azimuth.add(-8, 3))
  assert_eq(15, azimuth.multiply(-3, -5))
  assert_eq(-15, azimuth.multiply(3, -5))
  assert_eq(-3, azimuth.divide_with_ceil(-10, 3))
  assert_eq(-4, azimuth.divide_with_ceil(-11, 3))
}

test "large_number_precision" {
  // æµ‹è¯•å¤§æ•°ç²¾åº¦
  let large_num = 1000000
  
  assert_eq(2000000, azimuth.add(large_num, large_num))
  assert_eq(1000000, azimuth.multiply(1000, 1000))
  assert_eq(333334, azimuth.divide_with_ceil(1000000, 3))
  assert_eq(1, azimuth.divide_with_ceil(1, 1000000))
}

test "real_world_packaging_scenario" {
  // æµ‹è¯•å®é™…åŒ…è£…åœºæ™¯
  let small_items = 25
  let medium_items = 47
  let large_items = 83
  
  let small_box_capacity = 6
  let medium_box_capacity = 12
  let large_box_capacity = 24
  
  // è®¡ç®—æ¯ç§ç‰©å“éœ€è¦çš„ç®±å­æ•°é‡
  let small_boxes = azimuth.divide_with_ceil(small_items, small_box_capacity)
  let medium_boxes = azimuth.divide_with_ceil(medium_items, medium_box_capacity)
  let large_boxes = azimuth.divide_with_ceil(large_items, large_box_capacity)
  
  // è®¡ç®—æ€»ç®±å­æ•°
  let total_boxes = azimuth.add(
    azimuth.add(small_boxes, medium_boxes),
    large_boxes
  )
  
  assert_eq(5, small_boxes)   // ceil(25/6) = 5
  assert_eq(4, medium_boxes)  // ceil(47/12) = 4
  assert_eq(4, large_boxes)   // ceil(83/24) = 4
  assert_eq(13, total_boxes)  // 5 + 4 + 4 = 13
}

test "time_calculation_workflow" {
  // æµ‹è¯•æ—¶é—´è®¡ç®—å·¥ä½œæµ
  let total_tasks = 45
  let tasks_per_hour = 8
  let work_hours_per_day = 8
  
  // è®¡ç®—éœ€è¦çš„å·¥ä½œå°æ—¶æ•°
  let total_hours_needed = azimuth.divide_with_ceil(total_tasks, tasks_per_hour)
  
  // è®¡ç®—éœ€è¦çš„å·¥ä½œå¤©æ•°
  let total_days_needed = azimuth.divide_with_ceil(total_hours_needed, work_hours_per_day)
  
  assert_eq(6, total_hours_needed)  // ceil(45/8) = 6
  assert_eq(1, total_days_needed)   // ceil(6/8) = 1
}