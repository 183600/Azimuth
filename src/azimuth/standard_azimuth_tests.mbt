// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åŒ…çš„æ ¸å¿ƒåŠŸèƒ½

test "add_basic_functionality" {
  // æµ‹è¯•åŸºæœ¬åŠ æ³•åŠŸèƒ½
  assert_eq(0, add(0, 0))
  assert_eq(5, add(2, 3))
  assert_eq(-1, add(-2, 1))
  assert_eq(10, add(-5, 15))
}

test "add_boundary_values" {
  // æµ‹è¯•è¾¹ç•Œå€¼åŠ æ³•
  let max_val = 2147483647
  let min_val = -2147483648
  
  assert_eq(max_val, add(max_val, 1))
  assert_eq(min_val, add(min_val, -1))
  assert_eq(-1, add(max_val, min_val))
}

test "multiply_basic_functionality" {
  // æµ‹è¯•åŸºæœ¬ä¹˜æ³•åŠŸèƒ½
  assert_eq(0, multiply(0, 5))
  assert_eq(6, multiply(2, 3))
  assert_eq(-6, multiply(-2, 3))
  assert_eq(15, multiply(5, 3))
}

test "multiply_boundary_values" {
  // æµ‹è¯•è¾¹ç•Œå€¼ä¹˜æ³•
  let max_val = 2147483647
  let min_val = -2147483648
  
  assert_eq(0, multiply(max_val, 0))
  assert_eq(min_val, multiply(min_val, 1))
  assert_eq(min_val, multiply(min_val, -1))
}

test "greet_functionality" {
  // æµ‹è¯•é—®å€™å‡½æ•°
  assert_eq_string("Hello, World!", greet("World"))
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, MoonBit!", greet("MoonBit"))
}

test "complex_calculations" {
  // æµ‹è¯•å¤åˆè®¡ç®—
  let a = 10
  let b = 20
  let c = 5
  
  // (a + b) * c
  let result = multiply(add(a, b), c)
  assert_eq(150, result)
  
  // a * c + b * c
  let result2 = add(multiply(a, c), multiply(b, c))
  assert_eq(result, result2)
}

test "mathematical_properties" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨
  let x = 7
  let y = 11
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(add(x, y), add(y, x))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(multiply(x, y), multiply(y, x))
  
  // åˆ†é…å¾‹
  assert_eq(multiply(x, add(y, 3)), add(multiply(x, y), multiply(x, 3)))
}

test "real_world_scenarios" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯
  // è®¡ç®—çŸ©å½¢å‘¨é•¿ï¼š2 * (length + width)
  let length = 8
  let width = 5
  let perimeter = multiply(2, add(length, width))
  assert_eq(26, perimeter)
  
  // è®¡ç®—ç®€å•åˆ©æ¯ï¼šprincipal * rate * time
  let principal = 1000
  let rate = 5
  let time = 3
  let interest = multiply(principal, multiply(rate, time))
  assert_eq(15000, interest)
}

test "error_handling" {
  // æµ‹è¯•é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ
  assert_true(true)
  assert_false(false)
  
  let max_val = 2147483647
  let min_val = -2147483648
  
  // éªŒè¯æº¢å‡ºä¿æŠ¤
  assert_true(add(max_val, 100) == max_val)
  assert_true(multiply(max_val, 2) == max_val)
  assert_true(add(min_val, -100) == min_val)
}

// æ–°å¢çš„é«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹
test "add_function_overflow_comprehensive" {
  // æµ‹è¯•åŠ æ³•å‡½æ•°çš„å…¨é¢æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æ­£æ•°æº¢å‡º
  assert_eq(max_val, add(max_val, 1))
  assert_eq(max_val, add(max_val, max_val))
  
  // æµ‹è¯•è´Ÿæ•°æº¢å‡º
  assert_eq(min_val, add(min_val, -1))
  assert_eq(min_val, add(min_val, min_val))
  
  // æµ‹è¯•é›¶å€¼åŠ æ³•
  assert_eq(5, add(0, 5))
  assert_eq(-5, add(0, -5))
  assert_eq(0, add(0, 0))
}

test "multiply_function_overflow_comprehensive" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„å…¨é¢æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æ­£æ•°æº¢å‡º
  assert_eq(max_val, multiply(46341, 46341))
  
  // æµ‹è¯•è´Ÿæ•°æº¢å‡º
  assert_eq(min_val, multiply(-46341, 46341))
  
  // æµ‹è¯•æœ€å°å€¼çš„ç‰¹æ®Šæƒ…å†µ
  assert_eq(min_val, multiply(min_val, -1))
  assert_eq(min_val, multiply(min_val, 2))
  
  // æµ‹è¯•é›¶å€¼ä¹˜æ³•
  assert_eq(0, multiply(0, max_val))
  assert_eq(0, multiply(0, min_val))
}

test "greet_function_special_characters" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„ç‰¹æ®Šå­—ç¬¦å¤„ç†
  assert_eq_string("Hello, @#$%!", greet("@#$%"))
  assert_eq_string("Hello,   !", greet("  "))
  assert_eq_string("Hello, line1\nline2!", greet("line1\nline2"))
  assert_eq_string("Hello, \"quoted\"!", greet("\"quoted\""))
  assert_eq_string("Hello, emojiğŸŒ!", greet("emojiğŸŒ"))
  assert_eq_string("Hello, æµ‹è¯•!", greet("æµ‹è¯•"))
}

test "complex_mathematical_operations" {
  // æµ‹è¯•å¤æ‚æ•°å­¦è¿ç®—ç»„åˆ
  let a = 10
  let b = 20
  let c = 5
  
  // æµ‹è¯• (a + b) * c
  let sum_ab = add(a, b)
  let result = multiply(sum_ab, c)
  assert_eq(150, result)
  
  // æµ‹è¯• a * b + c
  let product_ab = multiply(a, b)
  let result2 = add(product_ab, c)
  assert_eq(205, result2)
}

test "real_world_shopping_cart" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šè´­ç‰©è½¦æ€»ä»·è®¡ç®—
  let item1_price = 199
  let item1_quantity = 2
  let item2_price = 299
  let item2_quantity = 1
  let shipping = 20
  
  // è®¡ç®—å•†å“æ€»ä»·
  let total1 = multiply(item1_price, item1_quantity)
  let total2 = multiply(item2_price, item2_quantity)
  let subtotal = add(total1, total2)
  let final_total = add(subtotal, shipping)
  
  // éªŒè¯æ€»ä»·ï¼š199*2 + 299*1 + 20 = 398 + 299 + 20 = 717
  assert_eq(717, final_total)
}

test "mathematical_properties_distributive" {
  // æµ‹è¯•åˆ†é…å¾‹ï¼ša * (b + c) = a * b + a * c
  let a = 7
  let b = 11
  let c = 3
  
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  assert_eq(left_side, right_side)
  
  // æµ‹è¯•å¹³æ–¹å·®å…¬å¼ï¼š(a + b) * (a - b) = aÂ² - bÂ²
  let sum = add(a, b)
  let diff = add(a, -b)
  let product = multiply(sum, diff)
  let square_diff = add(multiply(a, a), multiply(-b, b))
  assert_eq(product, square_diff)
}

test "edge_cases_and_boundary_conditions" {
  // æµ‹è¯•è¾¹ç•Œæ¡ä»¶å’Œç‰¹æ®Šæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•å•ä½å€¼è¿ç®—
  assert_eq(max_val, multiply(max_val, 1))
  assert_eq(min_val, multiply(min_val, 1))
  assert_eq(-5, multiply(5, -1))
  
  // æµ‹è¯•è¿ç»­è¿ç®—
  let chain_result = add(multiply(2, 3), multiply(4, 5))
  assert_eq(26, chain_result)
  
  // æµ‹è¯•åµŒå¥—è¿ç®—
  let nested_result = multiply(add(10, 20), add(5, 15))
  assert_eq(600, nested_result)
}

test "temperature_conversion" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šæ¸©åº¦è½¬æ¢ï¼ˆç®€åŒ–ç‰ˆï¼‰
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼šF = C * 2 + 30ï¼ˆç®€åŒ–å…¬å¼ï¼‰
  let celsius_temp = 25
  let fahrenheit_temp = add(multiply(celsius_temp, 2), 30)
  assert_eq(80, fahrenheit_temp)
  
  // æµ‹è¯•å†°ç‚¹æ¸©åº¦
  let freezing_celsius = 0
  let freezing_fahrenheit = add(multiply(freezing_celsius, 2), 30)
  assert_eq(30, freezing_fahrenheit)
  
  // æµ‹è¯•æ²¸ç‚¹æ¸©åº¦
  let boiling_celsius = 100
  let boiling_fahrenheit = add(multiply(boiling_celsius, 2), 30)
  assert_eq(230, boiling_fahrenheit)
}