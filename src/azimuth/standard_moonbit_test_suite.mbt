// æ ‡å‡† MoonBit æµ‹è¯•å¥—ä»¶
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œé’ˆå¯¹ azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•

test "add_function_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  let a = 15
  let b = 27
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // æµ‹è¯•è´Ÿæ•°äº¤æ¢å¾‹
  let x = -10
  let y = 25
  @azimuth.assert_eq(@azimuth.add(x, y), @azimuth.add(y, x))
}

test "multiply_function_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹: a * (b + c) = a * b + a * c
  let a = 5
  let b = 8
  let c = 12
  
  let left_side = @azimuth.multiply(a, @azimuth.add(b, c))
  let right_side = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
  
  @azimuth.assert_eq(left_side, right_side)
}

test "divide_with_ceil_edge_cases" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„è¾¹ç•Œæƒ…å†µ
  // æµ‹è¯•è¢«é™¤æ•°å°äºé™¤æ•°
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(3, 10))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(1, 100))
  
  // æµ‹è¯•è´Ÿæ•°é™¤æ³•
  @azimuth.assert_eq(-2, @azimuth.divide_with_ceil(-15, 8))
  @azimuth.assert_eq(-1, @azimuth.divide_with_ceil(-5, 10))
  
  // æµ‹è¯•é™¤æ•°ä¸ºé›¶çš„å®‰å…¨å¤„ç†
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(50, 0))
}

test "greet_function_unicode_support" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„ Unicode æ”¯æŒ
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ğŸŒŸ!", @azimuth.greet("ğŸŒŸ"))
  @azimuth.assert_eq_string("Hello, Ã±Ã¡Ã©Ã­Ã³Ãº!", @azimuth.greet("Ã±Ã¡Ã©Ã­Ã³Ãº"))
  @azimuth.assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", @azimuth.greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
}

test "complex_business_calculation" {
  // å¤æ‚ä¸šåŠ¡è®¡ç®—ï¼šè®¢å•æ€»ä»·è®¡ç®—
  let unit_price = 45
  let quantity = 12
  let tax_rate = 8  // 8%
  let shipping = 25
  let discount = 50
  
  // è®¡ç®—å°è®¡
  let subtotal = @azimuth.multiply(unit_price, quantity)
  // è®¡ç®—ç¨è´¹
  let tax = @azimuth.divide_with_ceil(@azimuth.multiply(subtotal, tax_rate), 100)
  // è®¡ç®—æ€»ä»·
  let total = @azimuth.add(@azimuth.add(subtotal, tax), shipping)
  // åº”ç”¨æŠ˜æ‰£
  let final_total = @azimuth.add(total, -discount)
  
  @azimuth.assert_eq(540, subtotal)
  @azimuth.assert_eq(44, tax)
  @azimuth.assert_eq(609, total)
  @azimuth.assert_eq(559, final_total)
}

test "mathematical_sequence_calculation" {
  // æ•°å­¦åºåˆ—è®¡ç®—ï¼šç­‰å·®æ•°åˆ—æ±‚å’Œ
  let first_term = 7
  let common_difference = 3
  let number_of_terms = 8
  
  // ä½¿ç”¨å…¬å¼ï¼šS = n/2 * (2a + (n-1)d)
  let sum = @azimuth.divide_with_ceil(
    @azimuth.multiply(number_of_terms, @azimuth.add(@azimuth.multiply(2, first_term), @azimuth.multiply(number_of_terms - 1, common_difference))),
    2
  )
  
  @azimuth.assert_eq(104, sum)  // 8/2 * (14 + 21) = 4 * 35 = 140 -> ä¿®æ­£è®¡ç®—
}

test "resource_allocation_scenario" {
  // èµ„æºåˆ†é…åœºæ™¯ï¼šè®¡ç®—é¡¹ç›®èµ„æºéœ€æ±‚
  let total_tasks = 67
  let tasks_per_person = 8
  let work_days = 5
  
  // è®¡ç®—éœ€è¦çš„äººå‘˜æ•°é‡
  let people_needed = @azimuth.divide_with_ceil(total_tasks, tasks_per_person)
  
  // è®¡ç®—æ€»å·¥ä½œæ—¥
  let total_work_days = @azimuth.multiply(people_needed, work_days)
  
  @azimuth.assert_eq(9, people_needed)  // ceil(67/8) = 9
  @azimuth.assert_eq(45, total_work_days)  // 9 * 5 = 45
}

test "financial_compound_interest" {
  // é‡‘èè®¡ç®—ï¼šå¤åˆ©è®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let principal = 10000
  let interest_rate = 6  // 6%
  let years = 3
  
  // ç¬¬ä¸€å¹´
  let year1 = @azimuth.add(principal, @azimuth.divide_with_ceil(@azimuth.multiply(principal, interest_rate), 100))
  // ç¬¬äºŒå¹´
  let year2 = @azimuth.add(year1, @azimuth.divide_with_ceil(@azimuth.multiply(year1, interest_rate), 100))
  // ç¬¬ä¸‰å¹´
  let year3 = @azimuth.add(year2, @azimuth.divide_with_ceil(@azimuth.multiply(year2, interest_rate), 100))
  
  @azimuth.assert_eq(10600, year1)
  @azimuth.assert_eq(11236, year2)
  @azimuth.assert_eq(11910, year3)
}

test "string_processing_with_greet" {
  // å­—ç¬¦ä¸²å¤„ç†ä¸é—®å€™å‡½æ•°ç»“åˆ
  let prefix = "Dr."
  let first_name = "Alice"
  let last_name = "Johnson"
  
  // æ„å»ºå®Œæ•´å§“å
  let full_name = prefix + " " + first_name + " " + last_name
  let formal_greeting = @azimuth.greet(full_name)
  
  @azimuth.assert_eq_string("Hello, Dr. Alice Johnson!", formal_greeting)
  
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦ç»„åˆ
  let special_chars = "@#$%^&*()"
  let special_greeting = @azimuth.greet(special_chars)
  @azimuth.assert_eq_string("Hello, @#$%^&*()!", special_greeting)
}

test "inventory_packaging_optimization" {
  // åº“å­˜åŒ…è£…ä¼˜åŒ–ï¼šè®¡ç®—æœ€ä¼˜åŒ…è£…æ–¹æ¡ˆ
  let small_items = 35
  let medium_items = 28
  let large_items = 15
  
  let small_box_capacity = 12
  let medium_box_capacity = 8
  let large_box_capacity = 4
  
  // è®¡ç®—æ¯ç§å°ºå¯¸éœ€è¦çš„ç®±å­æ•°é‡
  let small_boxes = @azimuth.divide_with_ceil(small_items, small_box_capacity)
  let medium_boxes = @azimuth.divide_with_ceil(medium_items, medium_box_capacity)
  let large_boxes = @azimuth.divide_with_ceil(large_items, large_box_capacity)
  
  // è®¡ç®—æ€»ç®±å­æ•°é‡
  let total_boxes = @azimuth.add(@azimuth.add(small_boxes, medium_boxes), large_boxes)
  
  @azimuth.assert_eq(3, small_boxes)   // ceil(35/12) = 3
  @azimuth.assert_eq(4, medium_boxes)  // ceil(28/8) = 4
  @azimuth.assert_eq(4, large_boxes)   // ceil(15/4) = 4
  @azimuth.assert_eq(11, total_boxes)  // 3 + 4 + 4 = 11
}