// Azimuth é¡¹ç›®å¢å¼ºå•å…ƒæµ‹è¯•
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œä¸“æ³¨äºæ ¸å¿ƒåŠŸèƒ½çš„æ·±åº¦æµ‹è¯•

test "add_function_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  let a = 12345
  let b = 67890
  
  let result1 = @azimuth.add(a, b)
  let result2 = @azimuth.add(b, a)
  
  @azimuth.assert_eq(result1, result2)
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  let c = -12345
  let d = 67890
  
  let result3 = @azimuth.add(c, d)
  let result4 = @azimuth.add(d, c)
  
  @azimuth.assert_eq(result3, result4)
}

test "multiply_function_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ï¼ša Ã— (b + c) = a Ã— b + a Ã— c
  let a = 15
  let b = 25
  let c = 35
  
  let left_side = @azimuth.multiply(a, @azimuth.add(b, c))
  let right_side = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
  
  @azimuth.assert_eq(left_side, right_side)
  
  // æµ‹è¯•åŒ…å«è´Ÿæ•°çš„æƒ…å†µ
  let x = -10
  let y = 20
  let z = 30
  
  let left_side2 = @azimuth.multiply(x, @azimuth.add(y, z))
  let right_side2 = @azimuth.add(@azimuth.multiply(x, y), @azimuth.multiply(x, z))
  
  @azimuth.assert_eq(left_side2, right_side2)
}

test "greet_function_special_characters" {
  // æµ‹è¯• greet å‡½æ•°å¤„ç†ç‰¹æ®Šå­—ç¬¦
  let special_chars = "!@#$%^&*()_+-=[]{}|;':\",./<>?"
  let result = @azimuth.greet(special_chars)
  
  @azimuth.assert_eq_string("Hello, !@#$%^&*()_+-=[]{}|;':\",./<>?!", result)
  
  // æµ‹è¯•åŒ…å«ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦çš„å­—ç¬¦ä¸²
  let whitespace_chars = "  Hello \t World  "
  let result2 = @azimuth.greet(whitespace_chars)
  
  @azimuth.assert_eq_string("Hello,   Hello \t World  !", result2)
}

test "complex_calculation_scenario" {
  // å¤æ‚è®¡ç®—åœºæ™¯ï¼šè®¡ç®— ((a + b) Ã— c - d) Ã· e
  let a = 100
  let b = 200
  let c = 3
  let d = 150
  let e = 5
  
  // æ­¥éª¤è®¡ç®—
  let sum_ab = @azimuth.add(a, b)  // 300
  let product = @azimuth.multiply(sum_ab, c)  // 900
  let difference = @azimuth.add(product, -d)  // 750
  let result = difference / e  // 150
  
  @azimuth.assert_eq(150, result)
}

test "boundary_value_combinations" {
  // è¾¹ç•Œå€¼ç»„åˆæµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—
  let sum_result = @azimuth.add(max_val, min_val)
  @azimuth.assert_eq(-1, sum_result)
  
  // æµ‹è¯•æœ€å¤§å€¼ä¸0çš„è¿ç®—
  let max_with_zero = @azimuth.add(max_val, 0)
  @azimuth.assert_eq(max_val, max_with_zero)
  
  // æµ‹è¯•æœ€å°å€¼ä¸0çš„è¿ç®—
  let min_with_zero = @azimuth.add(min_val, 0)
  @azimuth.assert_eq(min_val, min_with_zero)
  
  // æµ‹è¯•è¾¹ç•Œå€¼çš„ä¹˜æ³•
  let max_times_one = @azimuth.multiply(max_val, 1)
  @azimuth.assert_eq(max_val, max_times_one)
  
  let min_times_one = @azimuth.multiply(min_val, 1)
  @azimuth.assert_eq(min_val, min_times_one)
}

test "real_world_application_calculator" {
  // å®é™…åº”ç”¨åœºæ™¯ï¼šè®¡ç®—è´·æ¬¾æœˆä¾›ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let principal = 100000  // è´·æ¬¾æœ¬é‡‘
  let annual_rate = 6     // å¹´åˆ©ç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰
  let years = 30          // è´·æ¬¾å¹´é™
  
  // ç®€åŒ–è®¡ç®—ï¼šæœˆä¾› = (æœ¬é‡‘ + æœ¬é‡‘ Ã— å¹´åˆ©ç‡ Ã— å¹´æ•°) Ã· (å¹´æ•° Ã— 12)
  let total_interest = @azimuth.multiply(principal, @azimuth.multiply(annual_rate, years))
  let total_payment = @azimuth.add(principal, total_interest)
  let monthly_payment = total_payment / @azimuth.multiply(years, 12)
  
  // éªŒè¯è®¡ç®—ç»“æœï¼š(100000 + 100000Ã—6Ã—30) Ã· 360 = 19000000 Ã· 360 = 52777
  @azimuth.assert_eq(52777, monthly_payment)
}

test "string_processing_edge_cases" {
  // å­—ç¬¦ä¸²å¤„ç†è¾¹ç•Œæƒ…å†µ
  // æµ‹è¯•æé•¿å­—ç¬¦ä¸²
  let very_long_name = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"
  let result1 = @azimuth.greet(very_long_name)
  
  @azimuth.assert_eq_string("Hello, " + very_long_name + "!", result1)
  
  // æµ‹è¯•åŒ…å«å„ç§Unicodeå­—ç¬¦çš„å­—ç¬¦ä¸²
  let unicode_name = "Helloä¸–ç•ŒğŸŒ123@test"
  let result2 = @azimuth.greet(unicode_name)
  
  @azimuth.assert_eq_string("Hello, Helloä¸–ç•ŒğŸŒ123@test!", result2)
  
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²å’Œå•å­—ç¬¦
  let empty_string = ""
  let single_char = "A"
  
  let result3 = @azimuth.greet(empty_string)
  let result4 = @azimuth.greet(single_char)
  
  @azimuth.assert_eq_string("Hello, !", result3)
  @azimuth.assert_eq_string("Hello, A!", result4)
}

test "mathematical_sequence_calculation" {
  // æ•°å­¦åºåˆ—è®¡ç®—ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—å‰10é¡¹çš„å’Œ
  // æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼š1, 1, 2, 3, 5, 8, 13, 21, 34, 55
  let f1 = 1
  let f2 = 1
  let f3 = @azimuth.add(f1, f2)  // 2
  let f4 = @azimuth.add(f2, f3)  // 3
  let f5 = @azimuth.add(f3, f4)  // 5
  let f6 = @azimuth.add(f4, f5)  // 8
  let f7 = @azimuth.add(f5, f6)  // 13
  let f8 = @azimuth.add(f6, f7)  // 21
  let f9 = @azimuth.add(f7, f8)  // 34
  let f10 = @azimuth.add(f8, f9) // 55
  
  // è®¡ç®—å‰10é¡¹çš„å’Œ
  let sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(
    @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(f1, f2), f3), f4), f5), f6), f7), f8), f9), f10)
  
  @azimuth.assert_eq(143, sum)
}