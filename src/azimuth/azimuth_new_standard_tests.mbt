// æ–°å¢çš„ MoonBit æ ‡å‡†æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯•é¡¹ç›®æ ¸å¿ƒåŠŸèƒ½çš„å„ç§åœºæ™¯

test "divide_with_ceil_basic" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„åŸºæœ¬åŠŸèƒ½
  assert_eq(3, divide_with_ceil(10, 4))
  assert_eq(3, divide_with_ceil(9, 3))
  assert_eq(4, divide_with_ceil(11, 3))
}

test "divide_with_ceil_exact_division" {
  // æµ‹è¯•èƒ½å¤Ÿæ•´é™¤çš„æƒ…å†µ
  assert_eq(5, divide_with_ceil(10, 2))
  assert_eq(7, divide_with_ceil(21, 3))
  assert_eq(1, divide_with_ceil(1, 1))
}

test "divide_with_ceil_with_zero" {
  // æµ‹è¯•åŒ…å«0çš„é™¤æ³•
  assert_eq(0, divide_with_ceil(0, 5))
  assert_eq(0, divide_with_ceil(0, 1))
}

test "divide_with_ceil_negative_numbers" {
  // æµ‹è¯•è´Ÿæ•°çš„å‘ä¸Šå–æ•´é™¤æ³•
  assert_eq(-2, divide_with_ceil(-7, 4))
  assert_eq(-1, divide_with_ceil(-3, 4))
  assert_eq(-3, divide_with_ceil(-10, 4))
}

test "complex_calculation_parentheses" {
  // æµ‹è¯•å¤æ‚è®¡ç®—çš„ä¼˜å…ˆçº§å’Œæ‹¬å·ä½¿ç”¨
  let a = 5
  let b = 3
  let c = 2
  
  // (a + b) * c = (5 + 3) * 2 = 16
  let result1 = multiply(add(a, b), c)
  assert_eq(16, result1)
  
  // a + (b * c) = 5 + (3 * 2) = 11
  let result2 = add(a, multiply(b, c))
  assert_eq(11, result2)
}

test "greet_multilingual_support" {
  // æµ‹è¯•å¤šè¯­è¨€æ”¯æŒçš„é—®å€™åŠŸèƒ½
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸŒ!", greet("ğŸŒ"))
  assert_eq_string("Hello, MÃ¼nchen!", greet("MÃ¼nchen"))
  assert_eq_string("Hello, ã‚µãƒ³ãƒªã‚ª!", greet("ã‚µãƒ³ãƒªã‚ª"))
}

test "mathematical_sequence_fibonacci_style" {
  // æµ‹è¯•ç±»ä¼¼æ–æ³¢é‚£å¥‘æ•°åˆ—çš„è®¡ç®—æ¨¡å¼
  let n1 = 1
  let n2 = 1
  let n3 = 2
  let n4 = 3
  let n5 = 5
  
  // éªŒè¯æ•°åˆ—å…³ç³»ï¼šn3 = n1 + n2, n4 = n2 + n3, n5 = n3 + n4
  assert_eq(n3, add(n1, n2))
  assert_eq(n4, add(n2, n3))
  assert_eq(n5, add(n3, n4))
}

test "area_perimeter_calculation" {
  // æµ‹è¯•å‡ ä½•è®¡ç®—ï¼šçŸ©å½¢é¢ç§¯å’Œå‘¨é•¿
  let length = 8
  let width = 5
  
  // é¢ç§¯ = é•¿ Ã— å®½
  let area = multiply(length, width)
  assert_eq(40, area)
  
  // å‘¨é•¿ = 2 Ã— (é•¿ + å®½)
  let perimeter = multiply(2, add(length, width))
  assert_eq(26, perimeter)
}

test "string_pattern_validation" {
  // æµ‹è¯•å­—ç¬¦ä¸²æ¨¡å¼éªŒè¯
  let email = "user@example.com"
  let phone = "123-456-7890"
  let id = "USER_2023"
  
  // éªŒè¯è¿™äº›å­—ç¬¦ä¸²èƒ½å¤Ÿè¢«greetå‡½æ•°æ­£ç¡®å¤„ç†
  assert_eq_string("Hello, user@example.com!", greet(email))
  assert_eq_string("Hello, 123-456-7890!", greet(phone))
  assert_eq_string("Hello, USER_2023!", greet(id))
}

test "business_calculation_profit_margin" {
  // æµ‹è¯•å•†ä¸šè®¡ç®—ï¼šåˆ©æ¶¦ç‡è®¡ç®—
  let revenue = 1000
  let cost = 700
  let profit_margin_percentage = 30
  
  // è®¡ç®—åˆ©æ¶¦ï¼šæ”¶å…¥ - æˆæœ¬
  let profit = add(revenue, -cost)
  
  // è®¡ç®—åˆ©æ¶¦ç‡ç™¾åˆ†æ¯”ï¼šåˆ©æ¶¦ / æ”¶å…¥ * 100
  let calculated_margin = multiply(profit, 100) / revenue
  
  assert_eq(300, profit)
  assert_eq(profit_margin_percentage, calculated_margin)
}