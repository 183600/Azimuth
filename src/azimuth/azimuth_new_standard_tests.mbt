// Azimuth åº“çš„æ–°å¢æ ‡å‡†æµ‹è¯•ç”¨ä¾‹
// åŒ…å«10ä¸ªé«˜è´¨é‡çš„æµ‹è¯•ï¼Œè¦†ç›–æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

test "binary_operations_commutativity" {
  // æµ‹è¯•äºŒè¿›åˆ¶è¿ç®—çš„äº¤æ¢å¾‹æ€§è´¨
  let x = 42
  let y = 17
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(add(x, y), add(y, x))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(multiply(x, y), multiply(y, x))
  
  // éªŒè¯å…·ä½“æ•°å€¼
  assert_eq(59, add(42, 17))
  assert_eq(714, multiply(42, 17))
}

test "divide_with_ceil_mixed_signs" {
  // æµ‹è¯•æ··åˆç¬¦å·çš„å‘ä¸Šå–æ•´é™¤æ³•
  // æ­£æ•°é™¤ä»¥è´Ÿæ•°
  assert_eq(-3, divide_with_ceil(10, -3))
  assert_eq(-2, divide_with_ceil(5, -3))
  assert_eq(-1, divide_with_ceil(2, -3))
  
  // è´Ÿæ•°é™¤ä»¥æ­£æ•°
  assert_eq(-3, divide_with_ceil(-10, 3))
  assert_eq(-1, divide_with_ceil(-2, 3))
  assert_eq(-4, divide_with_ceil(-11, 3))
}

test "greet_function_unicode_variations" {
  // æµ‹è¯•å„ç§ Unicode å­—ç¬¦çš„é—®å€™åŠŸèƒ½
  assert_eq_string("Hello, ğŸ‘‹!", greet("ğŸ‘‹"))
  assert_eq_string("Hello, cafÃ©!", greet("cafÃ©"))
  assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  assert_eq_string("Hello, ğŸŒºğŸŒ¸ğŸŒ¼!", greet("ğŸŒºğŸŒ¸ğŸŒ¼"))
  assert_eq_string("Hello, ÃŸÃ¸Ã¼!", greet("ÃŸÃ¸Ã¼"))
}

test "complex_nested_calculations" {
  // æµ‹è¯•å¤æ‚çš„åµŒå¥—è®¡ç®—
  let a = 5
  let b = 12
  let c = 7
  let d = 3
  
  // è®¡ç®—: (a + b) * (c - d) + a * d
  let result1 = add(multiply(add(a, b), add(c, -d)), multiply(a, d))
  assert_eq(83, result1)  // (5+12)*(7-3) + 5*3 = 17*4 + 15 = 68 + 15 = 83
  
  // è®¡ç®—: a * b + c * d - (a + c)
  let result2 = add(add(multiply(a, b), multiply(c, d)), add(a, -c))
  assert_eq(69, result2)  // 5*12 + 7*3 - (5+7) = 60 + 21 - 12 = 69
}

test "extreme_boundary_conditions" {
  // æµ‹è¯•æç«¯è¾¹ç•Œæ¡ä»¶
  // æ¥è¿‘é›¶çš„å€¼
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(1, divide_with_ceil(-1, -1))
  assert_eq(-1, divide_with_ceil(1, -1))
  assert_eq(-1, divide_with_ceil(-1, 1))
  
  // å¤§æ•°ä¸å°æ•°çš„ç»„åˆ
  assert_eq(1000001, add(1000000, 1))
  assert_eq(999999, add(1000000, -1))
  assert_eq(2000000, multiply(1000000, 2))
}

test "mathematical_series_summation" {
  // æµ‹è¯•æ•°å­¦çº§æ•°æ±‚å’Œ
  // ç­‰å·®æ•°åˆ—: 3, 7, 11, 15, 19 (å…¬å·®ä¸º4)
  let term1 = 3
  let term2 = add(term1, 4)
  let term3 = add(term2, 4)
  let term4 = add(term3, 4)
  let term5 = add(term4, 4)
  
  let series_sum = add(add(add(add(term1, term2), term3), term4), term5)
  assert_eq(55, series_sum)  // 3 + 7 + 11 + 15 + 19 = 55
  
  // éªŒè¯ç­‰å·®æ•°åˆ—æ±‚å’Œå…¬å¼: n/2 * (first + last)
  let formula_sum = divide_with_ceil(multiply(5, add(term1, term5)), 2)
  assert_eq(55, formula_sum)
}

test "practical_business_calculations" {
  // æµ‹è¯•å®é™…ä¸šåŠ¡è®¡ç®—åœºæ™¯
  // è®¡ç®—è®¢å•æ€»ä»·ï¼šå•†å“å•ä»· Ã— æ•°é‡ + ç¨è´¹ - æŠ˜æ‰£
  let unit_price = 89
  let quantity = 6
  let tax_rate = 8  // 8%
  let discount = 45
  
  // è®¡ç®—å°è®¡
  let subtotal = multiply(unit_price, quantity)
  
  // è®¡ç®—ç¨è´¹ï¼ˆå‘ä¸Šå–æ•´ï¼‰
  let tax_amount = divide_with_ceil(multiply(subtotal, tax_rate), 100)
  
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_total = add(add(subtotal, tax_amount), -discount)
  
  assert_eq(534, subtotal)      // 89 * 6 = 534
  assert_eq(43, tax_amount)     // ceil(534 * 8 / 100) = ceil(42.72) = 43
  assert_eq(532, final_total)   // 534 + 43 - 45 = 532
}

test "string_processing_with_numbers" {
  // æµ‹è¯•åŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²å¤„ç†
  assert_eq_string("Hello, 2024!", greet("2024"))
  assert_eq_string("Hello, v1.0.0!", greet("v1.0.0"))
  assert_eq_string("Hello, test123!", greet("test123"))
  assert_eq_string("Hello, 42!", greet("42"))
  assert_eq_string("Hello, 3.14159!", greet("3.14159"))
}

test "error_resilience_operations" {
  // æµ‹è¯•é”™è¯¯æ¢å¤èƒ½åŠ›
  // é™¤æ•°ä¸ºé›¶çš„å„ç§æƒ…å†µ
  assert_eq(0, divide_with_ceil(0, 0))
  assert_eq(0, divide_with_ceil(100, 0))
  assert_eq(0, divide_with_ceil(-100, 0))
  assert_eq(0, divide_with_ceil(2147483647, 0))
  assert_eq(0, divide_with_ceil(-2147483648, 0))
  
  // é›¶å‚ä¸çš„è¿ç®—
  assert_eq(0, multiply(0, 2147483647))
  assert_eq(0, multiply(-2147483648, 0))
  assert_eq(2147483647, add(2147483647, 0))
  assert_eq(-2147483648, add(-2147483648, 0))
}

test "algorithmic_pattern_recognition" {
  // æµ‹è¯•ç®—æ³•æ¨¡å¼è¯†åˆ«
  // æ¨¡æ‹Ÿè®¡ç®—é˜¶ä¹˜: 5! = 5 * 4 * 3 * 2 * 1 = 120
  let factorial_5 = multiply(5, multiply(4, multiply(3, multiply(2, 1))))
  assert_eq(120, factorial_5)
  
  // æ¨¡æ‹Ÿè®¡ç®—å¹³æ–¹æ•°åºåˆ—: 1Â², 2Â², 3Â², 4Â², 5Â²
  let square_1 = multiply(1, 1)
  let square_2 = multiply(2, 2)
  let square_3 = multiply(3, 3)
  let square_4 = multiply(4, 4)
  let square_5 = multiply(5, 5)
  
  let squares_sum = add(add(add(add(square_1, square_2), square_3), square_4), square_5)
  assert_eq(55, squares_sum)  // 1 + 4 + 9 + 16 + 25 = 55
  
  // éªŒè¯å¹³æ–¹å’Œå…¬å¼: n(n+1)(2n+1)/6ï¼Œå…¶ä¸­n=5
  let formula_result = divide_with_ceil(multiply(multiply(5, 6), 11), 6)
  assert_eq(55, formula_result)  // 5*6*11/6 = 55
}