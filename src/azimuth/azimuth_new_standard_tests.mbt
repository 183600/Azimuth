// æ–°çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½

test "add_commutative_property" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹ï¼ša + b = b + a
  let a = 15
  let b = 27
  assert_eq(add(a, b), add(b, a))
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  let c = -10
  let d = 20
  assert_eq(add(c, d), add(d, c))
}

test "add_associative_property" {
  // æµ‹è¯•åŠ æ³•ç»“åˆå¾‹ï¼š(a + b) + c = a + (b + c)
  let a = 5
  let b = 10
  let c = 15
  
  let result1 = add(add(a, b), c)
  let result2 = add(a, add(b, c))
  assert_eq(result1, result2)
}

test "multiply_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ï¼ša Ã— (b + c) = a Ã— b + a Ã— c
  let a = 3
  let b = 4
  let c = 5
  
  let result1 = multiply(a, add(b, c))
  let result2 = add(multiply(a, b), multiply(a, c))
  assert_eq(result1, result2)
}

test "multiply_identity_elements" {
  // æµ‹è¯•ä¹˜æ³•å•ä½å…ƒ
  let a = 42
  assert_eq(a, multiply(a, 1))
  assert_eq(a, multiply(1, a))
  assert_eq(0, multiply(a, 0))
  assert_eq(0, multiply(0, a))
}

test "greet_unicode_handling" {
  // æµ‹è¯• greet å‡½æ•°çš„ Unicode å¤„ç†
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))
  assert_eq_string("Hello, CafÃ©!", greet("CafÃ©"))
  assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", greet("ä¸­æ–‡æµ‹è¯•"))
}

test "mixed_operations_complexity" {
  // æµ‹è¯•æ··åˆè¿ç®—çš„å¤æ‚æ€§
  let x = 8
  let y = 6
  let z = 4
  
  // è®¡ç®—ï¼š(x + y) Ã— z - x
  let result = add(multiply(add(x, y), z), -x)
  assert_eq(44, result)
  
  // è®¡ç®—ï¼šx Ã— y + y Ã— z
  let result2 = add(multiply(x, y), multiply(y, z))
  assert_eq(72, result2)
}

test "edge_case_zero_handling" {
  // æµ‹è¯•é›¶å€¼å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
  assert_eq(0, add(0, 0))
  assert_eq(5, add(0, 5))
  assert_eq(-3, add(-3, 0))
  assert_eq(0, multiply(0, 0))
  assert_eq(0, multiply(0, 12345))
  assert_eq(0, multiply(-9876, 0))
}

test "large_number_operations" {
  // æµ‹è¯•å¤§æ•°è¿ç®—
  let large1 = 1000000
  let large2 = 2000000
  
  assert_eq(3000000, add(large1, large2))
  assert_eq(2000000000, multiply(large1, 1000))
  
  // æµ‹è¯•å¤§æ•°ä¸è¾¹ç•Œå€¼çš„ç»„åˆ
  let max_val = 2147483647
  assert_eq(max_val, add(max_val, 1000000))
}

test "negative_number_properties" {
  // æµ‹è¯•è´Ÿæ•°æ€§è´¨
  let a = -10
  let b = -20
  let c = 30
  
  // è´Ÿæ•°åŠ æ³•
  assert_eq(-30, add(a, b))
  assert_eq(20, add(a, c))
  
  // è´Ÿæ•°ä¹˜æ³•
  assert_eq(200, multiply(a, b))
  assert_eq(-300, multiply(a, c))
  
  // è´Ÿæ•°ä¸é›¶çš„è¿ç®—
  assert_eq(-10, add(a, 0))
  assert_eq(0, multiply(a, 0))
}

test "string_concatenation_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²è¿æ¥çš„è¾¹ç•Œæƒ…å†µ
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, a!", greet("a"))
  assert_eq_string("Hello,   !", greet("  "))
  assert_eq_string("Hello, newline\n!", greet("newline\n"))
  assert_eq_string("Hello, tab\t!", greet("tab\t"))
}