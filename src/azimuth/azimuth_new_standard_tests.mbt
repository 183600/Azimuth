// æ–°å¢çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½

test "mathematical_properties_commutative_new" {
  // æµ‹è¯•æ•°å­¦äº¤æ¢å¾‹
  let a = 8
  let b = 12
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(add(a, b), add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(multiply(a, b), multiply(b, a))
}

test "combined_operations_business_scenario_new" {
  // æµ‹è¯•ç»„åˆè¿ç®—çš„ä¸šåŠ¡åœºæ™¯
  let unit_price = 25
  let quantity = 8
  let shipping = 15
  
  let subtotal = multiply(unit_price, quantity)
  let total = add(subtotal, shipping)
  
  assert_eq(200, subtotal)
  assert_eq(215, total)
}

test "packaging_calculation_scenario_new" {
  // æµ‹è¯•åŒ…è£…è®¡ç®—åœºæ™¯
  let total_items = 35
  let items_per_box = 8
  let boxes_needed = divide_with_ceil(total_items, items_per_box)
  
  assert_eq(5, boxes_needed)
}

test "mathematical_identity_properties_new" {
  // æµ‹è¯•æ•°å­¦å•ä½å…ƒæ€§è´¨
  let x = 42
  
  // åŠ æ³•å•ä½å…ƒ
  assert_eq(x, add(x, 0))
  assert_eq(x, add(0, x))
  
  // ä¹˜æ³•å•ä½å…ƒ
  assert_eq(x, multiply(x, 1))
  assert_eq(x, multiply(1, x))
  
  // ä¹˜æ³•é›¶å…ƒç´ 
  assert_eq(0, multiply(x, 0))
  assert_eq(0, multiply(0, x))
}

test "unicode_and_special_characters_new" {
  // æµ‹è¯• Unicode å’Œç‰¹æ®Šå­—ç¬¦
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))
  assert_eq_string("Hello, Î±Î²Î³!", greet("Î±Î²Î³"))
  assert_eq_string("Hello, test@example.com!", greet("test@example.com"))
}

test "divide_with_ceil_edge_cases_new" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„è¾¹ç•Œæƒ…å†µ
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(2, divide_with_ceil(3, 2))
  assert_eq(100, divide_with_ceil(9999, 100))
  assert_eq(1, divide_with_ceil(-1, -1))
  assert_eq(-3, divide_with_ceil(-10, 3))
}

test "complex_business_workflow_new" {
  // æ¨¡æ‹Ÿå®Œæ•´çš„è®¢å•å¤„ç†æµç¨‹
  let product_cost = 120
  let quantity = 15
  let tax_rate = 8
  let shipping_cost_per_item = 5
  let discount_threshold = 1000
  let discount_amount = 50
  
  // æ­¥éª¤1: è®¡ç®—å•†å“æ€»ä»·
  let subtotal = multiply(product_cost, quantity)
  
  // æ­¥éª¤2: è®¡ç®—è¿è´¹
  let total_shipping = multiply(shipping_cost_per_item, quantity)
  
  // æ­¥éª¤3: è®¡ç®—ç¨è´¹
  let tax_amount = divide_with_ceil(multiply(subtotal, tax_rate), 100)
  
  // æ­¥éª¤4: è®¡ç®—æŠ˜æ‰£å‰æ€»ä»·
  let pre_discount_total = add(add(subtotal, total_shipping), tax_amount)
  
  // æ­¥éª¤5: åº”ç”¨æŠ˜æ‰£ï¼ˆå¦‚æœæ»¡è¶³æ¡ä»¶ï¼‰
  let final_total = if pre_discount_total > discount_threshold {
    add(pre_discount_total, -discount_amount)
  } else {
    pre_discount_total
  }
  
  assert_eq(1800, subtotal)
  assert_eq(75, total_shipping)
  assert_eq(144, tax_amount)
  assert_eq(2019, pre_discount_total)
  assert_eq(1969, final_total)
}

test "financial_calculation_scenario_new" {
  // é‡‘èè®¡ç®—åœºæ™¯ï¼šè®¡ç®—å¤åˆ©
  let principal = 1000
  let rate_percent = 5
  
  // è®¡ç®—å¤åˆ©ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let year1 = add(principal, divide_with_ceil(multiply(principal, rate_percent), 100))
  let year2 = add(year1, divide_with_ceil(multiply(year1, rate_percent), 100))
  let year3 = add(year2, divide_with_ceil(multiply(year2, rate_percent), 100))
  
  assert_eq(1050, year1)
  assert_eq(1103, year2)
  assert_eq(1158, year3)
}

test "data_analysis_statistics_new" {
  // æ¨¡æ‹Ÿé”€å”®æ•°æ®åˆ†æ
  let sales_q1 = 15000
  let sales_q2 = 18000
  let sales_q3 = 22000
  let sales_q4 = 25000
  
  // è®¡ç®—å¹´åº¦æ€»é”€å”®é¢
  let annual_sales = add(add(add(sales_q1, sales_q2), sales_q3), sales_q4)
  
  // è®¡ç®—å­£åº¦å¹³å‡é”€å”®é¢ï¼ˆå‘ä¸Šå–æ•´ï¼‰
  let quarterly_average = divide_with_ceil(annual_sales, 4)
  
  assert_eq(80000, annual_sales)
  assert_eq(20000, quarterly_average)
}

test "inventory_management_scenario_new" {
  // åº“å­˜ç®¡ç†åœºæ™¯ï¼šè®¡ç®—éœ€è¦çš„å­˜å‚¨ç©ºé—´
  let items_per_box = 24
  let total_items_small = 100
  let total_items_medium = 250
  let total_items_large = 1000
  
  let boxes_small = divide_with_ceil(total_items_small, items_per_box)
  let boxes_medium = divide_with_ceil(total_items_medium, items_per_box)
  let boxes_large = divide_with_ceil(total_items_large, items_per_box)
  
  let total_boxes = add(add(boxes_small, boxes_medium), boxes_large)
  
  assert_eq(5, boxes_small)
  assert_eq(11, boxes_medium)
  assert_eq(42, boxes_large)
  assert_eq(58, total_boxes)
}