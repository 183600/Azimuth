// æ€§èƒ½åŸºå‡†æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯•é¥æµ‹ç³»ç»Ÿçš„åŸºæœ¬æ€§èƒ½æŒ‡æ ‡

test "attribute_creation_performance" {
  // æµ‹è¯•å±æ€§åˆ›å»ºçš„æ€§èƒ½
  
  // æµ‹è¯•å­—ç¬¦ä¸²å±æ€§åˆ›å»ºæ€§èƒ½
  let start_time = 1640995200000000000L
  let mut i = 0
  while i < 1000 {
    let string_attr = AttributeValue::string("performance_test_string_" + i.to_string())
    i = i + 1
  }
  let end_time = 1640995200000000000L
  
  // éªŒè¯åˆ›å»ºæˆåŠŸ
  assert_eq(true, true)
  
  // æµ‹è¯•æ•´æ•°å±æ€§åˆ›å»ºæ€§èƒ½
  i = 0
  while i < 1000 {
    let int_attr = AttributeValue::int(i.to_int64())
    i = i + 1
  }
  
  // æµ‹è¯•æµ®ç‚¹æ•°å±æ€§åˆ›å»ºæ€§èƒ½
  i = 0
  while i < 1000 {
    let float_attr = AttributeValue::float(i.to_double())
    i = i + 1
  }
  
  // æµ‹è¯•å¸ƒå°”å±æ€§åˆ›å»ºæ€§èƒ½
  i = 0
  while i < 1000 {
    let bool_attr = AttributeValue::bool(i % 2 == 0)
    i = i + 1
  }
  
  // æµ‹è¯•æ•°ç»„å±æ€§åˆ›å»ºæ€§èƒ½
  let string_array = []
  i = 0
  while i < 100 {
    string_array.push("item_" + i.to_string())
    i = i + 1
  }
  let array_attr = AttributeValue::array_string(string_array)
  
  // éªŒè¯æ•°ç»„å±æ€§
  match array_attr {
    ArrayStringValue(arr) => assert_eq(arr.length(), 100)
    _ => @test.fail("Test failed")
  }
  
  // æµ‹è¯•æ··åˆå±æ€§åˆ›å»ºæ€§èƒ½
  i = 0
  while i < 500 {
    let mixed_attr = match i % 5 {
      0 => AttributeValue::string("mixed_string_" + i.to_string())
      1 => AttributeValue::int(i.to_int64())
      2 => AttributeValue::float(i.to_double())
      3 => AttributeValue::bool(i % 2 == 0)
      _ => AttributeValue::array_string(["item_" + i.to_string()])
    }
    i = i + 1
  }
  
  assert_eq(true, true)
}

test "context_operations_performance" {
  // æµ‹è¯•ä¸Šä¸‹æ–‡æ“ä½œçš„æ€§èƒ½
  
  let ctx = Context::empty()
  
  // æµ‹è¯•ä¸Šä¸‹æ–‡è®¾ç½®æ€§èƒ½
  let start_time = 1640995200000000000L
  let mut ctx_with_values = ctx
  let mut i = 0
  while i < 100 {
    let key = create_key("perf_key_" + i.to_string())
    ctx_with_values = ctx_with_values.with_value(key, "perf_value_" + i.to_string())
    i = i + 1
  }
  
  // æµ‹è¯•ä¸Šä¸‹æ–‡è·å–æ€§èƒ½
  i = 0
  while i < 100 {
    let key = create_key("perf_key_" + i.to_string())
    let value = ctx_with_values.get(key)
    match value {
      Some(v) => assert_eq(v, "perf_value_" + i.to_string())
      None => @test.fail("Test failed")
    }
    i = i + 1
  }
  
  // æµ‹è¯•ä¸Šä¸‹æ–‡é“¾å¼æ“ä½œæ€§èƒ½
  let mut chained_ctx = ctx
  i = 0
  while i < 50 {
    let key1 = create_key("chain_key_" + (i * 2).to_string())
    let key2 = create_key("chain_key_" + (i * 2 + 1).to_string())
    chained_ctx = chained_ctx
      .with_value(key1, "chain_value_" + (i * 2).to_string())
      .with_value(key2, "chain_value_" + (i * 2 + 1).to_string())
    i = i + 1
  }
  
  // éªŒè¯é“¾å¼æ“ä½œç»“æœ
  let first_key = create_key("chain_key_0")
  let last_key = create_key("chain_key_99")
  
  match chained_ctx.get(first_key) {
    Some(value) => assert_eq(value, "chain_value_0")
    None => @test.fail("Test failed")
  }
  
  match chained_ctx.get(last_key) {
    Some(value) => assert_eq(value, "chain_value_99")
    None => @test.fail("Test failed")
  }
}

test "baggage_operations_performance" {
  // æµ‹è¯•baggageæ“ä½œçš„æ€§èƒ½
  
  let baggage = Baggage::empty()
  
  // æµ‹è¯•baggageè®¾ç½®æ€§èƒ½
  let mut baggage_with_entries = baggage
  let mut i = 0
  while i < 100 {
    baggage_with_entries = baggage_with_entries.with_entry("baggage_key_" + i.to_string(), "baggage_value_" + i.to_string())
    i = i + 1
  }
  
  // æµ‹è¯•baggageè·å–æ€§èƒ½
  i = 0
  while i < 100 {
    let value = baggage_with_entries.get("baggage_key_" + i.to_string())
    match value {
      Some(v) => assert_eq(v, "baggage_value_" + i.to_string())
      None => @test.fail("Test failed")
    }
    i = i + 1
  }
  
  // æµ‹è¯•baggageé“¾å¼æ“ä½œæ€§èƒ½
  let mut chained_baggage = baggage
  i = 0
  while i < 50 {
    chained_baggage = chained_baggage
      .with_entry("chain_baggage_" + (i * 2).to_string(), "chain_value_" + (i * 2).to_string())
      .with_entry("chain_baggage_" + (i * 2 + 1).to_string(), "chain_value_" + (i * 2 + 1).to_string())
    i = i + 1
  }
  
  // éªŒè¯é“¾å¼æ“ä½œç»“æœ
  match chained_baggage.get("chain_baggage_0") {
    Some(value) => assert_eq(value, "chain_value_0")
    None => @test.fail("Test failed")
  }
  
  match chained_baggage.get("chain_baggage_99") {
    Some(value) => assert_eq(value, "chain_value_99")
    None => @test.fail("Test failed")
  }
}

test "log_record_creation_performance" {
  // æµ‹è¯•æ—¥å¿—è®°å½•åˆ›å»ºçš„æ€§èƒ½
  
  let base_attributes = [
    ("service.name", AttributeValue::string("performance-service")),
    ("service.version", AttributeValue::string("1.0.0")),
    ("operation.name", AttributeValue::string("log_creation_test"))
  ]
  
  // æµ‹è¯•åŸºæœ¬æ—¥å¿—è®°å½•åˆ›å»ºæ€§èƒ½
  let mut i = 0
  while i < 1000 {
    let log_record = LogRecord::{
      timestamp_unix_nanos: 1640995200000000000L + i.to_int64(),
      observed_timestamp_unix_nanos: Some(1640995200000000010L + i.to_int64()),
      severity_number: Info,
      severity_text: Some("INFO"),
      body: Some("Performance test log " + i.to_string()),
      attributes: base_attributes,
      trace_id: None,
      span_id: None,
      trace_flags: None,
      resource: None,
      instrumentation_scope: None
    }
    i = i + 1
  }
  
  // æµ‹è¯•å¤æ‚æ—¥å¿—è®°å½•åˆ›å»ºæ€§èƒ½
  let complex_attributes = [
    ("service.name", AttributeValue::string("performance-service")),
    ("service.version", AttributeValue::string("1.0.0")),
    ("operation.name", AttributeValue::string("complex_log_test")),
    ("user.id", AttributeValue::string("user-" + (i % 100).to_string())),
    ("request.id", AttributeValue::string("req-" + i.to_string())),
    ("duration.ms", AttributeValue::int((i % 1000).to_int64())),
    ("success.rate", AttributeValue::float((i % 100).to_double() / 100.0)),
    ("cache.hit", AttributeValue::bool(i % 2 == 0)),
    ("tags", AttributeValue::array_string(["perf", "test", "batch"])),
    ("status.codes", AttributeValue::array_int([200L, 201L, 400L, 500L])),
    ("latency.percentiles", AttributeValue::array_float([0.5, 0.95, 0.99]))
  ]
  
  i = 0
  while i < 500 {
    let complex_log = LogRecord::{
      timestamp_unix_nanos: 1640995200000000000L + i.to_int64(),
      observed_timestamp_unix_nanos: Some(1640995200000000010L + i.to_int64()),
      severity_number: match i % 5 {
        0 => Trace
        1 => Debug
        2 => Info
        3 => Warn
        _ => Error
      },
      severity_text: Some(match i % 5 {
        0 => "TRACE"
        1 => "DEBUG"
        2 => "INFO"
        3 => "WARN"
        _ => "ERROR"
      }),
      body: Some("Complex performance test log " + i.to_string()),
      attributes: complex_attributes,
      trace_id: Some([for j = 0; j < 16; j = j + 1].map(fn(_) { (i % 256).to_byte() })),
      span_id: Some([for j = 0; j < 8; j = j + 1].map(fn(_) { (i % 256).to_byte() })),
      trace_flags: Some((i % 2).to_byte()),
      resource: Some(Resource::default("performance-service")),
      instrumentation_scope: Some(InstrumentationScope::{
        name: "performance-logger",
        version: Some("1.0.0"),
        schema_url: None
      })
    }
    i = i + 1
  }
  
  // æµ‹è¯•LogRecordBuilderæ€§èƒ½
  i = 0
  while i < 500 {
    let builder_log = LogRecord::builder()
      .timestamp(1640995200000000000L + i.to_int64())
      .severity(Info)
      .body("Builder performance test " + i.to_string())
      .with_attribute("builder.test", AttributeValue::string("value_" + i.to_string()))
      .with_attribute("builder.index", AttributeValue::int(i.to_int64()))
      .build()
    i = i + 1
  }
  
  assert_eq(true, true)
}

test "span_creation_performance" {
  // æµ‹è¯•spanåˆ›å»ºçš„æ€§èƒ½
  
  let ctx = Context::empty()
  let base_attributes = [
    ("service.name", AttributeValue::string("performance-service")),
    ("operation.name", AttributeValue::string("span_creation_test"))
  ]
  
  // æµ‹è¯•åŸºæœ¬spanåˆ›å»ºæ€§èƒ½
  let mut i = 0
  while i < 1000 {
    let (_, span) = NoopTracer::start_span(ctx, "performance_span_" + i.to_string(), Internal, Some(base_attributes))
    i = i + 1
  }
  
  // æµ‹è¯•å¤æ‚spanåˆ›å»ºæ€§èƒ½
  let complex_attributes = [
    ("service.name", AttributeValue::string("performance-service")),
    ("service.version", AttributeValue::string("1.0.0")),
    ("operation.name", AttributeValue::string("complex_span_test")),
    ("user.id", AttributeValue::string("user-" + (i % 100).to_string())),
    ("request.id", AttributeValue::string("req-" + i.to_string())),
    ("http.method", AttributeValue::string("GET")),
    ("http.url", AttributeValue::string("https://api.example.com/performance/" + i.to_string())),
    ("http.status_code", AttributeValue::int(200L)),
    ("duration.ms", AttributeValue::int((i % 1000).to_int64())),
    ("success", AttributeValue::bool(i % 10 != 0)),
    ("tags", AttributeValue::array_string(["perf", "test", "span"])),
    ("component", AttributeValue::array_string(["http", "server", "api"]))
  ]
  
  i = 0
  while i < 500 {
    let span_kind = match i % 5 {
      0 => Internal
      1 => Server
      2 => Client
      3 => Producer
      _ => Consumer
    }
    
    let (_, complex_span) = NoopTracer::start_span(
      ctx, 
      "complex_performance_span_" + i.to_string(), 
      span_kind, 
      Some(complex_attributes)
    )
    i = i + 1
  }
  
  // æµ‹è¯•å¸¦äº‹ä»¶çš„spanåˆ›å»ºæ€§èƒ½
  i = 0
  while i < 200 {
    let span_attributes = [
      ("operation.name", AttributeValue::string("event_span_test_" + i.to_string()))
    ]
    
    let (_, event_span) = NoopTracer::start_span(ctx, "event_span_" + i.to_string(), Server, Some(span_attributes))
    
    // åˆ›å»ºspanäº‹ä»¶
    let events = [
      SpanEvent::{
        name: "start_event",
        timestamp_unix_nanos: 1640995200000000000L + i.to_int64(),
        attributes: [("event.phase", AttributeValue::string("start"))]
      },
      SpanEvent::{
        name: "middle_event",
        timestamp_unix_nanos: 1640995200000000500L + i.to_int64(),
        attributes: [("event.phase", AttributeValue::string("middle"))]
      },
      SpanEvent::{
        name: "end_event",
        timestamp_unix_nanos: 1640995200000001000L + i.to_int64(),
        attributes: [("event.phase", AttributeValue::string("end"))]
      }
    ]
    
    i = i + 1
  }
  
  // æµ‹è¯•å¸¦é“¾æ¥çš„spanåˆ›å»ºæ€§èƒ½
  i = 0
  while i < 200 {
    let span_attributes = [
      ("operation.name", AttributeValue::string("link_span_test_" + i.to_string()))
    ]
    
    let (_, link_span) = NoopTracer::start_span(ctx, "link_span_" + i.to_string(), Client, Some(span_attributes))
    
    // åˆ›å»ºspané“¾æ¥
    let links = [
      SpanLink::{
        context: SpanContext::{
          trace_id: [for j = 0; j < 16; j = j + 1].map(fn(_) { (i % 256).to_byte() }),
          span_id: [for j = 0; j < 8; j = j + 1].map(fn(_) { ((i + 1) % 256).to_byte() }),
          trace_flags: 1_byte,
          trace_state: ""
        },
        attributes: [("link.type", AttributeValue::string("parent"))]
      },
      SpanLink::{
        context: SpanContext::{
          trace_id: [for j = 0; j < 16; j = j + 1].map(fn(_) { ((i + 2) % 256).to_byte() }),
          span_id: [for j = 0; j < 8; j = j + 1].map(fn(_) { ((i + 3) % 256).to_byte() }),
          trace_flags: 0_byte,
          trace_state: "key=value"
        },
        attributes: [("link.type", AttributeValue::string("related"))]
      }
    ]
    
    i = i + 1
  }
  
  assert_eq(true, true)
}

test "propagation_performance" {
  // æµ‹è¯•ä¼ æ’­æ“ä½œçš„æ€§èƒ½
  
  let ctx = Context::empty()
  let carrier = MapCarrier::new()
  
  // æµ‹è¯•æ³¨å…¥æ€§èƒ½
  let trace_propagator = W3CTraceContextPropagator::{}
  let baggage_propagator = W3CBaggagePropagator::{}
  
  let mut i = 0
  while i < 1000 {
    trace_propagator.inject(ctx, carrier)
    baggage_propagator.inject(ctx, carrier)
    i = i + 1
  }
  
  // æµ‹è¯•æå–æ€§èƒ½
  i = 0
  while i < 1000 {
    let extracted_ctx = trace_propagator.extract(ctx, carrier)
    let baggage_ctx = baggage_propagator.extract(ctx, carrier)
    i = i + 1
  }
  
  // æµ‹è¯•å¤åˆä¼ æ’­å™¨æ€§èƒ½
  let composite_propagator = CompositePropagator::new([trace_propagator, baggage_propagator])
  
  i = 0
  while i < 500 {
    composite_propagator.inject(ctx, carrier)
    let extracted_composite_ctx = composite_propagator.extract(ctx, carrier)
    i = i + 1
  }
  
  // æµ‹è¯•å¤§carrierçš„æ€§èƒ½
  let large_data = []
  i = 0
  while i < 100 {
    large_data.push(("header_" + i.to_string(), "value_" + i.to_string()))
    i = i + 1
  }
  
  let large_carrier = MapCarrier::from_map(large_data)
  
  i = 0
  while i < 100 {
    trace_propagator.inject(ctx, large_carrier)
    baggage_propagator.inject(ctx, large_carrier)
    let extracted_from_large = trace_propagator.extract(ctx, large_carrier)
    let baggage_from_large = baggage_propagator.extract(ctx, large_carrier)
    i = i + 1
  }
  
  assert_eq(true, true)
}

test "metrics_operations_performance" {
  // æµ‹è¯•æŒ‡æ ‡æ“ä½œçš„æ€§èƒ½
  
  let meter = NoopMeter::{}
  
  // æµ‹è¯•æŒ‡æ ‡åˆ›å»ºæ€§èƒ½
  let mut i = 0
  while i < 100 {
    let counter = meter.create_counter("perf_counter_" + i.to_string(), Some("operations"), Some("Performance counter"))
    let histogram = meter.create_histogram("perf_histogram_" + i.to_string(), Some("ms"), Some("Performance histogram"))
    let gauge = meter.create_gauge("perf_gauge_" + i.to_string(), Some("value"), Some("Performance gauge"))
    let up_down_counter = meter.create_up_down_counter("perf_up_down_" + i.to_string(), Some("operations"), Some("Performance up-down counter"))
    i = i + 1
  }
  
  // æµ‹è¯•æŒ‡æ ‡è®°å½•æ€§èƒ½
  let counter = meter.create_counter("performance_counter", Some("operations"), Some("Performance test counter"))
  let histogram = meter.create_histogram("performance_histogram", Some("ms"), Some("Performance test histogram"))
  let gauge = meter.create_gauge("performance_gauge", Some("value"), Some("Performance test gauge"))
  let up_down_counter = meter.create_up_down_counter("performance_up_down_counter", Some("operations"), Some("Performance test up-down counter"))
  
  // æµ‹è¯•counterè®°å½•æ€§èƒ½
  i = 0
  while i < 10000 {
    counter.add(1L, Some([
      ("operation.type", AttributeValue::string("performance_test")),
      ("operation.index", AttributeValue::int(i.to_int64()))
    ]))
    i = i + 1
  }
  
  // æµ‹è¯•histogramè®°å½•æ€§èƒ½
  i = 0
  while i < 10000 {
    histogram.record(i.to_double(), Some([
      ("measurement.type", AttributeValue::string("performance_test")),
      ("measurement.index", AttributeValue::int(i.to_int64()))
    ]))
    i = i + 1
  }
  
  // æµ‹è¯•gaugeè®°å½•æ€§èƒ½
  i = 0
  while i < 10000 {
    gauge.record((i % 1000).to_double(), Some([
      ("gauge.type", AttributeValue::string("performance_test")),
      ("gauge.index", AttributeValue::int(i.to_int64()))
    ]))
    i = i + 1
  }
  
  // æµ‹è¯•up-down counterè®°å½•æ€§èƒ½
  i = 0
  while i < 10000 {
    let amount = if i % 2 == 0 { 1L } else { -1L }
    up_down_counter.add(amount, Some([
      ("updown.type", AttributeValue::string("performance_test")),
      ("updown.index", AttributeValue::int(i.to_int64()))
    ]))
    i = i + 1
  }
  
  // æµ‹è¯•å¤æ‚å±æ€§æŒ‡æ ‡è®°å½•æ€§èƒ½
  let complex_attributes = [
    ("service.name", AttributeValue::string("performance-service")),
    ("service.version", AttributeValue::string("1.0.0")),
    ("operation.name", AttributeValue::string("metrics_performance_test")),
    ("user.id", AttributeValue::string("user-" + (i % 100).to_string())),
    ("request.id", AttributeValue::string("req-" + i.to_string())),
    ("duration.ms", AttributeValue::int((i % 1000).to_int64())),
    ("success.rate", AttributeValue::float((i % 100).to_double() / 100.0)),
    ("cache.hit", AttributeValue::bool(i % 2 == 0)),
    ("tags", AttributeValue::array_string(["perf", "test", "metrics"])),
    ("status.codes", AttributeValue::array_int([200L, 201L, 400L, 500L])),
    ("latency.percentiles", AttributeValue::array_float([0.5, 0.95, 0.99]))
  ]
  
  i = 0
  while i < 1000 {
    counter.add(1L, Some(complex_attributes))
    histogram.record(i.to_double(), Some(complex_attributes))
    gauge.record((i % 1000).to_double(), Some(complex_attributes))
    up_down_counter.add(if i % 2 == 0 { 1L } else { -1L }, Some(complex_attributes))
    i = i + 1
  }
  
  assert_eq(true, true)
}

test "resource_creation_performance" {
  // æµ‹è¯•èµ„æºåˆ›å»ºçš„æ€§èƒ½
  
  // æµ‹è¯•åŸºæœ¬èµ„æºåˆ›å»ºæ€§èƒ½
  let mut i = 0
  while i < 1000 {
    let resource = Resource::default("performance-service-" + i.to_string())
    i = i + 1
  }
  
  // æµ‹è¯•å¤æ‚èµ„æºåˆ›å»ºæ€§èƒ½
  let complex_attributes = [
    ("service.name", AttributeValue::string("complex-performance-service")),
    ("service.version", AttributeValue::string("1.0.0")),
    ("service.namespace", AttributeValue::string("production")),
    ("service.instance.id", AttributeValue::string("instance-" + i.to_string())),
    ("deployment.environment", AttributeValue::string("prod")),
    ("host.name", AttributeValue::string("perf-server-" + (i % 10).to_string())),
    ("host.ip", AttributeValue::string("192.168.1." + (i % 255).to_string())),
    ("process.pid", AttributeValue::int((10000 + i).to_int64())),
    ("process.executable.name", AttributeValue::string("performance-service")),
    ("process.command_line", AttributeValue::string("./performance-service --config prod.yaml")),
    ("process.runtime.name", AttributeValue::string("moonbit")),
    ("process.runtime.version", AttributeValue::string("0.1.0")),
    ("process.runtime.description", AttributeValue::string("MoonBit Runtime")),
    ("os.type", AttributeValue::string("linux")),
    ("os.name", AttributeValue::string("Ubuntu")),
    ("os.version", AttributeValue::string("20.04")),
    ("os.description", AttributeValue::string("Ubuntu 20.04 LTS")),
    ("cloud.provider", AttributeValue::string("aws")),
    ("cloud.account.id", AttributeValue::string("123456789012")),
    ("cloud.region", AttributeValue::string("us-west-2")),
    ("cloud.availability_zone", AttributeValue::string("us-west-2a")),
    ("tags", AttributeValue::array_string(["performance", "production", "critical"])),
    ("ports", AttributeValue::array_int([8080L, 8443L, 9090L, 9091L])),
    ("cpu.thresholds", AttributeValue::array_float([60.0, 80.0, 95.0])),
    ("feature.flags", AttributeValue::array_bool([true, false, true, true, false]))
  ]
  
  i = 0
  while i < 500 {
    let resource = Resource::default("complex-performance-service-" + i.to_string())
    i = i + 1
  }
  
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦èµ„æºåˆ›å»ºæ€§èƒ½
  let special_names = [
    "service-with-dashes",
    "service_with_underscores",
    "service.with.dots",
    "service with spaces",
    "service!@#$%^&*()",
    "UnicodeæœåŠ¡æµ‹è¯•ğŸš€",
    "service.with.mixed-Characters_and123"
  ]
  
  i = 0
  while i < 100 {
    let name_index = i % special_names.length()
    let resource = Resource::default(special_names[name_index] + "-" + i.to_string())
    i = i + 1
  }
  
  // æµ‹è¯•é•¿åç§°èµ„æºåˆ›å»ºæ€§èƒ½
  let long_name_base = "a" * 100
  i = 0
  while i < 100 {
    let long_name = long_name_base + i.to_string()
    let resource = Resource::default(long_name)
    i = i + 1
  }
  
  assert_eq(true, true)
}

test "instrumentation_scope_performance" {
  // æµ‹è¯•ä»ªè¡¨èŒƒå›´åˆ›å»ºçš„æ€§èƒ½
  
  // æµ‹è¯•åŸºæœ¬ä»ªè¡¨èŒƒå›´åˆ›å»ºæ€§èƒ½
  let mut i = 0
  while i < 1000 {
    let scope = InstrumentationScope::{
      name: "performance-scope-" + i.to_string(),
      version: Some("1.0.0"),
      schema_url: None
    }
    i = i + 1
  }
  
  // æµ‹è¯•å¤æ‚ä»ªè¡¨èŒƒå›´åˆ›å»ºæ€§èƒ½
  i = 0
  while i < 500 {
    let complex_scope = InstrumentationScope::{
      name: "complex-performance-scope-" + i.to_string(),
      version: Some(i.to_string() + ".0.0"),
      schema_url: Some("https://example.com/schema/v" + i.to_string())
    }
    i = i + 1
  }
  
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦ä»ªè¡¨èŒƒå›´åˆ›å»ºæ€§èƒ½
  let special_scope_names = [
    "scope-with-dashes",
    "scope_with_underscores",
    "scope.with.dots",
    "scope with spaces",
    "scope!@#$%^&*()",
    "UnicodeèŒƒå›´æµ‹è¯•ğŸš€",
    "scope.with.mixed-Characters_and123"
  ]
  
  i = 0
  while i < 100 {
    let name_index = i % special_scope_names.length()
    let scope = InstrumentationScope::{
      name: special_scope_names[name_index] + "-" + i.to_string(),
      version: Some("1.0.0"),
      schema_url: None
    }
    i = i + 1
  }
  
  // æµ‹è¯•é•¿åç§°ä»ªè¡¨èŒƒå›´åˆ›å»ºæ€§èƒ½
  let long_scope_name_base = "a" * 100
  i = 0
  while i < 100 {
    let long_scope_name = long_scope_name_base + i.to_string()
    let scope = InstrumentationScope::{
      name: long_scope_name,
      version: Some(i.to_string() + ".0.0"),
      schema_url: Some("https://example.com/very/long/schema/url/path/" + i.to_string())
    }
    i = i + 1
  }
  
  assert_eq(true, true)
}