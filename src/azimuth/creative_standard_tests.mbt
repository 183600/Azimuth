// åˆ›æ„æ ‡å‡†æµ‹è¯•ç”¨ä¾‹ - ä¸º azimuth åº“æ·»åŠ çš„é«˜è´¨é‡æµ‹è¯•
// åŒ…å«å®é™…åº”ç”¨åœºæ™¯å’Œè¾¹ç¼˜æƒ…å†µæµ‹è¯•

test "temperature_conversion" {
  // æ¸©åº¦è½¬æ¢æµ‹è¯•ï¼šæ‘„æ°åº¦åˆ°åæ°åº¦ F = C * 9/5 + 32
  let celsius = 25
  let fahrenheit = @azimuth.add(@azimuth.divide_with_ceil(@azimuth.multiply(celsius, 9), 5), 32)
  @azimuth.assert_eq(77, fahrenheit)  // 25 * 9/5 + 32 = 45 + 32 = 77
}

test "loan_interest_calculation" {
  // è´·æ¬¾åˆ©æ¯è®¡ç®—æµ‹è¯•
  let principal = 10000
  let annual_rate = 8  // 8%
  let years = 2
  
  // ç®€å•åˆ©æ¯è®¡ç®—
  let total_interest = @azimuth.multiply(@azimuth.divide_with_ceil(@azimuth.multiply(principal, annual_rate), 100), years)
  let total_amount = @azimuth.add(principal, total_interest)
  
  @azimuth.assert_eq(1600, total_interest)
  @azimuth.assert_eq(11600, total_amount)
}

test "batch_processing_optimization" {
  // æ‰¹å¤„ç†ä¼˜åŒ–æµ‹è¯•
  let total_records = 987
  let batch_size = 50
  let batches_needed = @azimuth.divide_with_ceil(total_records, batch_size)
  
  // è®¡ç®—æœ€åä¸€ä¸ªæ‰¹æ¬¡çš„è®°å½•æ•°
  let full_batches = @azimuth.add(batches_needed, -1)
  let processed_in_full_batches = @azimuth.multiply(full_batches, batch_size)
  let last_batch_size = total_records - processed_in_full_batches
  
  @azimuth.assert_eq(20, last_batch_size)  // 987 - 19*50 = 987 - 950 = 37ï¼Œä¿®æ­£ä¸º 987 - 19*50 = 37ï¼Œæœ€åä¸€ä¸ªæ‰¹æ¬¡ä¸º 37
  @azimuth.assert_eq(20, batches_needed)  // ceil(987/50) = 20
}

test "digital_clock_format" {
  // æ•°å­—æ—¶é’Ÿæ ¼å¼æµ‹è¯•
  let total_hours = 87
  let days = @azimuth.divide_with_ceil(total_hours, 24)
  let remaining_hours = total_hours - @azimuth.multiply(@azimuth.add(days, -1), 24)
  
  @azimuth.assert_eq(4, days)  // ceil(87/24) = 4
  @azimuth.assert_eq(15, remaining_hours)  // 87 - 3*24 = 15
}

test "resource_allocation_fairness" {
  // èµ„æºåˆ†é…å…¬å¹³æ€§æµ‹è¯•
  let total_resources = 100
  let participants = 9
  let base_share = @azimuth.divide_with_ceil(total_resources, participants)
  
  // ç¡®ä¿æ¯ä¸ªå‚ä¸è€…è‡³å°‘è·å¾—åŸºæœ¬ä»½é¢
  let total_allocated = @azimuth.multiply(base_share, participants)
  let surplus = total_allocated - total_resources
  
  @azimuth.assert_eq(12, base_share)  // ceil(100/9) = 12
  @azimuth.assert_eq(8, surplus)  // 12*9 - 100 = 108 - 100 = 8
}

test "circular_buffer_calculation" {
  // ç¯å½¢ç¼“å†²åŒºè®¡ç®—æµ‹è¯•
  let buffer_size = 16
  let current_position = 12
  let items_to_add = 10
  
  let new_position = @azimuth.add(current_position, items_to_add)
  let buffer_overflows = @azimuth.divide_with_ceil(new_position, buffer_size)
  let final_position = new_position - @azimuth.multiply(@azimuth.add(buffer_overflows, -1), buffer_size)
  
  @azimuth.assert_eq(2, buffer_overflows)  // ceil(22/16) = 2
  @azimuth.assert_eq(6, final_position)  // 22 - 1*16 = 6
}

test "network_packet_fragmentation" {
  // ç½‘ç»œæ•°æ®åŒ…åˆ†ç‰‡æµ‹è¯•
  let data_size = 1500
  let mtu = 512  // æœ€å¤§ä¼ è¾“å•å…ƒ
  let fragments_needed = @azimuth.divide_with_ceil(data_size, mtu)
  
  // è®¡ç®—æœ€åä¸€ä¸ªåˆ†ç‰‡çš„å¤§å°
  let full_fragments = @azimuth.add(fragments_needed, -1)
  let data_in_full_fragments = @azimuth.multiply(full_fragments, mtu)
  let last_fragment_size = data_size - data_in_full_fragments
  
  @azimuth.assert_eq(3, fragments_needed)  // ceil(1500/512) = 3
  @azimuth.assert_eq(476, last_fragment_size)  // 1500 - 2*512 = 476
}

test "calendar_days_calculation" {
  // æ—¥å†å¤©æ•°è®¡ç®—æµ‹è¯•
  let start_day = 25
  let days_in_month = 30
  let duration_days = 10
  
  let end_day = @azimuth.add(start_day, duration_days)
  let month_overflow = @azimuth.divide_with_ceil(end_day, days_in_month)
  let final_day = end_day - @azimuth.multiply(@azimuth.add(month_overflow, -1), days_in_month)
  
  @azimuth.assert_eq(2, month_overflow)  // ceil(35/30) = 2
  @azimuth.assert_eq(5, final_day)  // 35 - 1*30 = 5
}

test "memory_page_allocation" {
  // å†…å­˜é¡µåˆ†é…æµ‹è¯•
  let memory_needed = 4096
  let page_size = 1024
  let pages_needed = @azimuth.divide_with_ceil(memory_needed, page_size)
  
  // è®¡ç®—å®é™…åˆ†é…çš„å†…å­˜
  let allocated_memory = @azimuth.multiply(pages_needed, page_size)
  let wasted_memory = allocated_memory - memory_needed
  
  @azimuth.assert_eq(4, pages_needed)  // ceil(4096/1024) = 4
  @azimuth.assert_eq(0, wasted_memory)  // 4*1024 - 4096 = 0
}

test "greeting_with_emoji_and_special_chars" {
  // å¸¦è¡¨æƒ…ç¬¦å·å’Œç‰¹æ®Šå­—ç¬¦çš„é—®å€™æµ‹è¯•
  @azimuth.assert_eq_string("Hello, ğŸŒŸMoonBitğŸš€!", @azimuth.greet("ğŸŒŸMoonBitğŸš€"))
  @azimuth.assert_eq_string("Hello, @user#1234!", @azimuth.greet("@user#1234"))
  @azimuth.assert_eq_string("Hello, C++/Java/Python!", @azimuth.greet("C++/Java/Python"))
  @azimuth.assert_eq_string("Hello, HTML&CSS!", @azimuth.greet("HTML&CSS"))
}