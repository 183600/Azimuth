// é«˜è´¨é‡æµ‹è¯•å¥—ä»¶ - é’ˆå¯¹ azimuth åº“çš„ç»¼åˆæµ‹è¯•
// åŒ…å«å®é™…åº”ç”¨åœºæ™¯å’Œè¾¹ç•Œæƒ…å†µæµ‹è¯•

test "financial_interest_calculation" {
  // é‡‘èåˆ©æ¯è®¡ç®—åœºæ™¯
  // è®¡ç®—å¤åˆ©ï¼šæœ¬é‡‘ = 1000ï¼Œå¹´åˆ©ç‡ = 5%ï¼ŒæœŸé™ = 3å¹´
  let principal = 1000
  let rate_percent = 5
  
  // ç¬¬ä¸€å¹´
  let year1_interest = divide_with_ceil(multiply(principal, rate_percent), 100)
  let year1_total = add(principal, year1_interest)
  
  // ç¬¬äºŒå¹´
  let year2_interest = divide_with_ceil(multiply(year1_total, rate_percent), 100)
  let year2_total = add(year1_total, year2_interest)
  
  // ç¬¬ä¸‰å¹´
  let year3_interest = divide_with_ceil(multiply(year2_total, rate_percent), 100)
  let final_amount = add(year2_total, year3_interest)
  
  assert_eq(1158, final_amount)  // 1000 -> 1050 -> 1103 -> 1158
}

test "inventory_batch_processing" {
  // åº“å­˜æ‰¹æ¬¡å¤„ç†åœºæ™¯
  // è®¡ç®—éœ€è¦çš„æ‰¹æ¬¡æ•°é‡
  let total_products = 157
  let batch_capacity = 25
  let batches_needed = divide_with_ceil(total_products, batch_capacity)
  
  // è®¡ç®—æœ€åä¸€ä¸ªæ‰¹æ¬¡çš„äº§å“æ•°é‡
  let full_batches = total_products / batch_capacity
  let last_batch_size = total_products - multiply(full_batches, batch_capacity)
  
  assert_eq(7, batches_needed)  // ceil(157/25) = 7
  assert_eq(7, last_batch_size)  // 157 - 6*25 = 7
}

test "team_project_allocation" {
  // å›¢é˜Ÿé¡¹ç›®åˆ†é…åœºæ™¯
  // å°†ä»»åŠ¡åˆ†é…ç»™å›¢é˜Ÿæˆå‘˜
  let total_tasks = 47
  let team_members = 8
  let tasks_per_member = divide_with_ceil(total_tasks, team_members)
  
  // è®¡ç®—æ€»åˆ†é…ä»»åŠ¡æ•°
  let allocated_tasks = multiply(tasks_per_member, team_members)
  let extra_tasks = allocated_tasks - total_tasks
  
  assert_eq(6, tasks_per_member)  // ceil(47/8) = 6
  assert_eq(1, extra_tasks)  // 6*8 - 47 = 1
}

test "temperature_conversion_batch" {
  // æ¸©åº¦è½¬æ¢æ‰¹é‡å¤„ç†
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼šF = C * 9/5 + 32
  let celsius_temp = 20
  let expected_fahrenheit = 68
  
  // æµ‹è¯•æ¸©åº¦è½¬æ¢
  let fahrenheit = add(divide_with_ceil(multiply(celsius_temp, 9), 5), 32)
  assert_eq(expected_fahrenheit, fahrenheit)
  
  // æµ‹è¯•å¦ä¸€ä¸ªæ¸©åº¦
  let celsius_temp2 = 0
  let fahrenheit2 = add(divide_with_ceil(multiply(celsius_temp2, 9), 5), 32)
  assert_eq(32, fahrenheit2)
}

test "shipping_cost_calculation" {
  // è¿è´¹è®¡ç®—åœºæ™¯
  // æ ¹æ®é‡é‡å’Œè·ç¦»è®¡ç®—è¿è´¹
  let base_rate = 5
  let weight_kg = 12
  let distance_km = 45
  
  // é‡é‡è´¹ç”¨ï¼šæ¯kgåŸºç¡€è´¹ç‡ï¼Œå‘ä¸Šå–æ•´åˆ°æœ€è¿‘çš„5kg
  let weight_units = divide_with_ceil(weight_kg, 5)
  let weight_cost = multiply(weight_units, multiply(base_rate, 2))
  
  // è·ç¦»è´¹ç”¨ï¼šæ¯10kmä¸€ä¸ªè®¡ä»·å•ä½
  let distance_units = divide_with_ceil(distance_km, 10)
  let distance_cost = multiply(distance_units, base_rate)
  
  let total_cost = add(weight_cost, distance_cost)
  
  assert_eq(55, total_cost)  // weight: ceil(12/5)*5*2 = 3*10 = 30, distance: ceil(45/10)*5 = 5*5 = 25, total: 30+25=55
}

test "classroom_seating_arrangement" {
  // æ•™å®¤åº§ä½å®‰æ’åœºæ™¯
  let total_students = 67
  let seats_per_row = 8
  let rows_needed = divide_with_ceil(total_students, seats_per_row)
  
  // è®¡ç®—æœ€åä¸€æ’çš„åº§ä½æ•°
  let full_rows = total_students / seats_per_row
  let last_row_students = total_students - multiply(full_rows, seats_per_row)
  
  // è®¡ç®—ç©ºåº§ä½æ•°
  let total_seats = multiply(rows_needed, seats_per_row)
  let empty_seats = total_seats - total_students
  
  assert_eq(9, rows_needed)  // ceil(67/8) = 9
  assert_eq(3, last_row_students)  // 67 - 8*8 = 3
  assert_eq(5, empty_seats)  // 9*8 - 67 = 5
}

test "event_planning_budget" {
  // æ´»åŠ¨è§„åˆ’é¢„ç®—åœºæ™¯
  let participants = 85
  let cost_per_person = 25
  let fixed_venue_cost = 500
  let contingency_percent = 10
  
  // è®¡ç®—åŸºç¡€æˆæœ¬
  let variable_cost = multiply(participants, cost_per_person)
  let base_total = add(variable_cost, fixed_venue_cost)
  
  // è®¡ç®—åº”æ€¥é¢„ç®—
  let contingency = divide_with_ceil(multiply(base_total, contingency_percent), 100)
  let total_budget = add(base_total, contingency)
  
  assert_eq(2625, variable_cost)  // 85 * 25 = 2125
  assert_eq(3125, base_total)  // 2625 + 500 = 3125
  assert_eq(313, contingency)  // ceil(3125 * 10 / 100) = 313
  assert_eq(3438, total_budget)  // 3125 + 313 = 3438
}

test "manufacturing_production_cycle" {
  // åˆ¶é€ ä¸šç”Ÿäº§å‘¨æœŸåœºæ™¯
  let daily_target = 500
  let machine_capacity_per_hour = 45
  let working_hours = 8
  
  // è®¡ç®—æ¯æ—¥å®é™…äº§é‡
  let daily_production = multiply(machine_capacity_per_hour, working_hours)
  
  // è®¡ç®—éœ€è¦çš„æœºå™¨æ•°é‡
  let machines_needed = divide_with_ceil(daily_target, machine_capacity_per_hour)
  
  // è®¡ç®—å®Œæˆè®¢å•éœ€è¦çš„å¤©æ•°
  let order_quantity = 5000
  let days_needed = divide_with_ceil(order_quantity, daily_production)
  
  assert_eq(360, daily_production)  // 45 * 8 = 360
  assert_eq(12, machines_needed)  // ceil(500/45) = 12
  assert_eq(14, days_needed)  // ceil(5000/360) = 14
}

test "multilingual_greeting_system" {
  // å¤šè¯­è¨€é—®å€™ç³»ç»Ÿåœºæ™¯
  let english_name = "Alice"
  let chinese_name = "å°æ˜"
  let spanish_name = "MarÃ­a"
  let emoji_name = "ğŸŒŸ"
  
  // æµ‹è¯•ä¸åŒè¯­è¨€çš„é—®å€™
  let english_greeting = greet(english_name)
  let chinese_greeting = greet(chinese_name)
  let spanish_greeting = greet(spanish_name)
  let emoji_greeting = greet(emoji_name)
  
  assert_eq_string("Hello, Alice!", english_greeting)
  assert_eq_string("Hello, å°æ˜!", chinese_greeting)
  assert_eq_string("Hello, MarÃ­a!", spanish_greeting)
  assert_eq_string("Hello, ğŸŒŸ!", emoji_greeting)
}

test "complex_business_calculation" {
  // å¤æ‚ä¸šåŠ¡è®¡ç®—åœºæ™¯
  // è®¡ç®—è®¢å•æ€»ä»·ï¼šå•†å“ä»·æ ¼ Ã— æ•°é‡ + è¿è´¹ - æŠ˜æ‰£
  let product_price = 89
  let quantity = 4
  let shipping = 12
  let discount = 20
  
  let subtotal = multiply(product_price, quantity)
  let total_before_discount = add(subtotal, shipping)
  let final_total = add(total_before_discount, -discount)
  
  assert_eq(358, final_total)  // 89*4 + 12 - 20 = 356 + 12 - 20 = 348
}