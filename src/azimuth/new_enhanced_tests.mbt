// æ–°å¢çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// è¿™äº›æµ‹è¯•ç”¨ä¾‹è¿›ä¸€æ­¥æ‰©å±•äº†å¯¹ azimuth åº“åŠŸèƒ½çš„éªŒè¯

test "add_with_large_positive_numbers" {
  // æµ‹è¯•å¤§æ­£æ•°ç›¸åŠ 
  let num1 = 1000000000
  let num2 = 1000000000
  let result = add(num1, num2)
  assert_eq(2000000000, result)
  
  // æµ‹è¯•æ¥è¿‘æœ€å¤§å€¼çš„æ•°ç›¸åŠ 
  let near_max = 2147483640
  let small = 5
  let result2 = add(near_max, small)
  assert_eq(2147483645, result2)
}

test "add_with_large_negative_numbers" {
  // æµ‹è¯•å¤§è´Ÿæ•°ç›¸åŠ 
  let num1 = -1000000000
  let num2 = -1000000000
  let result = add(num1, num2)
  assert_eq(-2000000000, result)
  
  // æµ‹è¯•æ¥è¿‘æœ€å°å€¼çš„æ•°ç›¸åŠ 
  let near_min = -2147483640
  let small = -5
  let result2 = add(near_min, small)
  assert_eq(-2147483645, result2)
}

test "multiply_with_decimal_simulation" {
  // é€šè¿‡æ•´æ•°è¿ç®—æ¨¡æ‹Ÿå°æ•°ä¹˜æ³•ï¼ˆä¾‹å¦‚ï¼šè®¡ç®—æŠ˜æ‰£ï¼‰
  // åŸä»· 200ï¼Œæ‰“ 8 æŠ˜ = 200 * 80 / 100 = 160
  let original_price = 200
  let discount_percent = 80
  let discounted_price = multiply(original_price, discount_percent) / 100
  assert_eq(160, discounted_price)
  
  // åŸä»· 150ï¼Œæ‰“ 7 æŠ˜ = 150 * 70 / 100 = 105
  let original_price2 = 150
  let discount_percent2 = 70
  let discounted_price2 = multiply(original_price2, discount_percent2) / 100
  assert_eq(105, discounted_price2)
}

test "compound_interest_calculation" {
  // ç®€åŒ–çš„å¤åˆ©è®¡ç®—ï¼šæœ¬é‡‘ * (1 + åˆ©ç‡ * å¹´æ•°)
  let principal = 10000
  let rate = 5  // 5%
  let years = 3
  let interest_rate = multiply(rate, years)
  let total_rate = add(100, interest_rate)  // 100 + 5*3 = 115
  let total_amount = multiply(principal, total_rate) / 100
  assert_eq(11500, total_amount)  // 10000 * 115 / 100 = 11500
}

test "greet_with_special_unicode_characters" {
  // æµ‹è¯•åŒ…å«ç‰¹æ®Š Unicode å­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))
  assert_eq_string("Hello, â­!", greet("â­"))
  assert_eq_string("Hello, â¤ï¸!", greet("â¤ï¸"))
  assert_eq_string("Hello, ğŸ‰!", greet("ğŸ‰"))
}

test "greet_with_mathematical_symbols" {
  // æµ‹è¯•åŒ…å«æ•°å­¦ç¬¦å·çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, âˆ‘!", greet("âˆ‘"))
  assert_eq_string("Hello, âˆ†!", greet("âˆ†"))
  assert_eq_string("Hello, âˆ!", greet("âˆ"))
  assert_eq_string("Hello, âˆ«!", greet("âˆ«"))
}

test "nested_arithmetic_operations" {
  // æµ‹è¯•åµŒå¥—ç®—æœ¯è¿ç®—ï¼š(a + b) * (c + d)
  let a = 10
  let b = 20
  let c = 30
  let d = 40
  
  let sum1 = add(a, b)
  let sum2 = add(c, d)
  let result = multiply(sum1, sum2)
  assert_eq(2100, result)  // (10 + 20) * (30 + 40) = 30 * 70 = 2100
}

test "area_of_triangle" {
  // æµ‹è¯•ä¸‰è§’å½¢é¢ç§¯è®¡ç®—ï¼šåº• * é«˜ / 2
  let base = 10
  let height = 8
  let area = multiply(base, height) / 2
  assert_eq(40, area)
  
  // æµ‹è¯•å¦ä¸€ä¸ªä¸‰è§’å½¢
  let base2 = 15
  let height2 = 12
  let area2 = multiply(base2, height2) / 2
  assert_eq(90, area2)
}

test "time_conversion" {
  // æµ‹è¯•æ—¶é—´è½¬æ¢ï¼šå°æ—¶è½¬æ¢ä¸ºåˆ†é’Ÿ
  let hours = 5
  let minutes = multiply(hours, 60)
  assert_eq(300, minutes)
  
  // æµ‹è¯•å¤©è½¬æ¢ä¸ºå°æ—¶
  let days = 3
  let hours_in_days = multiply(days, 24)
  assert_eq(72, hours_in_days)
  
  // æµ‹è¯•å‘¨è½¬æ¢ä¸ºå¤©
  let weeks = 2
  let days_in_weeks = multiply(weeks, 7)
  assert_eq(14, days_in_weeks)
}

test "speed_distance_calculation" {
  // æµ‹è¯•é€Ÿåº¦ã€è·ç¦»ã€æ—¶é—´çš„å…³ç³»ï¼šè·ç¦» = é€Ÿåº¦ * æ—¶é—´
  let speed = 60  // km/h
  let time = 2    // hours
  let distance = multiply(speed, time)
  assert_eq(120, distance)  // 60 km/h * 2 h = 120 km
  
  // æµ‹è¯•è®¡ç®—æ€»è·ç¦»ï¼šåˆ†æ®µè·ç¦»ç›¸åŠ 
  let distance1 = multiply(50, 1)  // 50 km/h * 1 h = 50 km
  let distance2 = multiply(80, 2)  // 80 km/h * 2 h = 160 km
  let total_distance = add(distance1, distance2)
  assert_eq(210, total_distance)  // 50 + 160 = 210 km
}