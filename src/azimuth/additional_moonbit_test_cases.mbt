// é¢å¤–çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•

test "add_negative_numbers" {
  // æµ‹è¯•è´Ÿæ•°ç›¸åŠ 
  assert_eq(-10, add(-3, -7))
  assert_eq(-5, add(-8, 3))
  assert_eq(0, add(-5, 5))
}

test "multiply_large_boundary" {
  // æµ‹è¯•å¤§æ•°è¾¹ç•Œå€¼ç›¸ä¹˜
  let max_val = 2147483647
  let min_val = -2147483648
  
  assert_eq(0, multiply(max_val, 0))
  assert_eq(0, multiply(min_val, 0))
  assert_eq(min_val, multiply(min_val, 1))
}

test "greet_multilingual" {
  // æµ‹è¯•å¤šè¯­è¨€å­—ç¬¦ä¸²
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, Mundo!", greet("Mundo"))
  assert_eq_string("Hello, ğŸŒŸ!", greet("ğŸŒŸ"))
}

test "add_sequence_pattern" {
  // æµ‹è¯•åºåˆ—åŠ æ³•æ¨¡å¼
  let base = 100
  let increment = 25
  
  let result1 = add(base, increment)
  let result2 = add(result1, increment)
  let result3 = add(result2, increment)
  
  assert_eq(125, result1)
  assert_eq(150, result2)
  assert_eq(175, result3)
}

test "multiply_power_pattern" {
  // æµ‹è¯•ä¹˜æ³•å¹‚æ¨¡å¼
  let base = 3
  
  let power2 = multiply(base, base)        // 3^2 = 9
  let power3 = multiply(power2, base)      // 3^3 = 27
  let power4 = multiply(power3, base)      // 3^4 = 81
  
  assert_eq(9, power2)
  assert_eq(27, power3)
  assert_eq(81, power4)
}

test "complex_arithmetic_expression" {
  // æµ‹è¯•å¤æ‚ç®—æœ¯è¡¨è¾¾å¼
  let a = 12
  let b = 8
  let c = 5
  let d = 3
  
  // è®¡ç®— (a + b) * (c - d) + a * d
  let sum = add(a, b)                      // 20
  let diff = add(c, -d)                    // 2
  let product1 = multiply(sum, diff)       // 40
  let product2 = multiply(a, d)            // 36
  let result = add(product1, product2)     // 76
  
  assert_eq(76, result)
}

test "string_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²è¾¹ç•Œæƒ…å†µ
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, A!", greet("A"))
  assert_eq_string("Hello,   !", greet("  "))
  assert_eq_string("Hello, a b c!", greet("a b c"))
}

test "add_overflow_protection" {
  // æµ‹è¯•åŠ æ³•æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  
  assert_eq(max_val, add(max_val, 1))
  assert_eq(max_val, add(max_val, 100))
  assert_eq(max_val, add(max_val, max_val))
}

test "multiply_overflow_protection" {
  // æµ‹è¯•ä¹˜æ³•æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  assert_eq(max_val, multiply(max_val, 2))
  assert_eq(min_val, multiply(min_val, -1))
  assert_eq(max_val, multiply(46341, 46341))
}

test "mixed_operations_chain" {
  // æµ‹è¯•æ··åˆè¿ç®—é“¾
  let start = 10
  
  // ((start * 2) + 5) * 3 - 10
  let step1 = multiply(start, 2)           // 20
  let step2 = add(step1, 5)                // 25
  let step3 = multiply(step2, 3)           // 75
  let result = add(step3, -10)             // 65
  
  assert_eq(65, result)
}