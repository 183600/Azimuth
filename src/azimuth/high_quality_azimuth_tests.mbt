// é«˜è´¨é‡ MoonBit æµ‹è¯•ç”¨ä¾‹
// é’ˆå¯¹ azimuth åº“çš„å…¨é¢æµ‹è¯•ï¼ŒåŒ…å«è¾¹ç•Œæƒ…å†µã€å®é™…åº”ç”¨åœºæ™¯å’Œæ•°å­¦æ€§è´¨éªŒè¯

test "add_function_comprehensive_test" {
  // å…¨é¢æµ‹è¯•åŠ æ³•åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ­£æ•°ã€è´Ÿæ•°å’Œé›¶
  assert_eq(10, add(7, 3))
  assert_eq(0, add(0, 0))
  assert_eq(-5, add(-8, 3))
  assert_eq(1000000, add(500000, 500000))
  assert_eq(1, add(2147483647, -2147483646))
  assert_eq(-1, add(-2147483648, 2147483647))
}

test "multiply_function_edge_cases" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„è¾¹ç•Œæƒ…å†µå’Œç‰¹æ®Šæƒ…å†µ
  assert_eq(21, multiply(7, 3))
  assert_eq(0, multiply(0, 100))
  assert_eq(-24, multiply(-8, 3))
  assert_eq(24, multiply(-8, -3))
  assert_eq(1000000, multiply(1000, 1000))
  assert_eq(1, multiply(1, 2147483647))
}

test "divide_with_ceil_comprehensive_scenarios" {
  // å…¨é¢æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„å„ç§åœºæ™¯
  // æ­£æ•°é™¤æ³•
  assert_eq(4, divide_with_ceil(10, 3))
  assert_eq(3, divide_with_ceil(9, 3))
  assert_eq(1, divide_with_ceil(1, 100))
  
  // è´Ÿæ•°é™¤æ³•
  assert_eq(-3, divide_with_ceil(-10, 3))
  assert_eq(4, divide_with_ceil(-10, -3))
  assert_eq(-3, divide_with_ceil(10, -3))
  
  // ç‰¹æ®Šæƒ…å†µ
  assert_eq(0, divide_with_ceil(5, 0))
  assert_eq(0, divide_with_ceil(0, 5))
  assert_eq(0, divide_with_ceil(0, 0))
}

test "greet_function_multilingual_support" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„å¤šè¯­è¨€å’Œç‰¹æ®Šå­—ç¬¦æ”¯æŒ
  assert_eq_string("Hello, MoonBit!", greet("MoonBit"))
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, 123!", greet("123"))
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))
  assert_eq_string("Hello, EspaÃ±ol!", greet("EspaÃ±ol"))
  assert_eq_string("Hello, Ã±Ã¡Ã©Ã­Ã³Ãº!", greet("Ã±Ã¡Ã©Ã­Ã³Ãº"))
}

test "mathematical_properties_verification" {
  // éªŒè¯åŸºæœ¬æ•°å­¦æ€§è´¨
  let a = 7
  let b = 13
  let c = 5
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(add(a, b), add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(multiply(a, b), multiply(b, a))
  
  // åŠ æ³•ç»“åˆå¾‹
  assert_eq(add(add(a, b), c), add(a, add(b, c)))
  
  // ä¹˜æ³•ç»“åˆå¾‹
  assert_eq(multiply(multiply(a, b), c), multiply(a, multiply(b, c)))
  
  // åˆ†é…å¾‹
  assert_eq(multiply(a, add(b, c)), add(multiply(a, b), multiply(a, c)))
}

test "real_world_business_calculations" {
  // å®é™…ä¸šåŠ¡è®¡ç®—åœºæ™¯ï¼šè®¢å•æ€»ä»·è®¡ç®—
  let product_price = 89
  let quantity = 4
  let tax_rate = 8
  let shipping_cost = 15
  let discount = 20
  
  // è®¡ç®—å°è®¡
  let subtotal = multiply(product_price, quantity)
  
  // è®¡ç®—ç¨è´¹ï¼ˆå‘ä¸Šå–æ•´ï¼‰
  let tax_amount = divide_with_ceil(multiply(subtotal, tax_rate), 100)
  
  // è®¡ç®—æ€»ä»·
  let total_before_discount = add(subtotal, add(tax_amount, shipping_cost))
  let final_total = add(total_before_discount, -discount)
  
  assert_eq(356, subtotal)
  assert_eq(29, tax_amount)
  assert_eq(400, total_before_discount)
  assert_eq(380, final_total)
}

test "complex_inventory_management" {
  // å¤æ‚åº“å­˜ç®¡ç†åœºæ™¯
  let initial_stock = 1000
  let daily_sales = 45
  let days_to_simulate = 7
  let restock_threshold = 200
  let restock_amount = 500
  
  // è®¡ç®—æ€»é”€å”®é‡
  let total_sold = multiply(daily_sales, days_to_simulate)
  
  // è®¡ç®—å‰©ä½™åº“å­˜
  let remaining_stock = add(initial_stock, -total_sold)
  
  // åˆ¤æ–­æ˜¯å¦éœ€è¦è¡¥è´§
  let needs_restock = if remaining_stock < restock_threshold { true } else { false }
  
  // è®¡ç®—è¡¥è´§åçš„åº“å­˜
  let final_stock = if needs_restock { add(remaining_stock, restock_amount) } else { remaining_stock }
  
  assert_eq(315, total_sold)
  assert_eq(685, remaining_stock)
  assert_eq(true, needs_restock)
  assert_eq(1185, final_stock)
}

test "engineering_calculations_packaging" {
  // å·¥ç¨‹è®¡ç®—ï¼šåŒ…è£…ä¼˜åŒ–
  let total_items = 247
  let box_capacity = 24
  let pallet_capacity = 10
  
  // è®¡ç®—éœ€è¦çš„ç®±å­æ•°é‡
  let boxes_needed = divide_with_ceil(total_items, box_capacity)
  
  // è®¡ç®—éœ€è¦çš„æ‰˜ç›˜æ•°é‡
  let pallets_needed = divide_with_ceil(boxes_needed, pallet_capacity)
  
  // è®¡ç®—å‰©ä½™ç©ºé—´
  let total_capacity = multiply(boxes_needed, box_capacity)
  let unused_space = add(total_capacity, -total_items)
  
  assert_eq(11, boxes_needed)
  assert_eq(2, pallets_needed)
  assert_eq(264, total_capacity)
  assert_eq(17, unused_space)
}

test "data_processing_statistics" {
  // æ•°æ®å¤„ç†å’Œç»Ÿè®¡åˆ†æ
  let data_count = 8
  
  // è®¡ç®—æ€»å’Œï¼ˆä½¿ç”¨ç´¯åŠ ï¼‰
  let sum = add(add(add(add(add(add(add(150, 180), 220), 250), 190), 210), 230), 170)
  
  // è®¡ç®—å¹³å‡å€¼ï¼ˆå‘ä¸Šå–æ•´ï¼‰
  let average = divide_with_ceil(sum, data_count)
  
  // è®¡ç®—æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®
  let max_value = 250
  let min_value = 150
  let range = add(max_value, -min_value)
  
  // è®¡ç®—æ–¹å·®ä¼°è®¡ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let variance_estimate = divide_with_ceil(multiply(range, range), 4)
  
  assert_eq(1600, sum)
  assert_eq(200, average)
  assert_eq(100, range)
  assert_eq(2500, variance_estimate)
}

test "error_handling_and_robustness" {
  // é”™è¯¯å¤„ç†å’Œå¥å£®æ€§æµ‹è¯•
  // æµ‹è¯•é™¤é›¶é”™è¯¯å¤„ç†
  assert_eq(0, divide_with_ceil(100, 0))
  assert_eq(0, divide_with_ceil(-100, 0))
  assert_eq(0, divide_with_ceil(0, 0))
  
  // æµ‹è¯•æç«¯æ•°å€¼
  let large_positive = 1000000
  let large_negative = -1000000
  
  // å¤§æ•°è¿ç®—
  assert_eq(2000000, add(large_positive, large_positive))
  assert_eq(-2000000, add(large_negative, large_negative))
  assert_eq(0, add(large_positive, large_negative))
  
  // æ··åˆè¿ç®—
  let mixed_result = add(multiply(large_positive, 2), divide_with_ceil(large_negative, 3))
  assert_eq(1999998, mixed_result)
  
  // å­—ç¬¦ä¸²è¾¹ç•Œæµ‹è¯•
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, A!", greet("A"))
  assert_eq_string("Hello, This is a very long name!", greet("This is a very long name"))
}