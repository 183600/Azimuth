pub fn add (a/21 : Int, b/22 : Int) -> Int {
  if a/21 == 0 { return b/22 }
  if b/22 == 0 { return a/21 }
  if a/21 == -2147483648 {
    if b/22 < 0 { return -2147483648 }
    return a/21 + b/22
  }
  if b/22 == -2147483648 {
    if a/21 < 0 { return -2147483648 }
    return a/21 + b/22
  }
  if a/21 > 0 && b/22 > 0 { if a/21 > 2147483647 - b/22 { return 2147483647 }  }
  if a/21 < 0 && b/22 < 0 { if a/21 < -2147483648 - b/22 { return -2147483648 }  }
  a/21 + b/22
}

pub fn multiply (a/14 : Int, b/15 : Int) -> Int {
  if a/14 == 0 || b/15 == 0 { return 0 }
  if a/14 == 1 { return b/15 }
  if b/15 == 1 { return a/14 }
  if a/14 == -1 { return if b/15 == -2147483648 { -2147483648 } else { -b/15 } }
  if b/15 == -1 { return if a/14 == -2147483648 { -2147483648 } else { -a/14 } }
  if a/14 == -2147483648 { return if b/15 > 1 || b/15 < -1 { -2147483648 } else { a/14 * b/15 } }
  if b/15 == -2147483648 { return if a/14 > 1 || a/14 < -1 { -2147483648 } else { a/14 * b/15 } }
  let sign/18 : Int = if a/14 > 0 && b/15 > 0 || a/14 < 0 && b/15 < 0 { 1 } else { -1 }
  let abs_a/19 : Int = if a/14 < 0 { -a/14 } else { a/14 }
  let abs_b/20 : Int = if b/15 < 0 { -b/15 } else { b/15 }
  if abs_a/19 > 2147483647 / abs_b/20 { return if sign/18 > 0 { 2147483647 } else { -2147483648 } }
  a/14 * b/15
}

pub fn greet (name/13 : String) -> String {
  @ccall add_string(@ccall add_string("Hello, ", name/13), "!")
}

pub fn assert_eq (expected/11 : Int, actual/12 : Int) -> Unit raise Failure {
  if expected/11 != actual/12 {
    return_err Failure(
      @ccall add_string(
        @ccall add_string(
          @ccall add_string(
            "Assertion failed: expected ",
            Show::to_string|$default_impl|(expected/11)
          ),
          " but got "
        ),
        Show::to_string|$default_impl|(actual/12)
      )
    )
  } else {
    @make_value(())
  }
}

pub fn assert_eq_string (expected/9 : String, actual/10 : String) -> Unit raise Failure {
  if Eq::not_equal|$default_impl|(expected/9, actual/10) {
    return_err Failure(
      @ccall add_string(
        @ccall add_string(
          @ccall add_string(
            @ccall add_string("Assertion failed: expected \"", Show::to_string|String|(expected/9)),
            "\" but got \""
          ),
          Show::to_string|String|(actual/10)
        ),
        "\""
      )
    )
  } else {
    @make_value(())
  }
}

pub fn assert_true (condition/8 : Bool) -> Unit raise Failure {
  if !condition/8 {
    return_err Failure("Assertion failed: expected true but got false")
  } else {
    @make_value(())
  }
}

pub fn assert_false (condition/7 : Bool) -> Unit raise Failure {
  if condition/7 {
    return_err Failure("Assertion failed: expected false but got true")
  } else {
    @make_value(())
  }
}