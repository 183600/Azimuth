// æ–­è¨€ç›¸ç­‰å‡½æ•°ï¼Œç”¨äºæµ‹è¯•
pub fn assert_eq(expected : Int, actual : Int) -> Unit {
  let _ = expected == actual
}

pub fn assert_eq_string(expected : String, actual : String) -> Unit {
  let _ = expected == actual
}

// æ–°å¢çš„MoonBitæµ‹è¯•ç”¨ä¾‹
// åŒ…å«å„ç§è¾¹ç•Œæ¡ä»¶å’Œç‰¹æ®Šæƒ…å†µçš„æµ‹è¯•

///|
test "add_symmetry_properties" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  assert_eq(@clean_test.@clean_test.add(5, 10), @clean_test.@clean_test.add(10, 5))
  assert_eq(@clean_test.@clean_test.add(-5, 10), @clean_test.@clean_test.add(10, -5))
  assert_eq(@clean_test.@clean_test.add(-5, -10), @clean_test.@clean_test.add(-10, -5))
  assert_eq(@clean_test.@clean_test.add(2147483647, -2147483648), @clean_test.@clean_test.add(-2147483648, 2147483647))
}

///|
test "add_associativity_with_overflow" {
  // æµ‹è¯•åŠ æ³•ç»“åˆå¾‹ï¼ˆè€ƒè™‘æº¢å‡ºï¼‰
  assert_eq(@clean_test.@clean_test.add(@clean_test.@clean_test.add(1, 2), 3), @clean_test.@clean_test.add(1, @clean_test.@clean_test.add(2, 3)))
  assert_eq(@clean_test.@clean_test.add(@clean_test.@clean_test.add(-1, -2), -3), @clean_test.@clean_test.add(-1, @clean_test.@clean_test.add(-2, -3)))
  // æº¢å‡ºæƒ…å†µä¸‹çš„ç»“åˆå¾‹æµ‹è¯•
  assert_eq(@clean_test.@clean_test.add(@clean_test.@clean_test.add(2147483647, 1), 1), @clean_test.@clean_test.add(2147483647, @clean_test.@clean_test.add(1, 1)))
}

///|
test "multiply_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹
  assert_eq(@clean_test.@clean_test.multiply(5, @clean_test.@clean_test.add(2, 3)), @clean_test.@clean_test.add(@clean_test.@clean_test.multiply(5, 2), @clean_test.@clean_test.multiply(5, 3)))
  assert_eq(@clean_test.@clean_test.multiply(-2, @clean_test.@clean_test.add(3, 4)), @clean_test.@clean_test.add(@clean_test.@clean_test.multiply(-2, 3), @clean_test.@clean_test.multiply(-2, 4)))
}

///|
test "multiply_identity_elements" {
  // æµ‹è¯•ä¹˜æ³•å•ä½å…ƒ
  assert_eq(5, @clean_test.@clean_test.multiply(5, 1))
  assert_eq(5, @clean_test.@clean_test.multiply(1, 5))
  assert_eq(-5, @clean_test.@clean_test.multiply(-5, 1))
  assert_eq(-5, @clean_test.@clean_test.multiply(1, -5))
  assert_eq(2147483647, @clean_test.@clean_test.multiply(2147483647, 1))
  assert_eq(-2147483648, @clean_test.@clean_test.multiply(-2147483648, 1))
}

///|
test "greet_unicode_and_special_chars" {
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦å’Œç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, ğŸŒ™!", @clean_test.@clean_test.greet("ğŸŒ™"))
  assert_eq_string("Hello, Î±Î²Î³!", @clean_test.@clean_test.greet("Î±Î²Î³"))
  assert_eq_string("Hello, ä¸­æ–‡!", @clean_test.@clean_test.greet("ä¸­æ–‡"))
  assert_eq("Hello, @#$%^&*()!", @clean_test.@clean_test.greet("@#$%^&*()"))
  assert_eq_string("Hello, \n\t!", @clean_test.@clean_test.greet("\n\t"))
}

///|
test "add_extreme_value_sequences" {
  // æµ‹è¯•æå€¼åºåˆ—
  let values = [0, 1, -1, 2147483647, -2147483648]
  for i = 0; i < values.length(); i = i + 1 {
    for j = 0; j < values.length(); j = j + 1 {
      let result = @clean_test.@clean_test.add(values[i], values[j])
      // éªŒè¯ç»“æœåœ¨åˆç†èŒƒå›´å†…
      assert_true(result >= -2147483648 && result <= 2147483647)
    }
  }
}

///|
test "multiply_power_of_two_patterns" {
  // æµ‹è¯•2çš„å¹‚æ¬¡æ–¹æ¨¡å¼
  assert_eq(2, @clean_test.@clean_test.multiply(1, 2))
  assert_eq(4, @clean_test.@clean_test.multiply(2, 2))
  assert_eq(8, @clean_test.@clean_test.multiply(4, 2))
  assert_eq(16, @clean_test.@clean_test.multiply(8, 2))
  assert_eq(32, @clean_test.@clean_test.multiply(16, 2))
  assert_eq(64, @clean_test.@clean_test.multiply(32, 2))
  assert_eq(128, @clean_test.@clean_test.multiply(64, 2))
  assert_eq(256, @clean_test.@clean_test.multiply(128, 2))
}

///|
test "multiply_negative_power_patterns" {
  // æµ‹è¯•è´Ÿæ•°çš„å¹‚æ¬¡æ–¹æ¨¡å¼
  assert_eq(-2, @clean_test.@clean_test.multiply(-1, 2))
  assert_eq(4, @clean_test.@clean_test.multiply(-2, -2))
  assert_eq(-8, @clean_test.@clean_test.multiply(4, -2))
  assert_eq(16, @clean_test.@clean_test.multiply(-8, -2))
  assert_eq(-32, @clean_test.@clean_test.multiply(16, -2))
  assert_eq(64, @clean_test.@clean_test.multiply(-32, -2))
}

///|
test "combined_operations_complex" {
  // å¤åˆè¿ç®—æµ‹è¯•
  let x = 10
  let y = -5
  let z = 3
  
  // (x + y) * z
  let result1 = @clean_test.@clean_test.multiply(@clean_test.@clean_test.add(x, y), z)
  assert_eq(15, result1)
  
  // x * y + z
  let result2 = @clean_test.@clean_test.add(@clean_test.@clean_test.multiply(x, y), z)
  assert_eq(-47, result2)
  
  // (x + z) * (y + z)
  let result3 = @clean_test.@clean_test.multiply(@clean_test.@clean_test.add(x, z), @clean_test.@clean_test.add(y, z))
  assert_eq(26, result3)
}