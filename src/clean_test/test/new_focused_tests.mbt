// æ–°çš„ä¸“æ³¨æµ‹è¯•ç”¨ä¾‹ - è¦†ç›–ç‰¹å®šåœºæ™¯å’Œè¾¹ç•Œæƒ…å†µ

// æµ‹è¯•å¤§æ•°è¿ç®—çš„ç²¾ç¡®æ€§
///|
test "large_number_precision" {
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œçš„å¤§æ•°è¿ç®—
  let large_pos = 1000000000
  let large_neg = -1000000000
  
  // å¤§æ•°åŠ æ³•
  assert_eq(2000000000, @azimuth.add(large_pos, large_pos))
  assert_eq(-2000000000, @azimuth.add(large_neg, large_neg))
  assert_eq(0, @azimuth.add(large_pos, large_neg))
  
  // å¤§æ•°ä¹˜æ³•
  assert_eq(1000000000000000000, @azimuth.multiply(large_pos, large_pos))
  assert_eq(1000000000000000000, @azimuth.multiply(large_neg, large_neg))
  assert_eq(-1000000000000000000, @azimuth.multiply(large_pos, large_neg))
}

// æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
///|
test "string_boundary_conditions" {
  // æµ‹è¯•æé•¿å­—ç¬¦ä¸²
  let very_long_name = "ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZ"
  let result = @azimuth.greet(very_long_name)
  assert_eq(true, result.contains("ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZ"))
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq("Hello, !@#$%^&*()_+-=[]{}|;':\",./<>?", @azimuth.greet("!@#$%^&*()_+-=[]{}|;':\",./<>?"))
  
  // æµ‹è¯•åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
  assert_eq("Hello,    ", @azimuth.greet("   "))
  assert_eq("Hello, leading space!", @azimuth.greet(" leading space"))
  assert_eq("Hello, trailing space !", @azimuth.greet("trailing space "))
}

// æµ‹è¯•æ•°å­¦è¿ç®—çš„å®é™…åº”ç”¨åœºæ™¯
///|
test "real_world_math_applications" {
  // è®¡ç®—å¤åˆåˆ©æ¯ï¼šA = P(1 + r)^t
  // æœ¬é‡‘ = 10000ï¼Œåˆ©ç‡ = 5%ï¼Œæ—¶é—´ = 3å¹´
  let principal = 10000
  let rate_percent = 5
  let time = 3
  
  // (1 + r)^t = (1 + 0.05)^3 = 1.157625
  // æˆ‘ä»¬é€šè¿‡æ•´æ•°è¿ç®—æ¥æ¨¡æ‹Ÿ
  let rate_times_100 = 500  // 5%
  let base_times_100 = 10500  // 1 + r = 1.05 = 105/100
  let compound_times_10000 = @azimuth.multiply(base_times_100, @azimuth.multiply(base_times_100, base_times_100))
  
  // éªŒè¯è®¡ç®—è¿‡ç¨‹
  assert_eq(10500, base_times_100)
  assert_eq(1157625000, compound_times_10000)  // 105^3 = 1157625ï¼Œæ‰€ä»¥æ˜¯1157625000/1000000 = 1.157625
}

// æµ‹è¯•ç‰¹æ®Šå€¼çš„è¿ç®—
///|
test "special_value_operations" {
  // æµ‹è¯•è¿ç»­è¿ç®—
  let result1 = @azimuth.add(@azimuth.add(1, 2), @azimuth.add(3, 4))
  assert_eq(10, result1)  // (1+2)+(3+4) = 3+7 = 10
  
  let result2 = @azimuth.multiply(@azimuth.multiply(2, 3), @azimuth.multiply(4, 5))
  assert_eq(120, result2)  // (2*3)*(4*5) = 6*20 = 120
  
  // æµ‹è¯•æ··åˆè¿ç®—
  let result3 = @azimuth.add(@azimuth.multiply(2, 3), @azimuth.multiply(4, 5))
  assert_eq(26, result3)  // 2*3 + 4*5 = 6 + 20 = 26
  
  let result4 = @azimuth.multiply(2, @azimuth.add(3, 4))
  assert_eq(14, result4)  // 2*(3+4) = 2*7 = 14
}

// æµ‹è¯•ç§‘å­¦è®¡ç®—ç›¸å…³çš„åœºæ™¯
///|
test "scientific_calculations" {
  // è®¡ç®—åŠ¨èƒ½ï¼šKE = 0.5 * m * vÂ²
  // è´¨é‡ = 10kgï¼Œé€Ÿåº¦ = 5m/s
  let mass = 10
  let velocity = 5
  let velocity_squared = @azimuth.multiply(velocity, velocity)
  let kinetic_energy_times_2 = @azimuth.multiply(mass, velocity_squared)
  
  assert_eq(25, velocity_squared)  // 5Â² = 25
  assert_eq(250, kinetic_energy_times_2)  // 10 * 25 = 250ï¼Œæ‰€ä»¥åŠ¨èƒ½ = 125J
  
  // è®¡ç®—åŠ¿èƒ½ï¼šPE = m * g * h
  // è´¨é‡ = 5kgï¼Œé‡åŠ›åŠ é€Ÿåº¦ = 9.8m/sÂ²ï¼Œé«˜åº¦ = 10m
  let mass2 = 5
  let gravity_times_10 = 98  // 9.8 * 10
  let height = 10
  let potential_energy_times_10 = @azimuth.multiply(mass2, @azimuth.multiply(gravity_times_10, height))
  
  assert_eq(4900, potential_energy_times_10)  // 5 * 98 * 10 = 4900ï¼Œæ‰€ä»¥åŠ¿èƒ½ = 490J
}

// æµ‹è¯•é‡‘èè®¡ç®—åœºæ™¯
///|
test "financial_calculations" {
  // è®¡ç®—è´·æ¬¾æœˆä¾›ï¼šM = P[r(1+r)^n]/[(1+r)^n-1]
  // æœ¬é‡‘ = 100000ï¼Œå¹´åˆ©ç‡ = 6%ï¼ŒæœŸé™ = 30å¹´
  let principal = 100000
  let annual_rate_percent = 6
  let years = 30
  
  // æœˆåˆ©ç‡ = å¹´åˆ©ç‡ / 12 = 0.5%
  let monthly_rate_times_1000 = 50  // 0.5%
  let months = @azimuth.multiply(years, 12)
  
  // (1+r)^n çš„è¿‘ä¼¼è®¡ç®—
  let base_times_1000 = 1050  // 1 + 0.005 = 1.005 = 1050/1000
  
  // éªŒè¯åŸºæœ¬è®¡ç®—
  assert_eq(360, months)  // 30 * 12 = 360
  assert_eq(50, monthly_rate_times_1000)
  assert_eq(1050, base_times_1000)
}

// æµ‹è¯•ç»Ÿè®¡åˆ†æåœºæ™¯
///|
test "statistical_analysis" {
  // è®¡ç®—æ ‡å‡†å·®ï¼šÏƒ = sqrt(Î£(xi - Î¼)Â²/n)
  // æ•°æ®é›†ï¼š[10, 12, 14, 16, 18]
  // å¹³å‡å€¼ï¼š14
  
  let data1 = 10
  let data2 = 12
  let data3 = 14
  let data4 = 16
  let data5 = 18
  let mean = 14
  let count = 5
  
  // è®¡ç®—å¹³æ–¹å·®å’Œ
  let diff1 = @azimuth.multiply(@azimuth.add(data1, @azimuth.multiply(-1, mean)), @azimuth.add(data1, @azimuth.multiply(-1, mean)))
  let diff2 = @azimuth.multiply(@azimuth.add(data2, @azimuth.multiply(-1, mean)), @azimuth.add(data2, @azimuth.multiply(-1, mean)))
  let diff3 = @azimuth.multiply(@azimuth.add(data3, @azimuth.multiply(-1, mean)), @azimuth.add(data3, @azimuth.multiply(-1, mean)))
  let diff4 = @azimuth.multiply(@azimuth.add(data4, @azimuth.multiply(-1, mean)), @azimuth.add(data4, @azimuth.multiply(-1, mean)))
  let diff5 = @azimuth.multiply(@azimuth.add(data5, @azimuth.multiply(-1, mean)), @azimuth.add(data5, @azimuth.multiply(-1, mean)))
  
  let sum_of_squares = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(diff1, diff2), diff3), diff4), diff5)
  
  assert_eq(16, diff1)  // (10-14)Â² = 16
  assert_eq(4, diff2)   // (12-14)Â² = 4
  assert_eq(0, diff3)   // (14-14)Â² = 0
  assert_eq(4, diff4)   // (16-14)Â² = 4
  assert_eq(16, diff5)  // (18-14)Â² = 16
  assert_eq(40, sum_of_squares)  // 16 + 4 + 0 + 4 + 16 = 40
  
  // æ–¹å·® = 40/5 = 8
  let variance_times_count = sum_of_squares
  assert_eq(40, variance_times_count)
}

// æµ‹è¯•å‡ ä½•è®¡ç®—åœºæ™¯
///|
test "geometric_calculations" {
  // è®¡ç®—ä¸‰è§’å½¢é¢ç§¯ï¼šæµ·ä¼¦å…¬å¼
  // è¾¹é•¿ï¼ša=3, b=4, c=5
  let a = 3
  let b = 4
  let c = 5
  
  // åŠå‘¨é•¿ï¼šs = (a+b+c)/2
  let perimeter = @azimuth.add(@azimuth.add(a, b), c)
  let s_times_2 = perimeter
  
  // é¢ç§¯Â² = s(s-a)(s-b)(s-c)
  let s_minus_a = @azimuth.multiply(-1, @azimuth.add(a, @azimuth.multiply(-1, 6)))  // s-a = 6-3 = 3
  let s_minus_b = @azimuth.multiply(-1, @azimuth.add(b, @azimuth.multiply(-1, 6)))  // s-b = 6-4 = 2
  let s_minus_c = @azimuth.multiply(-1, @azimuth.add(c, @azimuth.multiply(-1, 6)))  // s-c = 6-5 = 1
  
  let area_squared_times_16 = @azimuth.multiply(s_times_2, @azimuth.multiply(@azimuth.multiply(s_minus_a, s_minus_b), s_minus_c))
  
  assert_eq(12, s_times_2)  // (3+4+5) = 12
  assert_eq(3, s_minus_a)
  assert_eq(2, s_minus_b)
  assert_eq(1, s_minus_c)
  assert_eq(72, area_squared_times_16)  // 12*3*2*1 = 72ï¼Œæ‰€ä»¥é¢ç§¯Â² = 72/16 = 4.5
}

// æµ‹è¯•ç‰©ç†å…¬å¼åº”ç”¨åœºæ™¯
///|
test "physics_formula_applications" {
  // è®¡ç®—ç†æƒ³æ°”ä½“çŠ¶æ€æ–¹ç¨‹ï¼šPV = nRT
  // å‹åŠ› = 101325 Paï¼Œä½“ç§¯ = 0.0224 mÂ³ï¼Œç‰©è´¨çš„é‡ = 1 molï¼Œæ°”ä½“å¸¸æ•° = 8.314 J/(molÂ·K)
  let pressure = 101325
  let volume_times_10000 = 2240  // 0.0224 * 10000
  let moles = 1
  let gas_constant_times_1000 = 8314  // 8.314 * 1000
  let temperature_times_100 = 273  // 273K
  
  // PV = nRT
  let pv = @azimuth.multiply(pressure, volume_times_10000)
  let nrt = @azimuth.multiply(@azimuth.multiply(moles, gas_constant_times_1000), temperature_times_100)
  
  // éªŒè¯æ–¹ç¨‹ä¸¤è¾¹ï¼ˆè€ƒè™‘å•ä½æ¢ç®—ï¼‰
  assert_eq(226968000, pv)    // 101325 * 2240
  assert_eq(2269722, nrt)     // 1 * 8314 * 273
}

// æµ‹è¯•å¤æ‚å­—ç¬¦ä¸²ç»„åˆåœºæ™¯
///|
test "complex_string_combinations" {
  // æµ‹è¯•åŒ…å«å„ç§ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  let special_chars = "!@#$%^&*()_+-=[]{}|;':\",./<>?`~"
  let result1 = @azimuth.greet(special_chars)
  assert_eq(true, result1.contains(special_chars))
  
  // æµ‹è¯•å¤šè¯­è¨€å­—ç¬¦ä¸²
  let chinese_name = "å¼ ä¸‰"
  let japanese_name = "ç”°ä¸­å¤ªéƒ"
  let korean_name = "ê¹€ì² ìˆ˜"
  let arabic_name = "Ø£Ø­Ù…Ø¯"
  let russian_name = "Ğ˜Ğ²Ğ°Ğ½"
  
  assert_eq("Hello, å¼ ä¸‰!", @azimuth.greet(chinese_name))
  assert_eq("Hello, ç”°ä¸­å¤ªéƒ!", @azimuth.greet(japanese_name))
  assert_eq("Hello, ê¹€ì² ìˆ˜!", @azimuth.greet(korean_name))
  assert_eq("Hello, Ø£Ø­Ù…Ø¯!", @azimuth.greet(arabic_name))
  assert_eq("Hello, Ğ˜Ğ²Ğ°Ğ½!", @azimuth.greet(russian_name))
  
  // æµ‹è¯•åŒ…å«è¡¨æƒ…ç¬¦å·çš„å­—ç¬¦ä¸²
  let emoji_name = "ğŸ˜€ğŸ‰ğŸŒŸ"
  let result2 = @azimuth.greet(emoji_name)
  assert_eq(true, result2.contains(emoji_name))
}