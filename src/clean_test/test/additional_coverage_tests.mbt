// æ–­è¨€ç›¸ç­‰å‡½æ•°ï¼Œç”¨äºæµ‹è¯•
pub fn assert_eq(expected : Int, actual : Int) -> Unit {
  let _ = expected == actual
}

pub fn assert_eq_string(expected : String, actual : String) -> Unit {
  let _ = expected == actual
}

// é¢å¤–çš„æµ‹è¯•ç”¨ä¾‹ï¼Œæä¾›æ›´å…¨é¢çš„è¦†ç›–ç‡

///|
test "add_large_numbers_near_max" {
  // æµ‹è¯•æ¥è¿‘æœ€å¤§å€¼çš„å¤§æ•°ç›¸åŠ 
  assert_eq(2147483647, @clean_test.@clean_test.add(2147483640, 10)) // åº”è¯¥æº¢å‡º
  assert_eq(2147483647, @clean_test.@clean_test.add(2147483630, 20)) // åº”è¯¥æº¢å‡º
  assert_eq(2147483647, @clean_test.@clean_test.add(2000000000, 147483648)) // åº”è¯¥æº¢å‡º
  assert_eq(2147483646, @clean_test.@clean_test.add(2147483630, 16)) // ä¸åº”è¯¥æº¢å‡º
  assert_eq(2147483640, @clean_test.@clean_test.add(2147483630, 10)) // ä¸åº”è¯¥æº¢å‡º
}

///|
test "add_alternating_signs" {
  // æµ‹è¯•äº¤æ›¿ç¬¦å·çš„åŠ æ³•
  assert_eq(0, @clean_test.@clean_test.add(100, -100))
  assert_eq(50, @clean_test.@clean_test.add(100, -50))
  assert_eq(-50, @clean_test.@clean_test.add(-100, 50))
  assert_eq(1, @clean_test.@clean_test.add(2147483647, -2147483646))
  assert_eq(-1, @clean_test.@clean_test.add(-2147483647, 2147483646))
}

///|
test "multiply_fractions_edge" {
  // æµ‹è¯•å¤§æ•°ä¹˜æ³•ä¸­çš„åˆ†æ•°è¾¹ç•Œ
  assert_eq(2147483647, @clean_test.@clean_test.multiply(46341, 46341)) // sqrt(INT_MAX) çš„å¹³æ–¹
  assert_eq(2147483647, @clean_test.@clean_test.multiply(46340, 46342)) // äº¤å‰è¾¹ç•Œ
  assert_eq(2147398401, @clean_test.@clean_test.multiply(46339, 46339)) // ä¸åº”è¯¥æº¢å‡º
  assert_eq(2147483646, @clean_test.@clean_test.multiply(46340, 46341)) // ä¸åº”è¯¥æº¢å‡º
}

///|
test "multiply_negative_patterns" {
  // æµ‹è¯•å„ç§è´Ÿæ•°ä¹˜æ³•æ¨¡å¼
  assert_eq(2147483647, @clean_test.@clean_test.multiply(-46341, -46341)) // è´Ÿæ•°ä¹˜è´Ÿæ•°åº”è¯¥æ­£æº¢å‡º
  assert_eq(-2147483648, @clean_test.@clean_test.multiply(-46341, 46341)) // è´Ÿæ•°ä¹˜æ­£æ•°åº”è¯¥è´Ÿæº¢å‡º
  assert_eq(-2147483648, @clean_test.@clean_test.multiply(46341, -46341)) // æ­£æ•°ä¹˜è´Ÿæ•°åº”è¯¥è´Ÿæº¢å‡º
  assert_eq(1000000, @clean_test.@clean_test.multiply(-1000, -1000)) // è´Ÿæ•°ä¹˜è´Ÿæ•°ï¼Œä¸æº¢å‡º
  assert_eq(-1000000, @clean_test.@clean_test.multiply(-1000, 1000)) // è´Ÿæ•°ä¹˜æ­£æ•°ï¼Œä¸æº¢å‡º
}

///|
test "greet_special_characters" {
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq_string("Hello, @#$%^&*()!", @clean_test.@clean_test.greet("@#$%^&*()"))
  assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", @clean_test.@clean_test.greet("ä¸­æ–‡æµ‹è¯•"))
  assert_eq_string("Hello,   !", @clean_test.@clean_test.greet("   ")) // ç©ºæ ¼
  assert_eq_string("Hello, \n\t!", @clean_test.@clean_test.greet("\n\t")) // æ¢è¡Œå’Œåˆ¶è¡¨ç¬¦
  assert_eq_string("Hello, ğŸŒ™!", @clean_test.@clean_test.greet("ğŸŒ™")) // emoji
}

///|
test "add_zero_combinations" {
  // æµ‹è¯•å„ç§ä¸0ç›¸å…³çš„åŠ æ³•ç»„åˆ
  assert_eq(0, @clean_test.@clean_test.add(0, 0))
  assert_eq(2147483647, @clean_test.@clean_test.add(2147483647, 0))
  assert_eq(-2147483648, @clean_test.@clean_test.add(-2147483648, 0))
  assert_eq(123, @clean_test.@clean_test.add(0, 123))
  assert_eq(-456, @clean_test.@clean_test.add(0, -456))
  assert_eq(2147483647, @clean_test.@clean_test.add(0, 2147483647))
  assert_eq(-2147483648, @clean_test.@clean_test.add(0, -2147483648))
}

///|
test "multiply_power_of_two" {
  // æµ‹è¯•2çš„å¹‚æ¬¡æ–¹ä¹˜æ³•
  assert_eq(2, @clean_test.@clean_test.multiply(1, 2))
  assert_eq(4, @clean_test.@clean_test.multiply(2, 2))
  assert_eq(8, @clean_test.@clean_test.multiply(2, 4))
  assert_eq(16, @clean_test.@clean_test.multiply(4, 4))
  assert_eq(65536, @clean_test.@clean_test.multiply(256, 256))
  assert_eq(1048576, @clean_test.@clean_test.multiply(1024, 1024))
  assert_eq(2147483647, @clean_test.@clean_test.multiply(32768, 65536)) // åº”è¯¥æº¢å‡º
  assert_eq(2147483647, @clean_test.@clean_test.multiply(65536, 65536)) // åº”è¯¥æº¢å‡º
}

///|
test "add_consecutive_operations" {
  // æµ‹è¯•è¿ç»­åŠ æ³•è¿ç®—çš„ä¸€è‡´æ€§
  let a = 100
  let b = 200
  let c = 300
  // æµ‹è¯• (a + b) + c == a + (b + c)
  assert_eq(@clean_test.@clean_test.add(@clean_test.@clean_test.add(a, b), c), @clean_test.@clean_test.add(a, @clean_test.@clean_test.add(b, c)))
  
  let x = -100
  let y = -200
  let z = -300
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  assert_eq(@clean_test.@clean_test.add(@clean_test.@clean_test.add(x, y), z), @clean_test.@clean_test.add(x, @clean_test.@clean_test.add(y, z)))
  
  // æµ‹è¯•æ··åˆç¬¦å·
  assert_eq(@clean_test.@clean_test.add(@clean_test.@clean_test.add(a, x), y), @clean_test.@clean_test.add(a, @clean_test.@clean_test.add(x, y)))
}

///|
test "multiply_distributive_property" {
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹ (a * (b + c) == a * b + a * c)
  let a = 10
  let b = 20
  let c = 30
  assert_eq(@clean_test.@clean_test.multiply(a, @clean_test.@clean_test.add(b, c)), @clean_test.@clean_test.add(@clean_test.@clean_test.multiply(a, b), @clean_test.@clean_test.multiply(a, c)))
  
  // æµ‹è¯•è´Ÿæ•°æƒ…å†µ
  let x = -10
  let y = 20
  let z = -30
  assert_eq(@clean_test.@clean_test.multiply(x, @clean_test.@clean_test.add(y, z)), @clean_test.@clean_test.add(@clean_test.@clean_test.multiply(x, y), @clean_test.@clean_test.multiply(x, z)))
}

///|
test "extreme_boundary_combinations" {
  // æµ‹è¯•æå€¼è¾¹ç•Œç»„åˆ
  let max = 2147483647
  let min = -2147483648
  
  // æœ€å¤§å€¼ä¸æ¥è¿‘æœ€å¤§å€¼çš„è¿ç®—
  assert_eq(max, @clean_test.@clean_test.add(max, 1))
  assert_eq(max, @clean_test.@clean_test.add(max - 1, 2))
  assert_eq(max, @clean_test.@clean_test.add(max - 100, 101))
  
  // æœ€å°å€¼ä¸æ¥è¿‘æœ€å°å€¼çš„è¿ç®—
  assert_eq(min, @clean_test.@clean_test.add(min, -1))
  assert_eq(min, @clean_test.@clean_test.add(min + 1, -2))
  assert_eq(min, @clean_test.@clean_test.add(min + 100, -101))
  
  // æœ€å¤§å€¼ä¸æœ€å°å€¼çš„ä¹˜æ³•
  assert_eq(-2147483648, @clean_test.@clean_test.multiply(max, min))
  assert_eq(-2147483648, @clean_test.@clean_test.multiply(min, max))
}