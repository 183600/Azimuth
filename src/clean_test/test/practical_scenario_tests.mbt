test "financial_calculations" {
  // æµ‹è¯•é‡‘èè®¡ç®—åœºæ™¯
  @clean_test.assert_eq(100, @clean_test.add(50, 50))  // 50 + 50 = 100
  @clean_test.assert_eq(95, @clean_test.add(100, -5))  // 100 - 5 = 95
  @clean_test.assert_eq(200, @clean_test.multiply(20, 10))  // 20 * 10 = 200
  @clean_test.assert_eq(-50, @clean_test.multiply(10, -5))  // 10 * -5 = -50
  
  // åˆ©æ¯è®¡ç®—ï¼šæœ¬é‡‘1000ï¼Œåˆ©ç‡5%ï¼Œ2å¹´
  let principal = 1000
  let interest_rate = 50  // 5%è¡¨ç¤ºä¸º50/1000
  let years = 2
  let simple_interest = @clean_test.multiply(@clean_test.multiply(principal, interest_rate), years) / 1000
  @clean_test.assert_eq(100, simple_interest)  // ç®€å•åˆ©æ¯åº”è¯¥æ˜¯100
}

///|
test "temperature_conversion" {
  // æµ‹è¯•æ¸©åº¦è½¬æ¢ç›¸å…³çš„è®¡ç®—
  // æ‘„æ°åº¦åˆ°åæ°åº¦ï¼šF = C * 9/5 + 32
  let celsius = 100
  let fahrenheit = @clean_test.add(@clean_test.multiply(celsius, 9) / 5, 32)
  @clean_test.assert_eq(212, fahrenheit)  // 100Â°C = 212Â°F
  
  // åæ°åº¦åˆ°æ‘„æ°åº¦ï¼šC = (F - 32) * 5/9
  let fahrenheit2 = 32
  let celsius2 = @clean_test.multiply(@clean_test.add(fahrenheit2, -32), 5) / 9
  @clean_test.assert_eq(0, celsius2)  // 32Â°F = 0Â°C
}

///|
test "coordinate_geometry" {
  // æµ‹è¯•åæ ‡å‡ ä½•è®¡ç®—
  // ä¸¤ç‚¹è·ç¦»çš„å¹³æ–¹ï¼š(x2-x1)Â² + (y2-y1)Â²
  let x1 = 3
  let y1 = 4
  let x2 = 0
  let y2 = 0
  let dx = @clean_test.add(x2, -x1)  // x2 - x1
  let dy = @clean_test.add(y2, -y1)  // y2 - y1
  let distance_squared = @clean_test.add(@clean_test.multiply(dx, dx), @clean_test.multiply(dy, dy))
  @clean_test.assert_eq(25, distance_squared)  // 3-4-5ä¸‰è§’å½¢ï¼Œè·ç¦»å¹³æ–¹åº”è¯¥æ˜¯25
  
  // ä¸­ç‚¹åæ ‡ï¼š((x1+x2)/2, (y1+y2)/2)
  let midpoint_x = @clean_test.add(x1, x2) / 2
  let midpoint_y = @clean_test.add(y1, y2) / 2
  @clean_test.assert_eq(1, midpoint_x)  // (3+0)/2 = 1.5ï¼Œæ•´æ•°é™¤æ³•ä¸º1
  @clean_test.assert_eq(2, midpoint_y)  // (4+0)/2 = 2
}

///|
test "array_index_calculations" {
  // æµ‹è¯•æ•°ç»„ç´¢å¼•è®¡ç®—
  let array_size = 10
  let row = 2
  let col = 3
  
  // äºŒç»´æ•°ç»„è½¬ä¸€ç»´æ•°ç»„çš„ç´¢å¼•ï¼šindex = row * width + col
  let width = 5
  let index = @clean_test.add(@clean_test.multiply(row, width), col)
  @clean_test.assert_eq(13, index)  // 2 * 5 + 3 = 13
  
  // è¾¹ç•Œæ£€æŸ¥
  let last_index = @clean_test.add(array_size, -1)  // æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•
  @clean_test.assert_eq(9, last_index)
  
  // ä¸­é—´ç´¢å¼•
  let middle_index = array_size / 2
  @clean_test.assert_eq(5, middle_index)
}

///|
test "time_calculations" {
  // æµ‹è¯•æ—¶é—´è®¡ç®—
  let hours = 2
  let minutes = 30
  let seconds = 45
  
  // è½¬æ¢ä¸ºæ€»ç§’æ•°
  let total_seconds = @clean_test.add(@clean_test.multiply(hours, 3600), 
                                   @clean_test.add(@clean_test.multiply(minutes, 60), seconds))
  @clean_test.assert_eq(9045, total_seconds)  // 2*3600 + 30*60 + 45 = 7200 + 1800 + 45 = 9045
  
  // 12å°æ—¶åˆ¶è½¬æ¢ä¸º24å°æ—¶åˆ¶
  let hour_12 = 11
  let is_pm = 1  // 1è¡¨ç¤ºPMï¼Œ0è¡¨ç¤ºAM
  let hour_24 = @clean_test.add(hour_12, @clean_test.multiply(is_pm, 12))
  @clean_test.assert_eq(23, hour_24)  // 11 PM = 23:00
}

///|
test "statistical_calculations" {
  // æµ‹è¯•ç»Ÿè®¡è®¡ç®—
  let values : ReadOnlyArray[Int] = [10, 20, 30, 40, 50]
  
  // è®¡ç®—æ€»å’Œ
  let sum = @clean_test.add(@clean_test.add(@clean_test.add(@clean_test.add(values[0], values[1]), values[2]), values[3]), values[4])
  @clean_test.assert_eq(150, sum)  // 10+20+30+40+50 = 150
  
  // è®¡ç®—å¹³å‡å€¼ï¼ˆæ•´æ•°é™¤æ³•ï¼‰
  let count = 5
  let average = sum / count
  @clean_test.assert_eq(30, average)  // 150/5 = 30
  
  // è®¡ç®—æ–¹å·®ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let mean = 30
  let diff1 = @clean_test.add(values[0], -mean)  // 10-30 = -20
  let diff2 = @clean_test.add(values[1], -mean)  // 20-30 = -10
  let variance = (@clean_test.multiply(diff1, diff1) + @clean_test.multiply(diff2, diff2)) / count
  @clean_test.assert_eq(100, variance)  // ((-20)Â² + (-10)Â²)/5 = (400+100)/5 = 500/5 = 100
}

///|
test "greet_multilingual_scenarios" {
  // æµ‹è¯•å¤šè¯­è¨€é—®å€™åœºæ™¯
  @clean_test.assert_eq_string("Hello, ä¸–ç•Œ!", @clean_test.greet("ä¸–ç•Œ"))  // ä¸­æ–‡
  @clean_test.assert_eq_string("Hello, Mundo!", @clean_test.greet("Mundo"))  // è¥¿ç­ç‰™è¯­
  @clean_test.assert_eq_string("Hello, Monde!", @clean_test.greet("Monde"))  // æ³•è¯­
  @clean_test.assert_eq_string("Hello, ä¸–ç•Œ!", @clean_test.greet("ä¸–ç•Œ"))  // ä¸­æ–‡
  @clean_test.assert_eq_string("Hello, ğŸŒ!", @clean_test.greet("ğŸŒ"))  // åœ°çƒemoji
  @clean_test.assert_eq_string("Hello, John Doe!", @clean_test.greet("John Doe"))  // è‹±æ–‡å…¨å
  @clean_test.assert_eq_string("Hello, a_b_c!", @clean_test.greet("a_b_c"))  // åŒ…å«ä¸‹åˆ’çº¿
  @clean_test.assert_eq_string("Hello, 123.45!", @clean_test.greet("123.45"))  // å°æ•°
}

///|
test "extreme_boundary_combinations" {
  // æµ‹è¯•æç«¯è¾¹ç•Œå€¼çš„ç»„åˆ
  let max = 2147483647
  let min = -2147483648
  
  // é“¾å¼è¿ç®—æµ‹è¯•
  let result1 = @clean_test.add(@clean_test.add(1, 2), @clean_test.add(3, 4))  // (1+2)+(3+4) = 3+7 = 10
  @clean_test.assert_eq(10, result1)
  
  let result2 = @clean_test.multiply(@clean_test.multiply(2, 3), @clean_test.multiply(4, 5))  // (2*3)*(4*5) = 6*20 = 120
  @clean_test.assert_eq(120, result2)
  
  // æ··åˆè¿ç®—
  let result3 = @clean_test.add(@clean_test.multiply(10, 5), @clean_test.multiply(20, 3))  // 10*5 + 20*3 = 50 + 60 = 110
  @clean_test.assert_eq(110, result3)
  
  // è¾¹ç•Œå€¼çš„æ··åˆè¿ç®—
  let result4 = @clean_test.add(@clean_test.multiply(max, 0), @clean_test.multiply(min, 0))  // max*0 + min*0 = 0 + 0 = 0
  @clean_test.assert_eq(0, result4)
}

///|
test "number_sequence_patterns" {
  // æµ‹è¯•æ•°å­—åºåˆ—æ¨¡å¼
  // ç­‰å·®æ•°åˆ—ï¼š1, 3, 5, 7, 9...
  let first_term = 1
  let common_diff = 2
  let term_5 = @clean_test.add(first_term, @clean_test.multiply(common_diff, 4))  // ç¬¬5é¡¹ = 1 + 2*4 = 9
  @clean_test.assert_eq(9, term_5)
  
  // ç­‰æ¯”æ•°åˆ—ï¼š2, 4, 8, 16, 32...
  let first_geo = 2
  let common_ratio = 2
  let geo_term_5 = @clean_test.multiply(first_geo, @clean_test.multiply(common_ratio, 
                   @clean_test.multiply(common_ratio, @clean_test.multiply(common_ratio, common_ratio))))
  @clean_test.assert_eq(32, geo_term_5)  // 2 * 2^4 = 2 * 16 = 32
  
  // æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼šF(n) = F(n-1) + F(n-2)
  let fib1 = 1
  let fib2 = 1
  let fib3 = @clean_test.add(fib1, fib2)  // 2
  let fib4 = @clean_test.add(fib2, fib3)  // 3
  let fib5 = @clean_test.add(fib3, fib4)  // 5
  @clean_test.assert_eq(5, fib5)
}
