test "basic_add_test" {
  let result = @clean_test.add(2, 3)
  @clean_test.assert_eq(5, result)
}
test "basic_multiply_test" {
  let result = @clean_test.multiply(2, 3)
  @clean_test.assert_eq(6, result)
}
test "basic_greet_test" {
  let result = @clean_test.greet("World")
  @clean_test.assert_eq_string("Hello, World!", result)
}

// æ–°å¢çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
test "add_associative_property" {
  // æµ‹è¯•åŠ æ³•ç»“åˆå¾‹: (a + b) + c = a + (b + c)
  let a = 100
  let b = 200
  let c = 300
  
  let result1 = @clean_test.add(@clean_test.add(a, b), c)
  let result2 = @clean_test.add(a, @clean_test.add(b, c))
  @clean_test.assert_eq(result1, result2)
}

test "multiply_commutative_property" {
  // æµ‹è¯•ä¹˜æ³•äº¤æ¢å¾‹: a * b = b * a
  let a = 12
  let b = 15
  
  let result1 = @clean_test.multiply(a, b)
  let result2 = @clean_test.multiply(b, a)
  @clean_test.assert_eq(result1, result2)
}

test "complex_calculation_scenario" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯ï¼šè®¡ç®—çŸ©å½¢çš„å‘¨é•¿
  let length = 10
  let width = 5
  let perimeter = @clean_test.add(@clean_test.multiply(2, length), @clean_test.multiply(2, width))
  @clean_test.assert_eq(30, perimeter)
}

test "financial_calculation_scenario" {
  // æµ‹è¯•é‡‘èè®¡ç®—åœºæ™¯ï¼šå¤åˆ©è®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let principal = 1000
  let rate = 5
  let years = 3
  // ç®€åŒ–çš„å¤åˆ©è®¡ç®—ï¼šæœ¬æ¯å’Œ = æœ¬é‡‘ + æœ¬é‡‘ Ã— åˆ©ç‡ Ã— å¹´æ•°
  let interest = @clean_test.multiply(principal, @clean_test.multiply(rate, years))
  let total = @clean_test.add(principal, interest)
  @clean_test.assert_eq(16000, total)  // 1000 + 1000*5*3 = 16000ï¼Œè¡¨ç¤º1600å…ƒ
}

test "shopping_cart_calculation" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šè´­ç‰©è½¦è®¡ç®—
  let item1_price = 299
  let item1_quantity = 2
  let item2_price = 199
  let item2_quantity = 3
  let item3_price = 99
  let item3_quantity = 1
  
  // è®¡ç®—æ¯ç§å•†å“çš„æ€»ä»·
  let total1 = @clean_test.multiply(item1_price, item1_quantity)
  let total2 = @clean_test.multiply(item2_price, item2_quantity)
  let total3 = @clean_test.multiply(item3_price, item3_quantity)
  
  // è®¡ç®—è´­ç‰©è½¦æ€»ä»·
  let cart_total = @clean_test.add(@clean_test.add(total1, total2), total3)
  
  // éªŒè¯æ€»ä»·ï¼š299*2 + 199*3 + 99*1 = 598 + 597 + 99 = 1294
  @clean_test.assert_eq(1294, cart_total)
}

test "temperature_conversion" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šæ¸©åº¦è½¬æ¢ï¼ˆç®€åŒ–ç‰ˆï¼‰
  // æ‘„æ°åº¦è½¬åæ°åº¦ï¼šF = C * 9/5 + 32
  // ç”±äºæˆ‘ä»¬åªæœ‰æ•´æ•°è¿ç®—ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿‘ä¼¼å€¼ï¼šF = C * 2 + 30
  
  let celsius_temp = 25
  let fahrenheit_temp = @clean_test.add(@clean_test.multiply(celsius_temp, 2), 30)
  @clean_test.assert_eq(80, fahrenheit_temp)  // 25 * 2 + 30 = 80
  
  // æµ‹è¯•å†°ç‚¹æ¸©åº¦
  let freezing_celsius = 0
  let freezing_fahrenheit = @clean_test.add(@clean_test.multiply(freezing_celsius, 2), 30)
  @clean_test.assert_eq(30, freezing_fahrenheit)  // 0 * 2 + 30 = 30
  
  // æµ‹è¯•æ²¸ç‚¹æ¸©åº¦
  let boiling_celsius = 100
  let boiling_fahrenheit = @clean_test.add(@clean_test.multiply(boiling_celsius, 2), 30)
  @clean_test.assert_eq(230, boiling_fahrenheit)  // 100 * 2 + 30 = 230
}

test "string_processing_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
  // æµ‹è¯•éå¸¸é•¿çš„å­—ç¬¦ä¸²
  let long_name = "ThisIsAVeryLongNameThatMightCauseIssuesInSomeSystemsButShouldWorkFineInMoonBit"
  let result = @clean_test.greet(long_name)
  @clean_test.assert_eq_string("Hello, " + long_name + "!", result)
  
  // æµ‹è¯•åŒ…å«å¼•å·çš„å­—ç¬¦ä¸²
  let quoted_name = "\"John Doe\""
  let result2 = @clean_test.greet(quoted_name)
  @clean_test.assert_eq_string("Hello, \"John Doe\"!", result2)
  
  // æµ‹è¯•åŒ…å«æ¢è¡Œç¬¦çš„å­—ç¬¦ä¸²
  let newline_name = "Line1\nLine2"
  let result3 = @clean_test.greet(newline_name)
  @clean_test.assert_eq_string("Hello, Line1\nLine2!", result3)
}

test "mathematical_series_sum" {
  // è®¡ç®—ç­‰å·®æ•°åˆ—çš„å’Œï¼š1 + 3 + 5 + ... + 19ï¼ˆå‰10ä¸ªå¥‡æ•°ï¼‰
  // ä½¿ç”¨å…¬å¼ï¼šn Ã— (é¦–é¡¹ + æœ«é¡¹) / 2
  let n = 10
  let first = 1
  let last = 19
  
  let sum = @clean_test.multiply(n, @clean_test.add(first, last)) / 2
  @clean_test.assert_eq(100, sum)  // 10 Ã— (1 + 19) / 2 = 100
}

// æ–°å¢çš„æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•ç”¨ä¾‹
test "basic_addition_functionality" {
  // æµ‹è¯•åŸºæœ¬åŠ æ³•åŠŸèƒ½
  @clean_test.assert_eq(5, @clean_test.add(2, 3))
  @clean_test.assert_eq(0, @clean_test.add(0, 0))
  @clean_test.assert_eq(-5, @clean_test.add(-2, -3))
  @clean_test.assert_eq(10, @clean_test.add(7, 3))
}

test "basic_multiplication_functionality" {
  // æµ‹è¯•åŸºæœ¬ä¹˜æ³•åŠŸèƒ½
  @clean_test.assert_eq(6, @clean_test.multiply(2, 3))
  @clean_test.assert_eq(0, @clean_test.multiply(0, 5))
  @clean_test.assert_eq(-6, @clean_test.multiply(-2, 3))
  @clean_test.assert_eq(15, @clean_test.multiply(3, 5))
}

test "greeting_functionality" {
  // æµ‹è¯•é—®å€™åŠŸèƒ½
  @clean_test.assert_eq_string("Hello, World!", @clean_test.greet("World"))
  @clean_test.assert_eq_string("Hello, MoonBit!", @clean_test.greet("MoonBit"))
  @clean_test.assert_eq_string("Hello, !", @clean_test.greet(""))
}

test "zero_value_operations" {
  // æµ‹è¯•é›¶å€¼è¿ç®—
  @clean_test.assert_eq(0, @clean_test.multiply(5, 0))
  @clean_test.assert_eq(0, @clean_test.multiply(0, 0))
  @clean_test.assert_eq(5, @clean_test.add(5, 0))
}

test "large_number_operations" {
  // æµ‹è¯•å¤§æ•°è¿ç®—
  @clean_test.assert_eq(2000000, @clean_test.add(1000000, 1000000))
  @clean_test.assert_eq(1000000, @clean_test.multiply(1000, 1000))
  @clean_test.assert_eq(10000, @clean_test.multiply(100, 100))
}

test "combined_operations" {
  // æµ‹è¯•ç»„åˆè¿ç®—
  let result1 = @clean_test.add(@clean_test.multiply(2, 3), @clean_test.multiply(4, 5))
  @clean_test.assert_eq(26, result1)  // 2*3 + 4*5 = 6 + 20 = 26
  
  let result2 = @clean_test.add(@clean_test.multiply(2, 2), @clean_test.multiply(3, 3))
  @clean_test.assert_eq(13, result2)  // 2*2 + 3*3 = 4 + 9 = 13
}

test "practical_packaging_calculation" {
  // å®é™…åº”ç”¨åœºæ™¯ï¼šåŒ…è£…è®¡ç®—
  let total_items = 25
  let items_per_box = 6
  let mut boxes_needed = total_items / items_per_box
  if total_items % items_per_box > 0 {
    boxes_needed = boxes_needed + 1
  }
  @clean_test.assert_eq(5, boxes_needed)  // ceil(25/6) = 5
  
  // å¦ä¸€ä¸ªåŒ…è£…åœºæ™¯
  let total_items2 = 47
  let items_per_box2 = 12
  let mut boxes_needed2 = total_items2 / items_per_box2
  if total_items2 % items_per_box2 > 0 {
    boxes_needed2 = boxes_needed2 + 1
  }
  @clean_test.assert_eq(4, boxes_needed2)  // ceil(47/12) = 4
}

test "special_characters_handling" {
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦å¤„ç†
  @clean_test.assert_eq_string("Hello, ä¸–ç•Œ!", @clean_test.greet("ä¸–ç•Œ"))
  @clean_test.assert_eq_string("Hello, ğŸš€!", @clean_test.greet("ğŸš€"))
  @clean_test.assert_eq_string("Hello, 123!", @clean_test.greet("123"))
  @clean_test.assert_eq_string("Hello, !@#$!", @clean_test.greet("!@#$"))
}

test "overflow_protection_add" {
  // æµ‹è¯•åŠ æ³•æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  @clean_test.assert_eq(max_val, @clean_test.add(max_val, 1))
  @clean_test.assert_eq(max_val, @clean_test.add(max_val, max_val))
  @clean_test.assert_eq(min_val, @clean_test.add(min_val, -1))
  @clean_test.assert_eq(min_val, @clean_test.add(min_val, min_val))
}

test "overflow_protection_multiply" {
  // æµ‹è¯•ä¹˜æ³•æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  @clean_test.assert_eq(max_val, @clean_test.multiply(max_val, 2))
  @clean_test.assert_eq(min_val, @clean_test.multiply(min_val, 2))
  @clean_test.assert_eq(min_val, @clean_test.multiply(min_val, -1))
}