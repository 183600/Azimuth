// Azimuth å¢å¼ºæµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•ï¼Œè¦†ç›–æ›´å¤šè¾¹ç•Œæƒ…å†µå’Œå¤æ‚åœºæ™¯

test "add_large_numbers" {
  // æµ‹è¯•å¤§æ•°åŠ æ³•
  @azimuth.assert_eq(1000000, @azimuth.add(500000, 500000))
  @azimuth.assert_eq(2000000, @azimuth.add(1000000, 1000000))
  @azimuth.assert_eq(2147483647, @azimuth.add(1073741823, 1073741824))
}

test "add_mixed_signs" {
  // æµ‹è¯•æ··åˆç¬¦å·åŠ æ³•
  @azimuth.assert_eq(0, @azimuth.add(100, -100))
  @azimuth.assert_eq(-50, @azimuth.add(100, -150))
  @azimuth.assert_eq(50, @azimuth.add(-100, 150))
  @azimuth.assert_eq(-2147483648, @azimuth.add(-2147483647, -1))
}

test "multiply_large_numbers" {
  // æµ‹è¯•å¤§æ•°ä¹˜æ³•
  @azimuth.assert_eq(1000000, @azimuth.multiply(1000, 1000))
  @azimuth.assert_eq(2147483647, @azimuth.multiply(46341, 46341))
  @azimuth.assert_eq(-2147483648, @azimuth.multiply(-46341, 46341))
}

test "multiply_fractional_results" {
  // æµ‹è¯•ä¹˜æ³•çš„æ•´æ•°é™¤æ³•ç‰¹æ€§
  @azimuth.assert_eq(6, @azimuth.multiply(2, 3))
  @azimuth.assert_eq(-6, @azimuth.multiply(2, -3))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 123456))
  @azimuth.assert_eq(123456, @azimuth.multiply(123456, 1))
}

test "divide_with_ceil_negative_dividend" {
  // æµ‹è¯•è´Ÿæ•°è¢«é™¤æ•°çš„å‘ä¸Šå–æ•´é™¤æ³•
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-10, 3))
  @azimuth.assert_eq(-4, @azimuth.divide_with_ceil(-11, 3))
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-9, 3))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(-1, 5))
}

test "divide_with_ceil_negative_divisor" {
  // æµ‹è¯•è´Ÿæ•°é™¤æ•°çš„å‘ä¸Šå–æ•´é™¤æ³•
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(10, -3))
  @azimuth.assert_eq(-4, @azimuth.divide_with_ceil(11, -3))
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(9, -3))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(1, -5))
}

test "greet_with_unicode" {
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„é—®å€™
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
  @azimuth.assert_eq_string("Hello, cafÃ©!", @azimuth.greet("cafÃ©"))
  @azimuth.assert_eq_string("Hello, naÃ¯ve!", @azimuth.greet("naÃ¯ve"))
}

test "complex_calculation_chain" {
  // æµ‹è¯•å¤æ‚è®¡ç®—é“¾
  let x = 10
  let y = 20
  let z = -5
  
  // è®¡ç®— (x * y) + (x * z) + y
  let xy = @azimuth.multiply(x, y)
  let xz = @azimuth.multiply(x, z)
  let sum1 = @azimuth.add(xy, xz)
  let result = @azimuth.add(sum1, y)
  @azimuth.assert_eq(165, result)
  
  // è®¡ç®— (x + y) * (z + 10)
  let sum2 = @azimuth.add(x, y)
  let sum3 = @azimuth.add(z, 10)
  let result2 = @azimuth.multiply(sum2, sum3)
  @azimuth.assert_eq(150, result2)
}

test "edge_case_zero_operations" {
  // æµ‹è¯•é›¶æ“ä½œçš„å„ç§è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  @azimuth.assert_eq(12345, @azimuth.add(0, 12345))
  @azimuth.assert_eq(-12345, @azimuth.add(0, -12345))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 12345))
  @azimuth.assert_eq(0, @azimuth.multiply(12345, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 12345))
}