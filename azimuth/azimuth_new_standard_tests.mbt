// æ–°çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹ - 10ä¸ªé«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹
// ä¸º azimuth åº“æä¾›é¢å¤–çš„æµ‹è¯•è¦†ç›–

test "add_function_comprehensive" {
  // å…¨é¢æµ‹è¯•åŠ æ³•å‡½æ•°çš„å„ç§æƒ…å†µ
  assert_eq(15, add(8, 7))
  assert_eq(0, add(0, 0))
  assert_eq(-15, add(-8, -7))
  assert_eq(1, add(-8, 9))
  assert_eq(2000000, add(1000000, 1000000))
  assert_eq(-1, add(-1000000, 999999))
}

test "multiply_function_comprehensive" {
  // å…¨é¢æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„å„ç§æƒ…å†µ
  assert_eq(56, multiply(7, 8))
  assert_eq(0, multiply(0, 12345))
  assert_eq(1, multiply(1, 12345))
  assert_eq(-12345, multiply(-1, 12345))
  assert_eq(12345, multiply(-1, -12345))
  assert_eq(1000000, multiply(1000, 1000))
}

test "greet_function_international_support" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„å›½é™…å­—ç¬¦æ”¯æŒ
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  assert_eq_string("Hello, cafÃ©!", greet("cafÃ©"))
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))
  assert_eq_string("Hello, Ã±oÃ±o!", greet("Ã±oÃ±o"))
  assert_eq_string("Hello, ğŸŒ™â­!", greet("ğŸŒ™â­"))
}

test "divide_with_ceil_business_scenarios" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„ä¸šåŠ¡é€»è¾‘åœºæ™¯
  // åœºæ™¯1ï¼šè®¡ç®—éœ€è¦çš„è¿è¾“è½¦è¾†æ•°é‡
  let packages = 47
  let capacity_per_truck = 10
  let trucks_needed = divide_with_ceil(packages, capacity_per_truck)
  assert_eq(5, trucks_needed)
  
  // åœºæ™¯2ï¼šè®¡ç®—éœ€è¦çš„æ•™å®¤æ•°é‡
  let students = 87
  let capacity_per_classroom = 25
  let classrooms_needed = divide_with_ceil(students, capacity_per_classroom)
  assert_eq(4, classrooms_needed)
  
  // éªŒè¯æ€»å®¹é‡
  let total_capacity = multiply(trucks_needed, capacity_per_truck)
  assert_eq(50, total_capacity)
}

test "complex_calculation_pipeline" {
  // æµ‹è¯•å¤æ‚è®¡ç®—æµæ°´çº¿
  // åœºæ™¯ï¼šè®¡ç®—é¡¹ç›®å®Œæˆæ—¶é—´å’Œèµ„æºéœ€æ±‚
  let tasks = 47
  let people = 6
  let tasks_per_person_per_day = 3
  
  let daily_capacity = multiply(people, tasks_per_person_per_day)
  let days_needed = divide_with_ceil(tasks, daily_capacity)
  assert_eq(3, days_needed)  // ceil(47/(6*3)) = 3
  
  // éªŒè¯æ€»å¤„ç†èƒ½åŠ›
  let total_capacity = multiply(days_needed, daily_capacity)
  assert_eq(54, total_capacity)
  
  // è®¡ç®—èµ„æºåˆ©ç”¨ç‡
  let utilization = divide_with_ceil(multiply(tasks, 100), total_capacity)
  assert_eq(87, utilization)  // ceil(4700/54) = 87%
}

test "mathematical_properties_verification" {
  // éªŒè¯æ•°å­¦æ€§è´¨å’Œæ’ç­‰å¼
  let x = 24
  let y = 18
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(add(x, y), add(y, x))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(multiply(x, y), multiply(y, x))
  
  // åˆ†é…å¾‹
  assert_eq(
    multiply(x, add(y, 5)),
    add(multiply(x, y), multiply(x, 5))
  )
  
  // ç»“åˆå¾‹éªŒè¯
  assert_eq(
    add(x, add(y, 7)),
    add(add(x, y), 7)
  )
}

test "resource_allocation_optimization" {
  // èµ„æºåˆ†é…ä¼˜åŒ–æµ‹è¯•
  let total_budget = 25000
  let departments = 8
  
  // ä½¿ç”¨å‘ä¸Šå–æ•´ç¡®ä¿è¦†ç›–æ‰€æœ‰æƒ…å†µ
  let max_share = divide_with_ceil(total_budget, departments)
  assert_eq(3125, max_share)  // ceil(25000/8) = 3125
  
  // éªŒè¯æ€»åˆ†é…
  let total_allocated = multiply(max_share, departments)
  assert_eq(25000, total_allocated)
  
  // æµ‹è¯•ä¸å‡åŒ€åˆ†é…
  let priority_departments = 3
  let priority_budget = divide_with_ceil(multiply(total_budget, 60), 100)  // 60%ç»™ä¼˜å…ˆéƒ¨é—¨
  assert_eq(15000, priority_budget)
  
  let remaining_departments = subtract(departments, priority_departments)
  let remaining_budget = subtract(total_budget, priority_budget)
  let regular_share = divide_with_ceil(remaining_budget, remaining_departments)
  assert_eq(3333, regular_share)  // ceil(10000/5)
}

test "error_handling_and_boundary_conditions" {
  // é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæ¡ä»¶æµ‹è¯•
  // é™¤é›¶æƒ…å†µ
  assert_eq(0, divide_with_ceil(10, 0))
  assert_eq(0, divide_with_ceil(-10, 0))
  assert_eq(0, divide_with_ceil(0, 0))
  
  // æå€¼æµ‹è¯•
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(1, divide_with_ceil(-1, -1))
  assert_eq(0, divide_with_ceil(0, 1))
  assert_eq(1, divide_with_ceil(100, 100))
  assert_eq(2, divide_with_ceil(101, 100))
  
  // å¤§æ•°æµ‹è¯•
  assert_eq(1000000, divide_with_ceil(1000000, 1))
  assert_eq(1, divide_with_ceil(1000000, 1000000))
  assert_eq(2, divide_with_ceil(1000001, 1000000))
}

test "string_processing_edge_cases" {
  // å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç¼˜æƒ…å†µæµ‹è¯•
  assert_eq_string("Hello, single!", greet("single"))
  assert_eq_string("Hello, space test!", greet("space test"))
  assert_eq_string("Hello, 12345!", greet("12345"))
  assert_eq_string("Hello, !@#$%^!", greet("!@#$%^"))
  assert_eq_string("Hello, mixedCASE!", greet("mixedCASE"))
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello,   !", greet("   "))
  assert_eq_string("Hello, \n\t!", greet("\n\t"))
  assert_eq_string("Hello, \"quotes\"!", greet("\"quotes\""))
  assert_eq_string("Hello, 'apostrophe'!", greet("'apostrophe'"))
}

test "real_world_application_scenarios" {
  // çœŸå®ä¸–ç•Œåº”ç”¨åœºæ™¯æµ‹è¯•
  // åœºæ™¯1ï¼šæ´»åŠ¨å®‰æ’
  let participants = 127
  let chairs_per_table = 10
  let tables_needed = divide_with_ceil(participants, chairs_per_table)
  assert_eq(13, tables_needed)  // ceil(127/10) = 13
  
  let total_seats = multiply(tables_needed, chairs_per_table)
  assert_eq(130, total_seats)
  
  // åœºæ™¯2ï¼šåº“å­˜ç®¡ç†
  let product_quantity = 245
  let box_capacity = 18
  let boxes_needed = divide_with_ceil(product_quantity, box_capacity)
  assert_eq(14, boxes_needed)  // ceil(245/18) = 14
  
  let total_capacity = multiply(boxes_needed, box_capacity)
  let remaining_space = subtract(total_capacity, product_quantity)
  assert_eq(7, remaining_space)
  
  // åœºæ™¯3ï¼šæ—¶é—´è®¡ç®—
  let total_minutes = 487
  let minutes_per_hour = 60
  let hours_needed = divide_with_ceil(total_minutes, minutes_per_hour)
  assert_eq(9, hours_needed)  // ceil(487/60) = 9
  
  let actual_hours = divide_with_ceil(total_minutes, minutes_per_hour)
  let remaining_minutes = subtract(total_minutes, multiply(actual_hours - 1, minutes_per_hour))
  assert_eq(7, remaining_minutes)  // 487 - 8*60 = 7
}