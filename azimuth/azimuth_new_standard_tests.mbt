// Azimuth æ–°å¢æ ‡å‡†æµ‹è¯•ç”¨ä¾‹ - 10ä¸ªé«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

test "large_number_arithmetic_operations" {
  // å¤§æ•°ç®—æœ¯è¿ç®—æµ‹è¯•
  assert_eq(2000000, add(1000000, 1000000))
  assert_eq(1000000000, multiply(1000000, 1000))
  assert_eq(1000001, divide_with_ceil(2000001, 2))
  assert_eq(500000, divide_with_ceil(1000000, 2))
}

test "mathematical_identity_properties" {
  // æ•°å­¦æ’ç­‰å¼æ€§è´¨æµ‹è¯•
  let x = 12345
  
  // åŠ æ³•æ’ç­‰å¼
  assert_eq(x, add(x, 0))
  assert_eq(x, add(0, x))
  
  // ä¹˜æ³•æ’ç­‰å¼
  assert_eq(x, multiply(x, 1))
  assert_eq(x, multiply(1, x))
  assert_eq(0, multiply(x, 0))
  
  // è´Ÿæ•°æ’ç­‰å¼
  assert_eq(-x, multiply(x, -1))
  assert_eq(0, add(x, -x))
}

test "boundary_value_analysis" {
  // è¾¹ç•Œå€¼åˆ†ææµ‹è¯•
  // æµ‹è¯•é›¶å€¼è¾¹ç•Œ
  assert_eq(0, add(0, 0))
  assert_eq(0, multiply(0, 0))
  assert_eq(0, multiply(0, 12345))
  assert_eq(0, divide_with_ceil(0, 12345))
  assert_eq(0, divide_with_ceil(0, 0))
  
  // æµ‹è¯•å•ä½å€¼è¾¹ç•Œ
  assert_eq(2, add(1, 1))
  assert_eq(1, multiply(1, 1))
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(1, divide_with_ceil(99, 99))
}

test "string_processing_comprehensive" {
  // å­—ç¬¦ä¸²å¤„ç†ç»¼åˆæµ‹è¯•
  assert_eq_string("Hello, empty!", greet(""))
  assert_eq_string("Hello, single!", greet("single"))
  assert_eq_string("Hello, space test!", greet("space test"))
  assert_eq_string("Hello, 123456!", greet("123456"))
  assert_eq_string("Hello, Special@#$!", greet("Special@#$"))
  assert_eq_string("Hello, MixedCASE!", greet("MixedCASE"))
  assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", greet("ä¸­æ–‡æµ‹è¯•"))
  assert_eq_string("Hello, Ã©mojiğŸš€!", greet("Ã©mojiğŸš€"))
}

test "business_logic_inventory_management" {
  // åº“å­˜ç®¡ç†ä¸šåŠ¡é€»è¾‘æµ‹è¯•
  let total_products = 158
  let box_capacity = 24
  let boxes_needed = divide_with_ceil(total_products, box_capacity)
  
  // éªŒè¯éœ€è¦çš„ç®±å­æ•°é‡
  assert_eq(7, boxes_needed)  // ceil(158/24) = 7
  
  // éªŒè¯æ€»å®¹é‡
  let total_capacity = multiply(boxes_needed, box_capacity)
  assert_eq(168, total_capacity)
  
  // éªŒè¯å‰©ä½™ç©ºé—´
  let remaining_space = subtract(total_capacity, total_products)
  assert_eq(10, remaining_space)
  
  // éªŒè¯ç©ºé—´åˆ©ç”¨ç‡
  let utilization = multiply(100, divide_with_ceil(total_products, total_capacity))
  assert_eq(94, utilization)  // floor(158/168 * 100) = 94%
}

test "error_handling_and_robustness" {
  // é”™è¯¯å¤„ç†å’Œå¥å£®æ€§æµ‹è¯•
  // é™¤é›¶é”™è¯¯å¤„ç†
  assert_eq(0, divide_with_ceil(12345, 0))
  assert_eq(0, divide_with_ceil(-12345, 0))
  assert_eq(0, divide_with_ceil(0, 0))
  
  // æå€¼æµ‹è¯•
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(1, divide_with_ceil(-1, -1))
  assert_eq(-1, divide_with_ceil(1, -1))
  assert_eq(-1, divide_with_ceil(-1, 1))
  
  // å¤§æ•°é™¤é›¶æµ‹è¯•
  assert_eq(0, divide_with_ceil(2147483647, 0))
  assert_eq(0, divide_with_ceil(-2147483648, 0))
}

test "performance_related_calculations" {
  // æ€§èƒ½ç›¸å…³è®¡ç®—æµ‹è¯•
  // æ¨¡æ‹Ÿå¤§æ•°æ®é›†å¤„ç†
  let data_size = 100000
  let batch_size = 1000
  let batches_needed = divide_with_ceil(data_size, batch_size)
  
  assert_eq(100, batches_needed)
  
  // è®¡ç®—å¤„ç†æ—¶é—´ï¼ˆå‡è®¾æ¯æ‰¹å¤„ç†5ç§’ï¼‰
  let time_per_batch = 5
  let total_time = multiply(batches_needed, time_per_batch)
  assert_eq(500, total_time)
  
  // è®¡ç®—å¹¶è¡Œå¤„ç†æ—¶é—´ï¼ˆå‡è®¾4ä¸ªå¹¶è¡Œå¤„ç†å™¨ï¼‰
  let parallel_processors = 4
  let parallel_time = divide_with_ceil(total_time, parallel_processors)
  assert_eq(125, parallel_time)
}

test "complex_calculation_pipeline" {
  // å¤æ‚è®¡ç®—æµæ°´çº¿æµ‹è¯•
  // åœºæ™¯ï¼šè®¡ç®—é¡¹ç›®æˆæœ¬å’Œèµ„æºåˆ†é…
  let team_size = 12
  let daily_rate = 150
  let project_days = 25
  let overhead_percentage = 20
  
  // è®¡ç®—åŸºç¡€äººåŠ›æˆæœ¬
  let base_cost = multiply(team_size, multiply(daily_rate, project_days))
  assert_eq(45000, base_cost)  // 12 * 150 * 25 = 45000
  
  // è®¡ç®—ç®¡ç†è´¹ç”¨
  let overhead_cost = divide_with_ceil(multiply(base_cost, overhead_percentage), 100)
  assert_eq(9000, overhead_cost)  // ceil(45000 * 20 / 100) = 9000
  
  // è®¡ç®—æ€»æˆæœ¬
  let total_cost = add(base_cost, overhead_cost)
  assert_eq(54000, total_cost)
  
  // è®¡ç®—æ¯ä¸ªé˜¶æ®µçš„é¢„ç®—ï¼ˆå‡è®¾4ä¸ªé˜¶æ®µï¼‰
  let phases = 4
  let budget_per_phase = divide_with_ceil(total_cost, phases)
  assert_eq(13500, budget_per_phase)  // ceil(54000/4) = 13500
}

test "resource_allocation_optimization" {
  // èµ„æºåˆ†é…ä¼˜åŒ–æµ‹è¯•
  // åœºæ™¯ï¼šæœåŠ¡å™¨èµ„æºåˆ†é…
  let total_memory_gb = 128
  let total_cpu_cores = 64
  let services = 5
  
  // å†…å­˜åˆ†é…
  let memory_per_service = divide_with_ceil(total_memory_gb, services)
  assert_eq(26, memory_per_service)  // ceil(128/5) = 26
  
  // CPUåˆ†é…
  let cpu_per_service = divide_with_ceil(total_cpu_cores, services)
  assert_eq(13, cpu_per_service)  // ceil(64/5) = 13
  
  // éªŒè¯æ€»åˆ†é…èµ„æº
  let total_allocated_memory = multiply(memory_per_service, services)
  let total_allocated_cpu = multiply(cpu_per_service, services)
  
  assert_eq(130, total_allocated_memory)  // 26 * 5 = 130
  assert_eq(65, total_allocated_cpu)  // 13 * 5 = 65
  
  // è®¡ç®—èµ„æºæµªè´¹
  let memory_waste = subtract(total_allocated_memory, total_memory_gb)
  let cpu_waste = subtract(total_allocated_cpu, total_cpu_cores)
  
  assert_eq(2, memory_waste)  // 130 - 128 = 2
  assert_eq(1, cpu_waste)  // 65 - 64 = 1
}

test "real_world_event_planning" {
  // çœŸå®ä¸–ç•Œæ´»åŠ¨è§„åˆ’æµ‹è¯•
  // åœºæ™¯ï¼šä¼šè®®æ´»åŠ¨å®‰æ’
  let attendees = 247
  let tables = 25
  let chairs_per_table = 8
  let staff_per_20_attendees = 3
  
  // è®¡ç®—éœ€è¦çš„æ¡Œå­æ•°é‡
  let tables_needed = divide_with_ceil(attendees, chairs_per_table)
  assert_eq(31, tables_needed)  // ceil(247/8) = 31
  
  // éªŒè¯æ¡Œå­æ•°é‡æ˜¯å¦è¶³å¤Ÿ
  assert_true(tables_needed <= tables)
  
  // è®¡ç®—å¯ç”¨åº§ä½æ•°
  let available_seats = multiply(tables_needed, chairs_per_table)
  assert_eq(248, available_seats)
  
  // è®¡ç®—å‰©ä½™åº§ä½
  let extra_seats = subtract(available_seats, attendees)
  assert_eq(1, extra_seats)
  
  // è®¡ç®—æ‰€éœ€å·¥ä½œäººå‘˜
  let staff_needed = divide_with_ceil(multiply(attendees, staff_per_20_attendees), 20)
  assert_eq(38, staff_needed)  // ceil(247*3/20) = 38
  
  // è®¡ç®—æ¯å¼ æ¡Œå­å¹³å‡äººæ•°
  let avg_per_table = divide_with_ceil(attendees, tables_needed)
  assert_eq(8, avg_per_table)  // ceil(247/31) = 8
  
  // è®¡ç®—æ´»åŠ¨æ€»æˆæœ¬ï¼ˆå‡è®¾æ¯äººæˆæœ¬50å…ƒï¼Œæ¯å¼ æ¡Œå­æˆæœ¬100å…ƒï¼‰
  let cost_per_attendee = 50
  let cost_per_table = 100
  let attendee_cost = multiply(attendees, cost_per_attendee)
  let table_cost = multiply(tables_needed, cost_per_table)
  let total_cost = add(attendee_cost, table_cost)
  
  assert_eq(12350, attendee_cost)  // 247 * 50 = 12350
  assert_eq(3100, table_cost)  // 31 * 100 = 3100
  assert_eq(15450, total_cost)  // 12350 + 3100 = 15450
}