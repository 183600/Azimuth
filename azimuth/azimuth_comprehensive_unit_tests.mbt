// Azimuth ç»¼åˆå•å…ƒæµ‹è¯• - 8ä¸ªé«˜è´¨é‡ MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯•è¦†ç›–åŸºæœ¬åŠŸèƒ½ã€è¾¹ç•Œæƒ…å†µã€é”™è¯¯å¤„ç†å’Œå®é™…åº”ç”¨åœºæ™¯

test "arithmetic_operation_chaining" {
  // æµ‹è¯•ç®—æœ¯è¿ç®—é“¾å¼ç»„åˆ
  let base = 15
  let result = add(multiply(base, 2), divide_with_ceil(subtract(base, 5), 3))
  assert_eq(34, result)  // 15*2 + ceil(10/3) = 30 + 4 = 34
}

test "resource_planning_scenario" {
  // æµ‹è¯•èµ„æºè§„åˆ’åœºæ™¯
  let project_days = 22
  let team_members = 5
  let tasks_per_member = 8
  let total_tasks = multiply(team_members, tasks_per_member)
  let tasks_per_day = divide_with_ceil(total_tasks, project_days)
  assert_eq(2, tasks_per_day)  // ceil(40/22) = 2
}

test "negative_number_division_edge_cases" {
  // æµ‹è¯•è´Ÿæ•°é™¤æ³•çš„è¾¹ç¼˜æƒ…å†µ
  assert_eq(-2, divide_with_ceil(-7, 4))
  assert_eq(-1, divide_with_ceil(-3, 4))
  assert_eq(2, divide_with_ceil(7, -4))
  assert_eq(1, divide_with_ceil(3, -4))
  assert_eq(2, divide_with_ceil(-7, -4))
}

test "string_input_validation" {
  // æµ‹è¯•å­—ç¬¦ä¸²è¾“å…¥éªŒè¯
  assert_eq_string("Hello, space separated!", greet("space separated"))
  assert_eq_string("Hello, special@chars#123!", greet("special@chars#123"))
  assert_eq_string("Hello, mixedCASE123!", greet("mixedCASE123"))
  assert_eq_string("Hello, emoji ğŸ‰ğŸš€!", greet("emoji ğŸ‰ğŸš€"))
}

test "mathematical_identity_verification" {
  // æµ‹è¯•æ•°å­¦æ’ç­‰å¼éªŒè¯
  let x = 42
  
  // åŠ æ³•æ’ç­‰å¼
  assert_eq(x, add(x, 0))
  assert_eq(0, subtract(x, x))
  
  // ä¹˜æ³•æ’ç­‰å¼
  assert_eq(x, multiply(x, 1))
  assert_eq(0, multiply(x, 0))
  assert_eq(-x, multiply(x, -1))
}

test "capacity_planning_calculation" {
  // æµ‹è¯•å®¹é‡è§„åˆ’è®¡ç®—
  let users = 157
  let server_capacity = 25
  let servers_needed = divide_with_ceil(users, server_capacity)
  assert_eq(7, servers_needed)  // ceil(157/25) = 7
  
  // éªŒè¯æ€»å®¹é‡
  let total_capacity = multiply(servers_needed, server_capacity)
  assert_eq(175, total_capacity)
  
  // è®¡ç®—å‰©ä½™å®¹é‡
  let remaining_capacity = subtract(total_capacity, users)
  assert_eq(18, remaining_capacity)
}

test "error_handling_comprehensive" {
  // æµ‹è¯•ç»¼åˆé”™è¯¯å¤„ç†
  // é™¤é›¶é”™è¯¯çš„å„ç§æƒ…å†µ
  assert_eq(0, divide_with_ceil(0, 0))
  assert_eq(0, divide_with_ceil(100, 0))
  assert_eq(0, divide_with_ceil(-100, 0))
  
  // è¾¹ç•Œå€¼æµ‹è¯•
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(-1, divide_with_ceil(-1, -1))
  assert_eq(0, divide_with_ceil(0, 1))
  assert_eq(0, divide_with_ceil(0, -1))
}

test "complex_workflow_simulation" {
  // æµ‹è¯•å¤æ‚å·¥ä½œæµæ¨¡æ‹Ÿ
  // åœºæ™¯ï¼šè®¢å•å¤„ç†æµç¨‹
  let orders = 89
  let processing_time_per_order = 3
  let workers = 4
  let orders_per_worker = divide_with_ceil(orders, workers)
  assert_eq(23, orders_per_worker)  // ceil(89/4) = 23
  
  // è®¡ç®—æ€»å¤„ç†æ—¶é—´
  let total_time = multiply(orders_per_worker, processing_time_per_order)
  assert_eq(69, total_time)
  
  // è®¡ç®—å®é™…å¤„ç†çš„è®¢å•æ•°
  let actual_processed = multiply(workers, orders_per_worker)
  assert_eq(92, actual_processed)
  
  // éªŒè¯å¤„ç†èƒ½åŠ›è¶³å¤Ÿ
  assert_true(actual_processed >= orders)
}