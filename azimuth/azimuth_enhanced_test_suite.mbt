// Azimuth é¡¹ç›®å¢å¼ºæµ‹è¯•å¥—ä»¶
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œè¦†ç›–æ›´å¤šè¾¹ç•Œæƒ…å†µå’Œå¤æ‚åœºæ™¯

test "add_function_edge_cases" {
  // æµ‹è¯•åŠ æ³•å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼é™„è¿‘çš„åŠ æ³•
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 0))
  @azimuth.assert_eq(max_val - 1, @azimuth.add(max_val - 2, 1))
  
  // æµ‹è¯•æœ€å°å€¼é™„è¿‘çš„åŠ æ³•
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, 0))
  @azimuth.assert_eq(min_val + 1, @azimuth.add(min_val + 2, -1))
  
  // æµ‹è¯•å¤§æ•°å€¼ç›¸åŠ ä½†ä¸æº¢å‡º
  @azimuth.assert_eq(1000000, @azimuth.add(500000, 500000))
  @azimuth.assert_eq(-1000000, @azimuth.add(-500000, -500000))
}

test "add_function_mixed_signs" {
  // æµ‹è¯•ä¸åŒç¬¦å·æ•°çš„åŠ æ³•
  @azimuth.assert_eq(0, @azimuth.add(100, -100))
  @azimuth.assert_eq(-50, @azimuth.add(100, -150))
  @azimuth.assert_eq(50, @azimuth.add(-100, 150))
  @azimuth.assert_eq(-200, @azimuth.add(-100, -100))
  
  // æµ‹è¯•é›¶çš„å„ç§ç»„åˆ
  @azimuth.assert_eq(100, @azimuth.add(0, 100))
  @azimuth.assert_eq(-100, @azimuth.add(-100, 0))
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
}

test "multiply_function_large_numbers" {
  // æµ‹è¯•å¤§æ•°ä¹˜æ³•
  @azimuth.assert_eq(1000000, @azimuth.multiply(1000, 1000))
  @azimuth.assert_eq(-1000000, @azimuth.multiply(1000, -1000))
  @azimuth.assert_eq(1000000, @azimuth.multiply(-1000, -1000))
  
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œçš„ä¹˜æ³•
  @azimuth.assert_eq(46340, @azimuth.multiply(46340, 1))  // sqrt(max_val)
  @azimuth.assert_eq(-46340, @azimuth.multiply(-46340, 1))
}

test "multiply_function_edge_cases" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•ä¸ç‰¹æ®Šå€¼çš„ä¹˜æ³•
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(min_val, 0))
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 1))
  @azimuth.assert_eq(-max_val, @azimuth.multiply(max_val, -1))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))  // ç‰¹æ®Šï¼šæœ€å°å€¼ä¹˜ä»¥-1ä¼šæº¢å‡º
}

test "divide_with_ceil_function" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„åŸºæœ¬åŠŸèƒ½
  @azimuth.assert_eq(3, @azimuth.divide_with_ceil(10, 3))
  @azimuth.assert_eq(4, @azimuth.divide_with_ceil(11, 3))
  @azimuth.assert_eq(2, @azimuth.divide_with_ceil(6, 3))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(1, 1))
  @azimuth.assert_eq(2, @azimuth.divide_with_ceil(3, 2))
}

test "divide_with_ceil_negative_numbers" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„è´Ÿæ•°æƒ…å†µ
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-10, 3))
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-9, 3))
  @azimuth.assert_eq(-2, @azimuth.divide_with_ceil(-8, 3))
  @azimuth.assert_eq(-1, @azimuth.divide_with_ceil(-3, 3))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(-2, 3))
}

test "divide_with_ceil_edge_cases" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 5))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(1, 1))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(-1, -1))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, -3))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 3))
}

test "greet_function_special_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²å‡½æ•°çš„ç‰¹æ®Šæƒ…å†µ
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, John!", @azimuth.greet("John"))
  @azimuth.assert_eq_string("Hello, 123!", @azimuth.greet("123"))
  @azimuth.assert_eq_string("Hello, ğŸŒ™!", @azimuth.greet("ğŸŒ™"))  // æµ‹è¯• Unicode
  @azimuth.assert_eq_string("Hello,   !", @azimuth.greet("  "))  // æµ‹è¯•ç©ºæ ¼
}

test "complex_calculation_scenarios" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯
  let a = 10
  let b = 20
  let c = -5
  
  // ç»„åˆè¿ç®—
  let result1 = @azimuth.add(@azimuth.multiply(a, b), c)  // 10 * 20 + (-5) = 195
  let result2 = @azimuth.multiply(@azimuth.add(a, b), c)  // (10 + 20) * (-5) = -150
  let result3 = @azimuth.divide_with_ceil(@azimuth.add(a, b), c)  // (10 + 20) / -5 å‘ä¸Šå–æ•´ = -6
  
  // éªŒè¯ç»“æœ
  @azimuth.assert_eq(195, result1)
  @azimuth.assert_eq(-150, result2)
  @azimuth.assert_eq(-6, result3)
}