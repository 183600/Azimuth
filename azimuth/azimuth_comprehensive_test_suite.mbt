// Azimuth ç»¼åˆæµ‹è¯•å¥—ä»¶
// åŒ…å«10ä¸ªé«˜è´¨é‡çš„æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹

test "mathematical_distributive_law" {
  // æµ‹è¯•æ•°å­¦åˆ†é…å¾‹ï¼ša * (b + c) = a * b + a * c
  let a = 7
  let b = 5
  let c = 3
  
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  
  assert_eq(left_side, right_side)  // 7 * (5 + 3) = 7 * 5 + 7 * 3 = 56
}

test "inventory_management_calculation" {
  // åº“å­˜ç®¡ç†è®¡ç®—æµ‹è¯•
  let product_a_qty = 45
  let product_b_qty = 32
  let product_c_qty = 67
  let box_capacity = 20
  
  // è®¡ç®—æ¯ç§äº§å“éœ€è¦çš„ç®±å­æ•°
  let boxes_a = divide_with_ceil(product_a_qty, box_capacity)
  let boxes_b = divide_with_ceil(product_b_qty, box_capacity)
  let boxes_c = divide_with_ceil(product_c_qty, box_capacity)
  
  // è®¡ç®—æ€»ç®±å­æ•°
  let total_boxes = add(add(boxes_a, boxes_b), boxes_c)
  
  assert_eq(3, boxes_a)  // ceil(45/20) = 3
  assert_eq(2, boxes_b)  // ceil(32/20) = 2
  assert_eq(4, boxes_c)  // ceil(67/20) = 4
  assert_eq(9, total_boxes)  // 3 + 2 + 4 = 9
}

test "financial_loan_calculation" {
  // é‡‘èè´·æ¬¾è®¡ç®—æµ‹è¯•
  let loan_amount = 50000
  let monthly_payment = 2200
  
  // è®¡ç®—éœ€è¦çš„æœˆæ•°
  let months_needed = divide_with_ceil(loan_amount, monthly_payment)
  assert_eq(23, months_needed)  // ceil(50000/2200) = 23
  
  // è®¡ç®—å®é™…æ€»æ”¯ä»˜é‡‘é¢
  let total_payment = multiply(months_needed, monthly_payment)
  assert_eq(50600, total_payment)  // 23 * 2200 = 50600
  
  // è®¡ç®—æœ€åä¸€ä¸ªæœˆçš„å®é™…æ”¯ä»˜é‡‘é¢
  let previous_payments = multiply(months_needed - 1, monthly_payment)
  let final_payment = subtract(total_payment, previous_payments)
  assert_eq(200, final_payment)  // 50600 - 22*2200 = 200
}

test "complex_sequential_operations" {
  // å¤æ‚è¿ç»­æ“ä½œæµ‹è¯•
  let initial = 15
  
  // è¿ç»­æ“ä½œé“¾
  let step1 = multiply(initial, 3)        // 45
  let step2 = add(step1, 10)              // 55
  let step3 = divide_with_ceil(step2, 8)  // 7
  let step4 = multiply(step3, 2)          // 14
  let final_result = subtract(step4, 5)   // 9
  
  assert_eq(9, final_result)
}

test "error_handling_robustness" {
  // é”™è¯¯å¤„ç†å¥å£®æ€§æµ‹è¯•
  // æµ‹è¯•å„ç§é™¤é›¶æƒ…å†µ
  assert_eq(0, divide_with_ceil(0, 0))
  assert_eq(0, divide_with_ceil(100, 0))
  assert_eq(0, divide_with_ceil(-100, 0))
  
  // æµ‹è¯•æå€¼è¾¹ç•Œ
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(1, divide_with_ceil(-1, -1))
  assert_eq(0, divide_with_ceil(0, 1))
  assert_eq(0, divide_with_ceil(0, -1))
  
  // æµ‹è¯•å¤§æ•°è¿ç®—
  assert_eq(1000000, multiply(1000, 1000))
  assert_eq(2000000, add(1000000, 1000000))
}

test "unicode_and_special_character_processing" {
  // Unicodeå’Œç‰¹æ®Šå­—ç¬¦å¤„ç†æµ‹è¯•
  assert_eq_string("Hello, ä¸­æ–‡!", greet("ä¸­æ–‡"))
  assert_eq_string("Hello, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!", greet("Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"))
  assert_eq_string("Hello, à¤¹à¤¿à¤¨à¥à¤¦à¥€!", greet("à¤¹à¤¿à¤¨à¥à¤¦à¥€"))
  assert_eq_string("Hello, í•œêµ­ì–´!", greet("í•œêµ­ì–´"))
  assert_eq_string("Hello, ğŸŒŸğŸŒ™â­!", greet("ğŸŒŸğŸŒ™â­"))
  assert_eq_string("Hello, 
	!", greet("
	"))
  assert_eq_string("Hello, \"quoted\"!", greet("\"quoted\""))
}

test "resource_optimization_problem" {
  // èµ„æºä¼˜åŒ–é—®é¢˜æµ‹è¯•
  // åœºæ™¯ï¼šæœåŠ¡å™¨èµ„æºåˆ†é…ä¼˜åŒ–
  let total_cpu_cores = 64
  let total_memory_gb = 256
  let services = 5
  
  // è®¡ç®—æ¯ä¸ªæœåŠ¡çš„æœ€å°èµ„æºåˆ†é…
  let cpu_per_service = divide_with_ceil(total_cpu_cores, services)
  let memory_per_service = divide_with_ceil(total_memory_gb, services)
  
  assert_eq(13, cpu_per_service)     // ceil(64/5) = 13
  assert_eq(52, memory_per_service)  // ceil(256/5) = 52
  
  // è®¡ç®—å®é™…åˆ†é…çš„æ€»èµ„æº
  let total_allocated_cpu = multiply(cpu_per_service, services)
  let total_allocated_memory = multiply(memory_per_service, services)
  
  assert_eq(65, total_allocated_cpu)     // 13 * 5 = 65
  assert_eq(260, total_allocated_memory) // 52 * 5 = 260
  
  // è®¡ç®—èµ„æºæµªè´¹
  let cpu_waste = subtract(total_allocated_cpu, total_cpu_cores)
  let memory_waste = subtract(total_allocated_memory, total_memory_gb)
  
  assert_eq(1, cpu_waste)     // 65 - 64 = 1
  assert_eq(4, memory_waste)  // 260 - 256 = 4
}

test "mathematical_associative_properties" {
  // æ•°å­¦ç»“åˆå¾‹æ€§è´¨æµ‹è¯•
  let a = 4
  let b = 6
  let c = 8
  
  // åŠ æ³•ç»“åˆå¾‹ï¼š(a + b) + c = a + (b + c)
  let add_left = add(add(a, b), c)
  let add_right = add(a, add(b, c))
  assert_eq(add_left, add_right)  // (4+6)+8 = 4+(6+8) = 18
  
  // ä¹˜æ³•ç»“åˆå¾‹ï¼š(a * b) * c = a * (b * c)
  let multiply_left = multiply(multiply(a, b), c)
  let multiply_right = multiply(a, multiply(b, c))
  assert_eq(multiply_left, multiply_right)  // (4*6)*8 = 4*(6*8) = 192
}

test "performance_and_scalability_test" {
  // æ€§èƒ½å’Œå¯æ‰©å±•æ€§æµ‹è¯•
  // æµ‹è¯•ä¸åŒè§„æ¨¡çš„æ•°æ®å¤„ç†
  let small_dataset = 100
  let medium_dataset = 1000
  let large_dataset = 10000
  
  // æ¨¡æ‹ŸO(n)ç®—æ³•çš„æ‰§è¡Œæ­¥æ•°
  let small_steps = multiply(small_dataset, 3)
  let medium_steps = multiply(medium_dataset, 3)
  let large_steps = multiply(large_dataset, 3)
  
  assert_eq(300, small_steps)    // 100 * 3
  assert_eq(3000, medium_steps)  // 1000 * 3
  assert_eq(30000, large_steps)  // 10000 * 3
  
  // æ¨¡æ‹ŸO(log n)ç®—æ³•çš„æ‰§è¡Œæ­¥æ•°ï¼ˆç®€åŒ–ä¸ºé™¤æ³•ï¼‰
  let small_log_steps = divide_with_ceil(small_dataset, 10)
  let medium_log_steps = divide_with_ceil(medium_dataset, 10)
  let large_log_steps = divide_with_ceil(large_dataset, 10)
  
  assert_eq(10, small_log_steps)    // ceil(100/10)
  assert_eq(100, medium_log_steps)  // ceil(1000/10)
  assert_eq(1000, large_log_steps)  // ceil(10000/10)
  
  // éªŒè¯ç®—æ³•æ•ˆç‡å·®å¼‚
  let small_efficiency_ratio = divide_with_ceil(small_steps, small_log_steps)
  let large_efficiency_ratio = divide_with_ceil(large_steps, large_log_steps)
  
  assert_eq(30, small_efficiency_ratio)  // 300/10 = 30
  assert_eq(30, large_efficiency_ratio)  // 30000/1000 = 30
}

test "real_world_event_planning" {
  // çœŸå®ä¸–ç•Œæ´»åŠ¨è§„åˆ’æµ‹è¯•
  // åœºæ™¯ï¼šä¼šè®®å’Œæ´»åŠ¨å®‰æ’
  let participants = 156
  let tables_available = 12
  let chairs_per_table = 10
  let sessions_per_day = 4
  let conference_days = 3
  
  // è®¡ç®—éœ€è¦çš„æ¡Œå­æ•°é‡
  let tables_needed = divide_with_ceil(participants, chairs_per_table)
  assert_eq(16, tables_needed)  // ceil(156/10) = 16
  
  // æ£€æŸ¥æ¡Œå­æ˜¯å¦è¶³å¤Ÿ
  let enough_tables = tables_available >= tables_needed
  assert_false(enough_tables)  // 12 < 16ï¼Œæ¡Œå­ä¸å¤Ÿ
  
  // è®¡ç®—æ€»åº§ä½æ•°
  let total_seats = multiply(tables_needed, chairs_per_table)
  assert_eq(160, total_seats)  // 16 * 10 = 160
  
  // è®¡ç®—å‰©ä½™åº§ä½
  let remaining_seats = subtract(total_seats, participants)
  assert_eq(4, remaining_seats)  // 160 - 156 = 4
  
  // è®¡ç®—æ€»ä¼šè®®æ—¶æ®µ
  let total_sessions = multiply(sessions_per_day, conference_days)
  assert_eq(12, total_sessions)  // 4 * 3 = 12
  
  // è®¡ç®—æ¯ä¸ªæ—¶æ®µçš„å¹³å‡å‚ä¸äººæ•°
  let avg_participants_per_session = divide_with_ceil(participants, total_sessions)
  assert_eq(13, avg_participants_per_session)  // ceil(156/12) = 13
}