// æ–°å¢çš„ MoonBit æµ‹è¯•ç”¨ä¾‹ - ç®€åŒ–ç‰ˆæœ¬
// è¦†ç›–è¾¹ç•Œæƒ…å†µå’Œç‰¹æ®Šåœºæ™¯

test "add_function_boundary_test" {
  // æµ‹è¯•åŠ æ³•å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æœ€å¤§å€¼è¾¹ç•Œ
  assert_eq(max_val, add(max_val, 0))
  assert_eq(max_val, add(0, max_val))
  
  // æµ‹è¯•æœ€å°å€¼è¾¹ç•Œ
  assert_eq(min_val, add(min_val, 0))
  assert_eq(min_val, add(0, min_val))
}

test "multiply_function_special_values" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„ç‰¹æ®Šå€¼
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•ä¸2çš„ä¹˜æ³•ï¼ˆå¸¸è§æº¢å‡ºæƒ…å†µï¼‰
  assert_eq(max_val, multiply(max_val, 2))
  assert_eq(min_val, multiply(min_val, 2))
  
  // æµ‹è¯•ä¸-2çš„ä¹˜æ³•
  assert_eq(min_val, multiply(max_val, -2))
  assert_eq(max_val, multiply(min_val, -2))
}

test "greet_function_unicode_test" {
  // æµ‹è¯•å­—ç¬¦ä¸²å‡½æ•°çš„Unicodeæ”¯æŒ
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸŒ™!", greet("ğŸŒ™"))
  assert_eq_string("Hello, MoonBit!", greet("MoonBit"))
}

test "divide_with_ceil_negative_numbers" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„è´Ÿæ•°æƒ…å†µ
  assert_eq(-3, divide_with_ceil(-8, 3))
  assert_eq(-2, divide_with_ceil(-6, 3))
  assert_eq(-1, divide_with_ceil(-3, 3))
  
  // æ··åˆç¬¦å·æµ‹è¯•
  assert_eq(-2, divide_with_ceil(5, -3))
  assert_eq(2, divide_with_ceil(-5, -3))
}

test "combined_operations_simple" {
  // æµ‹è¯•ç®€å•çš„ç»„åˆè¿ç®—
  let a = 10
  let b = 20
  
  // åŠ æ³•ç»„åˆ
  let sum = add(a, b)
  assert_eq(30, sum)
  
  // ä¹˜æ³•ç»„åˆ
  let product = multiply(a, b)
  assert_eq(200, product)
  
  // æ··åˆè¿ç®—
  let temp = add(a, b)
  let result = multiply(temp, 2)
  assert_eq(60, result)
}

test "overflow_protection_basic" {
  // åŸºæœ¬æº¢å‡ºä¿æŠ¤æµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // åŠ æ³•æº¢å‡ºä¿æŠ¤
  assert_eq(max_val, add(max_val, max_val))
  assert_eq(min_val, add(min_val, min_val))
  
  // ä¹˜æ³•æº¢å‡ºä¿æŠ¤
  assert_eq(max_val, multiply(100000, 30000))
  assert_eq(min_val, multiply(-100000, 30000))
}

test "performance_optimized_operations" {
  // æ€§èƒ½ä¼˜åŒ–æ“ä½œæµ‹è¯•
  // é›¶å€¼ä¼˜åŒ–
  assert_eq(12345, add(0, 12345))
  assert_eq(12345, add(12345, 0))
  assert_eq(0, multiply(0, 12345))
  assert_eq(0, multiply(12345, 0))
  
  // å•ä½å…ƒä¼˜åŒ–
  assert_eq(12345, multiply(1, 12345))
  assert_eq(12345, multiply(12345, 1))
  assert_eq(-12345, multiply(-1, 12345))
  assert_eq(-12345, multiply(12345, -1))
}

test "mathematical_properties_basic" {
  // åŸºæœ¬æ•°å­¦æ€§è´¨æµ‹è¯•
  let x = 42
  let y = 17
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(add(x, y), add(y, x))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(multiply(x, y), multiply(y, x))
  
  // å°æ•°æµ‹è¯•ï¼ˆé¿å…æº¢å‡ºï¼‰
  let small_x = 5
  let small_y = 3
  let small_z = 2
  let left = multiply(small_x, add(small_y, small_z))
  let right = add(multiply(small_x, small_y), multiply(small_x, small_z))
  assert_eq(left, right)
}