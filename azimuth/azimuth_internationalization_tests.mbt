// Internationalization Tests for Azimuth Telemetry System
// This file contains test cases covering internationalization and localization support

test "unicode string handling in attributes" {
  // Test Unicode characters in attribute values
  let attributes = Attributes::new()
  
  // Test Chinese characters
  Attributes::set(attributes, "chinese.message", StringValue("ä½ å¥½ï¼Œä¸–ç•Œï¼"))
  assert_eq(Attributes::get(attributes, "chinese.message"), Some(StringValue("ä½ å¥½ï¼Œä¸–ç•Œï¼")))
  
  // Test Japanese characters
  Attributes::set(attributes, "japanese.message", StringValue("ã“ã‚“ã«ã¡ã¯ã€ä¸–ç•Œï¼"))
  assert_eq(Attributes::get(attributes, "japanese.message"), Some(StringValue("ã“ã‚“ã«ã¡ã¯ã€ä¸–ç•Œï¼")))
  
  // Test Korean characters
  Attributes::set(attributes, "korean.message", StringValue("ì•ˆë…•í•˜ì„¸ìš”, ì„¸ê³„!"))
  assert_eq(Attributes::get(attributes, "korean.message"), Some(StringValue("ì•ˆë…•í•˜ì„¸ìš”, ì„¸ê³„!")))
  
  // Test Arabic characters
  Attributes::set(attributes, "arabic.message", StringValue("Ù…Ø±Ø­Ø¨Ø§ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…!"))
  assert_eq(Attributes::get(attributes, "arabic.message"), Some(StringValue("Ù…Ø±Ø­Ø¨Ø§ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…!")))
  
  // Test Russian characters
  Attributes::set(attributes, "russian.message", StringValue("ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, Ğ¼Ğ¸Ñ€!"))
  assert_eq(Attributes::get(attributes, "russian.message"), Some(StringValue("ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, Ğ¼Ğ¸Ñ€!")))
  
  // Test Hindi characters
  Attributes::set(attributes, "hindi.message", StringValue("à¤¨à¤®à¤¸à¥à¤¤à¥‡ à¤¦à¥à¤¨à¤¿à¤¯à¤¾!"))
  assert_eq(Attributes::get(attributes, "hindi.message"), Some(StringValue("à¤¨à¤®à¤¸à¥à¤¤à¥‡ à¤¦à¥à¤¨à¤¿à¤¯à¤¾!")))
  
  // Test Emoji characters
  Attributes::set(attributes, "emoji.message", StringValue("Hello ğŸŒ! ğŸš€ ğŸ“Š ğŸ“ˆ"))
  assert_eq(Attributes::get(attributes, "emoji.message"), Some(StringValue("Hello ğŸŒ! ğŸš€ ğŸ“Š ğŸ“ˆ")))
  
  // Test mixed Unicode characters
  Attributes::set(attributes, "mixed.message", StringValue("Hello ä½ å¥½ ã“ã‚“ã«ã¡ã¯ ì•ˆë…•í•˜ì„¸ìš” Ù…Ø±Ø­Ø¨Ø§ ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ à¤¨à¤®à¤¸à¥à¤¤à¥‡ ğŸŒ"))
  assert_eq(Attributes::get(attributes, "mixed.message"), Some(StringValue("Hello ä½ å¥½ ã“ã‚“ã«ã¡ã¯ ì•ˆë…•í•˜ì„¸ìš” Ù…Ø±Ø­Ø¨Ø§ ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ à¤¨à¤®à¤¸à¥à¤¤à¥‡ ğŸŒ")))
}

test "unicode string handling in baggage" {
  // Test Unicode characters in baggage entries
  let baggage = Baggage::new()
  
  // Test Chinese characters in baggage
  let chinese_baggage = Baggage::set_entry(baggage, "ä¸­æ–‡é”®", "ä¸­æ–‡å€¼")
  assert_eq(Baggage::get_entry(chinese_baggage, "ä¸­æ–‡é”®"), Some("ä¸­æ–‡å€¼"))
  
  // Test Japanese characters in baggage
  let japanese_baggage = Baggage::set_entry(baggage, "æ—¥æœ¬èªã‚­ãƒ¼", "æ—¥æœ¬èªå€¤")
  assert_eq(Baggage::get_entry(japanese_baggage, "æ—¥æœ¬èªã‚­ãƒ¼"), Some("æ—¥æœ¬èªå€¤"))
  
  // Test Korean characters in baggage
  let korean_baggage = Baggage::set_entry(baggage, "í•œêµ­ì–´ í‚¤", "í•œêµ­ì–´ ê°’")
  assert_eq(Baggage::get_entry(korean_baggage, "í•œêµ­ì–´ í‚¤"), Some("í•œêµ­ì–´ ê°’"))
  
  // Test Arabic characters in baggage
  let arabic_baggage = Baggage::set_entry(baggage, "Ù…ÙØªØ§Ø­ Ø¹Ø±Ø¨ÙŠ", "Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©")
  assert_eq(Baggage::get_entry(arabic_baggage, "Ù…ÙØªØ§Ø­ Ø¹Ø±Ø¨ÙŠ"), Some("Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©"))
  
  // Test Russian characters in baggage
  let russian_baggage = Baggage::set_entry(baggage, "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ĞºĞ»ÑÑ‡", "Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ")
  assert_eq(Baggage::get_entry(russian_baggage, "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ĞºĞ»ÑÑ‡"), Some("Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ"))
  
  // Test Hindi characters in baggage
  let hindi_baggage = Baggage::set_entry(baggage, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤•à¥à¤‚à¤œà¥€", "à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯")
  assert_eq(Baggage::get_entry(hindi_baggage, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤•à¥à¤‚à¤œà¥€"), Some("à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯"))
  
  // Test Emoji in baggage
  let emoji_baggage = Baggage::set_entry(baggage, "emojiğŸ”‘", "emojiğŸ”¢")
  assert_eq(Baggage::get_entry(emoji_baggage, "emojiğŸ”‘"), Some("emojiğŸ”¢"))
}

test "unicode string handling in resource attributes" {
  // Test Unicode characters in resource attributes
  let resource = Resource::new()
  
  // Test Chinese characters in resource attributes
  let chinese_attributes = [("æœåŠ¡åç§°", StringValue("æµ‹è¯•æœåŠ¡")), ("æœåŠ¡ç‰ˆæœ¬", StringValue("1.0.0"))]
  let chinese_resource = Resource::with_attributes(resource, chinese_attributes)
  assert_eq(Resource::get_attribute(chinese_resource, "æœåŠ¡åç§°"), Some(StringValue("æµ‹è¯•æœåŠ¡")))
  assert_eq(Resource::get_attribute(chinese_resource, "æœåŠ¡ç‰ˆæœ¬"), Some(StringValue("1.0.0")))
  
  // Test Japanese characters in resource attributes
  let japanese_attributes = [("ã‚µãƒ¼ãƒ“ã‚¹å", StringValue("ãƒ†ã‚¹ãƒˆã‚µãƒ¼ãƒ“ã‚¹")), ("ã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³", StringValue("1.0.0"))]
  let japanese_resource = Resource::with_attributes(resource, japanese_attributes)
  assert_eq(Resource::get_attribute(japanese_resource, "ã‚µãƒ¼ãƒ“ã‚¹å"), Some(StringValue("ãƒ†ã‚¹ãƒˆã‚µãƒ¼ãƒ“ã‚¹")))
  assert_eq(Resource::get_attribute(japanese_resource, "ã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³"), Some(StringValue("1.0.0")))
  
  // Test Korean characters in resource attributes
  let korean_attributes = [("ì„œë¹„ìŠ¤ ì´ë¦„", StringValue("í…ŒìŠ¤íŠ¸ ì„œë¹„ìŠ¤")), ("ì„œë¹„ìŠ¤ ë²„ì „", StringValue("1.0.0"))]
  let korean_resource = Resource::with_attributes(resource, korean_attributes)
  assert_eq(Resource::get_attribute(korean_resource, "ì„œë¹„ìŠ¤ ì´ë¦„"), Some(StringValue("í…ŒìŠ¤íŠ¸ ì„œë¹„ìŠ¤")))
  assert_eq(Resource::get_attribute(korean_resource, "ì„œë¹„ìŠ¤ ë²„ì „"), Some(StringValue("1.0.0")))
  
  // Test Arabic characters in resource attributes
  let arabic_attributes = [("Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø©", StringValue("Ø®Ø¯Ù…Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±")), ("Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø®Ø¯Ù…Ø©", StringValue("1.0.0"))]
  let arabic_resource = Resource::with_attributes(resource, arabic_attributes)
  assert_eq(Resource::get_attribute(arabic_resource, "Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø©"), Some(StringValue("Ø®Ø¯Ù…Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±")))
  assert_eq(Resource::get_attribute(arabic_resource, "Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø®Ø¯Ù…Ø©"), Some(StringValue("1.0.0")))
  
  // Test Russian characters in resource attributes
  let russian_attributes = [("Ğ¸Ğ¼Ñ ÑĞ»ÑƒĞ¶Ğ±Ñ‹", StringValue("Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ°Ñ ÑĞ»ÑƒĞ¶Ğ±Ğ°")), ("Ğ²ĞµÑ€ÑĞ¸Ñ ÑĞ»ÑƒĞ¶Ğ±Ñ‹", StringValue("1.0.0"))]
  let russian_resource = Resource::with_attributes(resource, russian_attributes)
  assert_eq(Resource::get_attribute(russian_resource, "Ğ¸Ğ¼Ñ ÑĞ»ÑƒĞ¶Ğ±Ñ‹"), Some(StringValue("Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ğ°Ñ ÑĞ»ÑƒĞ¶Ğ±Ğ°")))
  assert_eq(Resource::get_attribute(russian_resource, "Ğ²ĞµÑ€ÑĞ¸Ñ ÑĞ»ÑƒĞ¶Ğ±Ñ‹"), Some(StringValue("1.0.0")))
  
  // Test Hindi characters in resource attributes
  let hindi_attributes = [("à¤¸à¥‡à¤µà¤¾ à¤•à¤¾ à¤¨à¤¾à¤®", StringValue("à¤ªà¤°à¥€à¤•à¥à¤·à¤£ à¤¸à¥‡à¤µà¤¾")), ("à¤¸à¥‡à¤µà¤¾ à¤¸à¤‚à¤¸à¥à¤•à¤°à¤£", StringValue("1.0.0"))]
  let hindi_resource = Resource::with_attributes(resource, hindi_attributes)
  assert_eq(Resource::get_attribute(hindi_resource, "à¤¸à¥‡à¤µà¤¾ à¤•à¤¾ à¤¨à¤¾à¤®"), Some(StringValue("à¤ªà¤°à¥€à¤•à¥à¤·à¤£ à¤¸à¥‡à¤µà¤¾")))
  assert_eq(Resource::get_attribute(hindi_resource, "à¤¸à¥‡à¤µà¤¾ à¤¸à¤‚à¤¸à¥à¤•à¤°à¤£"), Some(StringValue("1.0.0")))
}

test "unicode string handling in log records" {
  // Test Unicode characters in log records
  let logger_provider = LoggerProvider::default()
  let logger = LoggerProvider::get_logger(logger_provider, "internationalization_logger")
  
  // Test Chinese log message
  let chinese_log = LogRecord::new(Info, "è¿™æ˜¯ä¸€æ¡ä¸­æ–‡æ—¥å¿—æ¶ˆæ¯")
  assert_eq(LogRecord::body(chinese_log), Some("è¿™æ˜¯ä¸€æ¡ä¸­æ–‡æ—¥å¿—æ¶ˆæ¯"))
  Logger::emit(logger, chinese_log)
  
  // Test Japanese log message
  let japanese_log = LogRecord::new(Info, "ã“ã‚Œã¯æ—¥æœ¬èªã®ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã™")
  assert_eq(LogRecord::body(japanese_log), Some("ã“ã‚Œã¯æ—¥æœ¬èªã®ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã™"))
  Logger::emit(logger, japanese_log)
  
  // Test Korean log message
  let korean_log = LogRecord::new(Info, "ì´ê²ƒì€ í•œêµ­ì–´ ë¡œê·¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤")
  assert_eq(LogRecord::body(korean_log), Some("ì´ê²ƒì€ í•œêµ­ì–´ ë¡œê·¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤"))
  Logger::emit(logger, korean_log)
  
  // Test Arabic log message
  let arabic_log = LogRecord::new(Info, "Ù‡Ø°Ù‡ Ø±Ø³Ø§Ù„Ø© Ø³Ø¬Ù„ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©")
  assert_eq(LogRecord::body(arabic_log), Some("Ù‡Ø°Ù‡ Ø±Ø³Ø§Ù„Ø© Ø³Ø¬Ù„ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"))
  Logger::emit(logger, arabic_log)
  
  // Test Russian log message
  let russian_log = LogRecord::new(Info, "Ğ­Ñ‚Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ° Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼ ÑĞ·Ñ‹ĞºĞµ")
  assert_eq(LogRecord::body(russian_log), Some("Ğ­Ñ‚Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ° Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼ ÑĞ·Ñ‹ĞºĞµ"))
  Logger::emit(logger, russian_log)
  
  // Test Hindi log message
  let hindi_log = LogRecord::new(Info, "à¤¯à¤¹ à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‡à¤‚ à¤à¤• à¤²à¥‰à¤— à¤¸à¤‚à¤¦à¥‡à¤¶ à¤¹à¥ˆ")
  assert_eq(LogRecord::body(hindi_log), Some("à¤¯à¤¹ à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‡à¤‚ à¤à¤• à¤²à¥‰à¤— à¤¸à¤‚à¤¦à¥‡à¤¶ à¤¹à¥ˆ"))
  Logger::emit(logger, hindi_log)
  
  // Test Emoji log message
  let emoji_log = LogRecord::new(Info, "Log message with emoji: ğŸŒ ğŸš€ ğŸ“Š ğŸ“ˆ âœ… âŒ")
  assert_eq(LogRecord::body(emoji_log), Some("Log message with emoji: ğŸŒ ğŸš€ ğŸ“Š ğŸ“ˆ âœ… âŒ"))
  Logger::emit(logger, emoji_log)
  
  // Test mixed Unicode log message
  let mixed_log = LogRecord::new(Info, "Mixed Unicode: ä½ å¥½ ã“ã‚“ã«ã¡ã¯ ì•ˆë…•í•˜ì„¸ìš” Ù…Ø±Ø­Ø¨Ø§ ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ à¤¨à¤®à¤¸à¥à¤¤à¥‡ ğŸŒ")
  assert_eq(LogRecord::body(mixed_log), Some("Mixed Unicode: ä½ å¥½ ã“ã‚“ã«ã¡ã¯ ì•ˆë…•í•˜ì„¸ìš” Ù…Ø±Ø­Ø¨Ø§ ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ à¤¨à¤®à¤¸à¥à¤¤à¥‡ ğŸŒ"))
  Logger::emit(logger, mixed_log)
}

test "unicode string handling in span names and events" {
  // Test Unicode characters in span names and events
  let tracer_provider = TracerProvider::default()
  let tracer = TracerProvider::get_tracer(tracer_provider, "internationalization_tracer")
  
  // Test Chinese span name and event
  let chinese_span = Tracer::start_span(tracer, "ä¸­æ–‡æ“ä½œ")
  assert_eq(Span::name(chinese_span), "ä¸­æ–‡æ“ä½œ")
  Span::add_event(chinese_span, "ä¸­æ–‡äº‹ä»¶", Some([("ä¸­æ–‡å±æ€§", StringValue("ä¸­æ–‡å€¼"))]))
  Span::end(chinese_span)
  
  // Test Japanese span name and event
  let japanese_span = Tracer::start_span(tracer, "æ—¥æœ¬èªæ“ä½œ")
  assert_eq(Span::name(japanese_span), "æ—¥æœ¬èªæ“ä½œ")
  Span::add_event(japanese_span, "æ—¥æœ¬èªã‚¤ãƒ™ãƒ³ãƒˆ", Some([("æ—¥æœ¬èªå±æ€§", StringValue("æ—¥æœ¬èªå€¤"))]))
  Span::end(japanese_span)
  
  // Test Korean span name and event
  let korean_span = Tracer::start_span(tracer, "í•œêµ­ì–´ ì‘ì—…")
  assert_eq(Span::name(korean_span), "í•œêµ­ì–´ ì‘ì—…")
  Span::add_event(korean_span, "í•œêµ­ì–´ ì´ë²¤íŠ¸", Some([("í•œêµ­ì–´ ì†ì„±", StringValue("í•œêµ­ì–´ ê°’"))]))
  Span::end(korean_span)
  
  // Test Arabic span name and event
  let arabic_span = Tracer::start_span(tracer, "Ø¹Ù…Ù„ÙŠØ© Ø¹Ø±Ø¨ÙŠØ©")
  assert_eq(Span::name(arabic_span), "Ø¹Ù…Ù„ÙŠØ© Ø¹Ø±Ø¨ÙŠØ©")
  Span::add_event(arabic_span, "Ø­Ø¯Ø« Ø¹Ø±Ø¨ÙŠ", Some([("Ø³Ù…Ø© Ø¹Ø±Ø¨ÙŠØ©", StringValue("Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©"))]))
  Span::end(arabic_span)
  
  // Test Russian span name and event
  let russian_span = Tracer::start_span(tracer, "Ñ€ÑƒÑÑĞºĞ°Ñ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ")
  assert_eq(Span::name(russian_span), "Ñ€ÑƒÑÑĞºĞ°Ñ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ")
  Span::add_event(russian_span, "Ñ€ÑƒÑÑĞºĞ¾Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ", Some([("Ñ€ÑƒÑÑĞºĞ¸Ğ¹ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚", StringValue("Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ"))]))
  Span::end(russian_span)
  
  // Test Hindi span name and event
  let hindi_span = Tracer::start_span(tracer, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤‘à¤ªà¤°à¥‡à¤¶à¤¨")
  assert_eq(Span::name(hindi_span), "à¤¹à¤¿à¤‚à¤¦à¥€ à¤‘à¤ªà¤°à¥‡à¤¶à¤¨")
  Span::add_event(hindi_span, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤˜à¤Ÿà¤¨à¤¾", Some([("à¤¹à¤¿à¤‚à¤¦à¥€ à¤µà¤¿à¤¶à¥‡à¤·à¤¤à¤¾", StringValue("à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯"))]))
  Span::end(hindi_span)
  
  // Test Emoji span name and event
  let emoji_span = Tracer::start_span(tracer, "Emoji Operation ğŸš€")
  assert_eq(Span::name(emoji_span), "Emoji Operation ğŸš€")
  Span::add_event(emoji_span, "Emoji Event ğŸ“Š", Some([("emoji_attribute", StringValue("emoji_value ğŸ“ˆ"))]))
  Span::end(emoji_span)
}

test "unicode string handling in context keys and values" {
  // Test Unicode characters in context keys and values
  let root_context = Context::root()
  
  // Test Chinese context key and value
  let chinese_key = ContextKey::new("ä¸­æ–‡é”®")
  let chinese_context = Context::with_value(root_context, chinese_key, "ä¸­æ–‡å€¼")
  assert_eq(Context::get(chinese_context, chinese_key), Some("ä¸­æ–‡å€¼"))
  
  // Test Japanese context key and value
  let japanese_key = ContextKey::new("æ—¥æœ¬èªã‚­ãƒ¼")
  let japanese_context = Context::with_value(root_context, japanese_key, "æ—¥æœ¬èªå€¤")
  assert_eq(Context::get(japanese_context, japanese_key), Some("æ—¥æœ¬èªå€¤"))
  
  // Test Korean context key and value
  let korean_key = ContextKey::new("í•œêµ­ì–´ í‚¤")
  let korean_context = Context::with_value(root_context, korean_key, "í•œêµ­ì–´ ê°’")
  assert_eq(Context::get(korean_context, korean_key), Some("í•œêµ­ì–´ ê°’"))
  
  // Test Arabic context key and value
  let arabic_key = ContextKey::new("Ù…ÙØªØ§Ø­ Ø¹Ø±Ø¨ÙŠ")
  let arabic_context = Context::with_value(root_context, arabic_key, "Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©")
  assert_eq(Context::get(arabic_context, arabic_key), Some("Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©"))
  
  // Test Russian context key and value
  let russian_key = ContextKey::new("Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ĞºĞ»ÑÑ‡")
  let russian_context = Context::with_value(root_context, russian_key, "Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ")
  assert_eq(Context::get(russian_context, russian_key), Some("Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ"))
  
  // Test Hindi context key and value
  let hindi_key = ContextKey::new("à¤¹à¤¿à¤‚à¤¦à¥€ à¤•à¥à¤‚à¤œà¥€")
  let hindi_context = Context::with_value(root_context, hindi_key, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯")
  assert_eq(Context::get(hindi_context, hindi_key), Some("à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯"))
  
  // Test Emoji context key and value
  let emoji_key = ContextKey::new("emojiğŸ”‘")
  let emoji_context = Context::with_value(root_context, emoji_key, "emojiğŸ”¢")
  assert_eq(Context::get(emoji_context, emoji_key), Some("emojiğŸ”¢"))
}

test "unicode string handling in text map carrier" {
  // Test Unicode characters in text map carrier
  let carrier = TextMapCarrier::new()
  
  // Test Chinese headers
  TextMapCarrier::set(carrier, "ä¸­æ–‡å¤´", "ä¸­æ–‡å€¼")
  assert_eq(TextMapCarrier::get(carrier, "ä¸­æ–‡å¤´"), Some("ä¸­æ–‡å€¼"))
  
  // Test Japanese headers
  TextMapCarrier::set(carrier, "æ—¥æœ¬èªãƒ˜ãƒƒãƒ€ãƒ¼", "æ—¥æœ¬èªå€¤")
  assert_eq(TextMapCarrier::get(carrier, "æ—¥æœ¬èªãƒ˜ãƒƒãƒ€ãƒ¼"), Some("æ—¥æœ¬èªå€¤"))
  
  // Test Korean headers
  TextMapCarrier::set(carrier, "í•œêµ­ì–´ í—¤ë”", "í•œêµ­ì–´ ê°’")
  assert_eq(TextMapCarrier::get(carrier, "í•œêµ­ì–´ í—¤ë”"), Some("í•œêµ­ì–´ ê°’"))
  
  // Test Arabic headers
  TextMapCarrier::set(carrier, "Ø±Ø£Ø³ Ø¹Ø±Ø¨ÙŠ", "Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©")
  assert_eq(TextMapCarrier::get(carrier, "Ø±Ø£Ø³ Ø¹Ø±Ø¨ÙŠ"), Some("Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©"))
  
  // Test Russian headers
  TextMapCarrier::set(carrier, "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº", "Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ")
  assert_eq(TextMapCarrier::get(carrier, "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº"), Some("Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ"))
  
  // Test Hindi headers
  TextMapCarrier::set(carrier, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤¶à¥€à¤°à¥à¤·à¤•", "à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯")
  assert_eq(TextMapCarrier::get(carrier, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤¶à¥€à¤°à¥à¤·à¤•"), Some("à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯"))
  
  // Test Emoji headers
  TextMapCarrier::set(carrier, "emojiğŸ”‘", "emojiğŸ”¢")
  assert_eq(TextMapCarrier::get(carrier, "emojiğŸ”‘"), Some("emojiğŸ”¢"))
}

test "unicode string handling in instrumentation scope" {
  // Test Unicode characters in instrumentation scope
  let chinese_scope = InstrumentationScope::{ 
    name: "ä¸­æ–‡ä»ªè¡¨åº“", 
    version: Some("1.0.0"), 
    schema_url: Some("https://example.com/ä¸­æ–‡æ¨¡å¼") 
  }
  assert_eq(chinese_scope.name, "ä¸­æ–‡ä»ªè¡¨åº“")
  assert_eq(chinese_scope.version, Some("1.0.0"))
  assert_eq(chinese_scope.schema_url, Some("https://example.com/ä¸­æ–‡æ¨¡å¼"))
  
  let japanese_scope = InstrumentationScope::{ 
    name: "æ—¥æœ¬èªè¨ˆå™¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª", 
    version: Some("1.0.0"), 
    schema_url: Some("https://example.com/æ—¥æœ¬èªã‚¹ã‚­ãƒ¼ãƒ") 
  }
  assert_eq(japanese_scope.name, "æ—¥æœ¬èªè¨ˆå™¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª")
  assert_eq(japanese_scope.version, Some("1.0.0"))
  assert_eq(japanese_scope.schema_url, Some("https://example.com/æ—¥æœ¬èªã‚¹ã‚­ãƒ¼ãƒ"))
  
  let korean_scope = InstrumentationScope::{ 
    name: "í•œêµ­ì–´ ê³„ê¸° ë¼ì´ë¸ŒëŸ¬ë¦¬", 
    version: Some("1.0.0"), 
    schema_url: Some("https://example.com/í•œêµ­ì–´ ìŠ¤í‚¤ë§ˆ") 
  }
  assert_eq(korean_scope.name, "í•œêµ­ì–´ ê³„ê¸° ë¼ì´ë¸ŒëŸ¬ë¦¬")
  assert_eq(korean_scope.version, Some("1.0.0"))
  assert_eq(korean_scope.schema_url, Some("https://example.com/í•œêµ­ì–´ ìŠ¤í‚¤ë§ˆ"))
  
  let arabic_scope = InstrumentationScope::{ 
    name: "Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", 
    version: Some("1.0.0"), 
    schema_url: Some("https://example.com/Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ") 
  }
  assert_eq(arabic_scope.name, "Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©")
  assert_eq(arabic_scope.version, Some("1.0.0"))
  assert_eq(arabic_scope.schema_url, Some("https://example.com/Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ"))
  
  let russian_scope = InstrumentationScope::{ 
    name: "Ñ€ÑƒÑÑĞºĞ°Ñ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ° Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²", 
    version: Some("1.0.0"), 
    schema_url: Some("https://example.com/Ñ€ÑƒÑÑĞºĞ°Ñ-ÑÑ…ĞµĞ¼Ğ°") 
  }
  assert_eq(russian_scope.name, "Ñ€ÑƒÑÑĞºĞ°Ñ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ° Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²")
  assert_eq(russian_scope.version, Some("1.0.0"))
  assert_eq(russian_scope.schema_url, Some("https://example.com/Ñ€ÑƒÑÑĞºĞ°Ñ-ÑÑ…ĞµĞ¼Ğ°"))
  
  let hindi_scope = InstrumentationScope::{ 
    name: "à¤¹à¤¿à¤‚à¤¦à¥€ à¤‡à¤‚à¤¸à¥à¤Ÿà¥à¤°à¥‚à¤®à¥‡à¤‚à¤Ÿà¥‡à¤¶à¤¨ à¤²à¤¾à¤‡à¤¬à¥à¤°à¥‡à¤°à¥€", 
    version: Some("1.0.0"), 
    schema_url: Some("https://example.com/à¤¹à¤¿à¤‚à¤¦à¥€-à¤¸à¥à¤•à¥€à¤®à¤¾") 
  }
  assert_eq(hindi_scope.name, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤‡à¤‚à¤¸à¥à¤Ÿà¥à¤°à¥‚à¤®à¥‡à¤‚à¤Ÿà¥‡à¤¶à¤¨ à¤²à¤¾à¤‡à¤¬à¥à¤°à¥‡à¤°à¥€")
  assert_eq(hindi_scope.version, Some("1.0.0"))
  assert_eq(hindi_scope.schema_url, Some("https://example.com/à¤¹à¤¿à¤‚à¤¦à¥€-à¤¸à¥à¤•à¥€à¤®à¤¾"))
  
  let emoji_scope = InstrumentationScope::{ 
    name: "Emoji Instrumentation Library ğŸš€", 
    version: Some("1.0.0"), 
    schema_url: Some("https://example.com/emoji-schemağŸ“Š") 
  }
  assert_eq(emoji_scope.name, "Emoji Instrumentation Library ğŸš€")
  assert_eq(emoji_scope.version, Some("1.0.0"))
  assert_eq(emoji_scope.schema_url, Some("https://example.com/emoji-schemağŸ“Š"))
}

test "unicode string handling in metric names and descriptions" {
  // Test Unicode characters in metric names and descriptions
  let meter_provider = MeterProvider::default()
  let meter = MeterProvider::get_meter(meter_provider, "internationalization_meter")
  
  // Test Chinese metric name and description
  let chinese_counter = Meter::create_counter(meter, "ä¸­æ–‡è®¡æ•°å™¨", Some("è¿™æ˜¯ä¸€ä¸ªä¸­æ–‡è®¡æ•°å™¨"), Some("ä¸ª"))
  assert_eq(chinese_counter.name, "ä¸­æ–‡è®¡æ•°å™¨")
  assert_eq(chinese_counter.description, Some("è¿™æ˜¯ä¸€ä¸ªä¸­æ–‡è®¡æ•°å™¨"))
  assert_eq(chinese_counter.unit, Some("ä¸ª"))
  
  // Test Japanese metric name and description
  let japanese_histogram = Meter::create_histogram(meter, "æ—¥æœ¬èªãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ", Some("ã“ã‚Œã¯æ—¥æœ¬èªã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã§ã™"), Some("ms"))
  assert_eq(japanese_histogram.name, "æ—¥æœ¬èªãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ")
  assert_eq(japanese_histogram.description, Some("ã“ã‚Œã¯æ—¥æœ¬èªã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã§ã™"))
  assert_eq(japanese_histogram.unit, Some("ms"))
  
  // Test Korean metric name and description
  let korean_updown_counter = Meter::create_updown_counter(meter, "í•œêµ­ì–´ ì—…ë‹¤ìš´ ì¹´ìš´í„°", Some("ì´ê²ƒì€ í•œêµ­ì–´ ì—…ë‹¤ìš´ ì¹´ìš´í„°ì…ë‹ˆë‹¤"), Some("ê°œ"))
  assert_eq(korean_updown_counter.name, "í•œêµ­ì–´ ì—…ë‹¤ìš´ ì¹´ìš´í„°")
  assert_eq(korean_updown_counter.description, Some("ì´ê²ƒì€ í•œêµ­ì–´ ì—…ë‹¤ìš´ ì¹´ìš´í„°ì…ë‹ˆë‹¤"))
  assert_eq(korean_updown_counter.unit, Some("ê°œ"))
  
  // Test Arabic metric name and description
  let arabic_gauge = Meter::create_gauge(meter, "Ù…Ù‚ÙŠØ§Ø³ Ø¹Ø±Ø¨ÙŠ", Some("Ù‡Ø°Ø§ Ù…Ù‚ÙŠØ§Ø³ Ø¹Ø±Ø¨ÙŠ"), Some("ÙˆØ­Ø¯Ø©"))
  assert_eq(arabic_gauge.name, "Ù…Ù‚ÙŠØ§Ø³ Ø¹Ø±Ø¨ÙŠ")
  assert_eq(arabic_gauge.description, Some("Ù‡Ø°Ø§ Ù…Ù‚ÙŠØ§Ø³ Ø¹Ø±Ø¨ÙŠ"))
  assert_eq(arabic_gauge.unit, Some("ÙˆØ­Ø¯Ø©"))
  
  // Test Russian metric name and description
  let russian_counter = Meter::create_counter(meter, "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸Ğº", Some("ÑÑ‚Ğ¾ Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸Ğº"), Some("ÑˆÑ‚"))
  assert_eq(russian_counter.name, "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸Ğº")
  assert_eq(russian_counter.description, Some("ÑÑ‚Ğ¾ Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸Ğº"))
  assert_eq(russian_counter.unit, Some("ÑˆÑ‚"))
  
  // Test Hindi metric name and description
  let hindi_histogram = Meter::create_histogram(meter, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤¹à¤¿à¤¸à¥à¤Ÿà¥‹à¤—à¥à¤°à¤¾à¤®", Some("à¤¯à¤¹ à¤à¤• à¤¹à¤¿à¤‚à¤¦à¥€ à¤¹à¤¿à¤¸à¥à¤Ÿà¥‹à¤—à¥à¤°à¤¾à¤® à¤¹à¥ˆ"), Some("à¤‡à¤•à¤¾à¤ˆ"))
  assert_eq(hindi_histogram.name, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤¹à¤¿à¤¸à¥à¤Ÿà¥‹à¤—à¥à¤°à¤¾à¤®")
  assert_eq(hindi_histogram.description, Some("à¤¯à¤¹ à¤à¤• à¤¹à¤¿à¤‚à¤¦à¥€ à¤¹à¤¿à¤¸à¥à¤Ÿà¥‹à¤—à¥à¤°à¤¾à¤® à¤¹à¥ˆ"))
  assert_eq(hindi_histogram.unit, Some("à¤‡à¤•à¤¾à¤ˆ"))
  
  // Test Emoji metric name and description
  let emoji_gauge = Meter::create_gauge(meter, "Emoji Gauge ğŸ“Š", Some("This is an emoji gauge ğŸ“ˆ"), Some("unitğŸ”¢"))
  assert_eq(emoji_gauge.name, "Emoji Gauge ğŸ“Š")
  assert_eq(emoji_gauge.description, Some("This is an emoji gauge ğŸ“ˆ"))
  assert_eq(emoji_gauge.unit, Some("unitğŸ”¢"))
}