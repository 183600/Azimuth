// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// ä¸º azimuth åº“æ·»åŠ çš„é«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹

// æµ‹è¯•åŠ æ³•å‡½æ•°çš„äº¤æ¢å¾‹æ€§è´¨
test "add_commutative_property" {
  @azimuth.assert_eq(10, @azimuth.add(7, 3))
  @azimuth.assert_eq(10, @azimuth.add(3, 7))
  @azimuth.assert_eq(-4, @azimuth.add(-7, 3))
  @azimuth.assert_eq(-4, @azimuth.add(3, -7))
  @azimuth.assert_eq(0, @azimuth.add(5, -5))
}

// æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„åˆ†é…å¾‹æ€§è´¨
test "multiply_distributive_property" {
  let a = 6
  let b = 4
  let c = 3
  
  // éªŒè¯åˆ†é…å¾‹: a * (b + c) = a * b + a * c
  let left_side = @azimuth.multiply(a, @azimuth.add(b, c))
  let right_side = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
  @azimuth.assert_eq(left_side, right_side)
  
  // æµ‹è¯•å¦ä¸€ä¸ªä¾‹å­
  let x = 10
  let y = 5
  let z = 2
  @azimuth.assert_eq(
    @azimuth.multiply(x, @azimuth.add(y, z)),
    @azimuth.add(@azimuth.multiply(x, y), @azimuth.multiply(x, z))
  )
}

// æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„å®é™…åº”ç”¨åœºæ™¯
test "divide_with_ceil_packaging_scenario" {
  // åœºæ™¯ï¼šè®¡ç®—è£…ç›’é—®é¢˜
  let total_items = 47
  let items_per_box = 12
  let boxes_needed = @azimuth.divide_with_ceil(total_items, items_per_box)
  
  // éªŒè¯éœ€è¦çš„ç›’å­æ•°é‡
  @azimuth.assert_eq(4, boxes_needed)
  
  // éªŒè¯æ€»å®¹é‡è¶³å¤Ÿ
  let total_capacity = @azimuth.multiply(boxes_needed, items_per_box)
  @azimuth.assert_eq(48, total_capacity)
}

// æµ‹è¯•è´Ÿæ•°é™¤æ³•çš„ç‰¹æ®Šæƒ…å†µ
test "divide_with_ceil_negative_cases" {
  // æµ‹è¯•è´Ÿè¢«é™¤æ•°
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-10, 3))
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-9, 3))
  @azimuth.assert_eq(-1, @azimuth.divide_with_ceil(-1, 3))
  
  // æµ‹è¯•è´Ÿé™¤æ•°
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(10, -3))
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(9, -3))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(1, -3))
  
  // æµ‹è¯•åŒè´Ÿæ•°
  @azimuth.assert_eq(4, @azimuth.divide_with_ceil(-10, -3))
  @azimuth.assert_eq(3, @azimuth.divide_with_ceil(-9, -3))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(-1, -3))
}

// æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
test "greet_function_edge_cases" {
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²å’Œç‰¹æ®Šå­—ç¬¦
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello,   !", @azimuth.greet("  "))
  @azimuth.assert_eq_string("Hello, a!", @azimuth.greet("a"))
  @azimuth.assert_eq_string("Hello, A!", @azimuth.greet("A"))
  @azimuth.assert_eq_string("Hello, 123!", @azimuth.greet("123"))
}

// æµ‹è¯•å¤æ‚è®¡ç®—é“¾
test "complex_calculation_chain" {
  // åœºæ™¯ï¼šè®¡ç®—é¡¹ç›®èµ„æºéœ€æ±‚
  let team_size = 8
  let tasks_per_person = 5
  let sprint_capacity = 15
  
  // è®¡ç®—æ€»ä»»åŠ¡æ•°
  let total_tasks = @azimuth.multiply(team_size, tasks_per_person)
  
  // è®¡ç®—éœ€è¦çš„å†²åˆºæ•°
  let sprints_needed = @azimuth.divide_with_ceil(total_tasks, sprint_capacity)
  
  // éªŒè¯ç»“æœ
  @azimuth.assert_eq(40, total_tasks)
  @azimuth.assert_eq(3, sprints_needed)
}

// æµ‹è¯•æ•°å­¦æ’ç­‰å¼
test "mathematical_identities" {
  let x = 42
  
  // åŠ æ³•æ’ç­‰å¼
  @azimuth.assert_eq(x, @azimuth.add(x, 0))
  @azimuth.assert_eq(x, @azimuth.add(0, x))
  
  // ä¹˜æ³•æ’ç­‰å¼
  @azimuth.assert_eq(x, @azimuth.multiply(x, 1))
  @azimuth.assert_eq(x, @azimuth.multiply(1, x))
  @azimuth.assert_eq(0, @azimuth.multiply(x, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, x))
  
  // è´Ÿæ•°æ’ç­‰å¼
  @azimuth.assert_eq(@azimuth.multiply(x, -1), @azimuth.multiply(-1, x))
}

// æµ‹è¯•å¤§æ•°è¿ç®—
test "large_number_operations" {
  let large_num = 1000000
  
  // æµ‹è¯•å¤§æ•°åŠ æ³•
  @azimuth.assert_eq(2000000, @azimuth.add(large_num, large_num))
  
  // æµ‹è¯•å¤§æ•°ä¹˜æ³•
  @azimuth.assert_eq(1000000000000, @azimuth.multiply(large_num, large_num))
  
  // æµ‹è¯•å¤§æ•°é™¤æ³•
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(large_num, large_num))
  @azimuth.assert_eq(2, @azimuth.divide_with_ceil(large_num + 1, large_num))
}

// æµ‹è¯•Unicodeå’Œå›½é™…åŒ–å­—ç¬¦
test "greet_function_unicode" {
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", @azimuth.greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  @azimuth.assert_eq_string("Hello, cafÃ©!", @azimuth.greet("cafÃ©"))
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
  @azimuth.assert_eq_string("Hello, Ã±oÃ±o!", @azimuth.greet("Ã±oÃ±o"))
}

// æµ‹è¯•è¿ç»­è®¡ç®—å’Œä¸šåŠ¡é€»è¾‘
test "business_logic_calculation" {
  // åœºæ™¯ï¼šè®¡ç®—æ´»åŠ¨å®‰æ’
  let participants = 87
  let chairs_per_table = 8
  let tables_per_room = 5
  
  // è®¡ç®—éœ€è¦çš„æ¡Œå­æ•°
  let tables_needed = @azimuth.divide_with_ceil(participants, chairs_per_table)
  
  // è®¡ç®—éœ€è¦çš„æˆ¿é—´æ•°
  let rooms_needed = @azimuth.divide_with_ceil(tables_needed, tables_per_room)
  
  // éªŒè¯ç»“æœ
  @azimuth.assert_eq(11, tables_needed)
  @azimuth.assert_eq(3, rooms_needed)
  
  // éªŒè¯æ€»åº§ä½æ•°
  let total_seats = @azimuth.multiply(tables_needed, chairs_per_table)
  @azimuth.assert_eq(88, total_seats)
}