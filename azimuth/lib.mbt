pub fn add(a : Int, b : Int) -> Int {
  // ç‰¹æ®Šæƒ…å†µå¤„ç†ï¼šå¦‚æœæœ‰ä¸€ä¸ªæ˜¯0ï¼Œç›´æ¥è¿”å›å¦ä¸€ä¸ª
  if a == 0 {
    return b
  }
  if b == 0 {
    return a
  }

  // å¤„ç†æœ€å°å€¼çš„ç‰¹æ®Šæƒ…å†µï¼ˆInt32çš„æœ€å°å€¼ï¼‰
  let min_val = -2147483648
  let max_val = 2147483647

  // å¤„ç†ä¸€ä¸ªæ“ä½œæ•°æ˜¯æœ€å°å€¼çš„æƒ…å†µ
  if a == min_val {
    // æœ€å°å€¼ + è´Ÿæ•° = å¯èƒ½æº¢å‡º
    if b < 0 {
      return min_val
    }
    // æœ€å°å€¼ + éè´Ÿæ•° = ä¸ä¼šæº¢å‡ºï¼Œç›´æ¥è®¡ç®—
    return a + b
  }
  if b == min_val {
    // è´Ÿæ•° + æœ€å°å€¼ = å¯èƒ½æº¢å‡º
    if a < 0 {
      return min_val
    }
    // éè´Ÿæ•° + æœ€å°å€¼ = ä¸ä¼šæº¢å‡ºï¼Œç›´æ¥è®¡ç®—
    return a + b
  }

  // æ­£æ•°ç›¸åŠ æº¢å‡ºæ£€æŸ¥
  if a > 0 && b > 0 {
    // å¦‚æœ a > max_val - bï¼Œåˆ™ a + b ä¼šæº¢å‡º
    if a > max_val - b {
      return max_val
    }
  }

  // è´Ÿæ•°ç›¸åŠ æº¢å‡ºæ£€æŸ¥ï¼ˆæ­¤æ—¶aå’Œbéƒ½ä¸æ˜¯æœ€å°å€¼ï¼‰
  if a < 0 && b < 0 {
    // ä½¿ç”¨å‡æ³•æ£€æŸ¥ï¼ša < min_val - b
    // ç”±äºbæ˜¯è´Ÿæ•°ï¼Œmin_val - b = min_val + abs(b)
    if a < min_val - b {
      return min_val
    }
  }

  // å®‰å…¨åœ°è¿›è¡ŒåŠ æ³•è¿ç®—
  return a + b
}

///
pub fn multiply(a : Int, b : Int) -> Int {
  // å¸¸é‡å®šä¹‰
  let min_val = -2147483648
  let max_val = 2147483647

  // å¤„ç†0çš„æƒ…å†µ
  if a == 0 || b == 0 {
    return 0
  }

  // å¤„ç†1çš„æƒ…å†µ
  if a == 1 {
    return b
  }
  if b == 1 {
    return a
  }

  // å¤„ç†-1çš„æƒ…å†µï¼ˆåŒ…æ‹¬æœ€å°å€¼çš„ç‰¹æ®Šæƒ…å†µï¼‰
  if a == -1 {
    // -2147483648 * -1 = 2147483648 ä¼šæº¢å‡ºï¼Œåº”è¯¥è¿”å› min_val
    return if b == min_val { min_val } else { -b }
  }
  if b == -1 {
    // -1 * -2147483648 = 2147483648 ä¼šæº¢å‡ºï¼Œåº”è¯¥è¿”å› min_val
    return if a == min_val { min_val } else { -a }
  }

  // å¤„ç†æœ€å°å€¼çš„æƒ…å†µ
  if a == min_val {
    // æœ€å°å€¼ä¹˜ä»¥ä»»ä½•ç»å¯¹å€¼å¤§äº1çš„æ•°éƒ½ä¼šæº¢å‡º
    return if b > 1 || b < -1 { min_val } else { a * b }
  }
  if b == min_val {
    // æœ€å°å€¼ä¹˜ä»¥ä»»ä½•ç»å¯¹å€¼å¤§äº1çš„æ•°éƒ½ä¼šæº¢å‡º
    return if a > 1 || a < -1 { min_val } else { a * b }
  }

  // æ£€æŸ¥æ­£è´Ÿå·
  let sign = if (a > 0 && b > 0) || (a < 0 && b < 0) { 1 } else { -1 }

  // å®‰å…¨åœ°è®¡ç®—ç»å¯¹å€¼ï¼Œæ­¤æ—¶aå’Œbéƒ½ä¸æ˜¯æœ€å°å€¼
  let abs_a = if a < 0 { -a } else { a }
  let abs_b = if b < 0 { -b } else { b }

  // ä¼˜åŒ–çš„æº¢å‡ºæ£€æŸ¥ï¼šä½¿ç”¨é™¤æ³•æ¥é¿å…ä¹˜æ³•æº¢å‡º
  // æ£€æŸ¥ abs_a > max_val / abs_b æ¥é¿å…ä¹˜æ³•æº¢å‡º
  if abs_a > max_val / abs_b {
    return if sign > 0 { max_val } else { min_val }
  }

  // å®‰å…¨åœ°è¿›è¡Œä¹˜æ³•è¿ç®—
  return a * b
}

///
pub fn greet(name : String) -> String {
  // å­—ç¬¦ä¸²æ‹¼æ¥ï¼šç©ºå­—ç¬¦ä¸²ä¼šè‡ªåŠ¨å¤„ç†
  "Hello, " + name + "!"
}

// æµ‹è¯•è¾…åŠ©å‡½æ•°ï¼Œæä¾›æ–­è¨€åŠŸèƒ½
pub fn assert_eq(expected : Int, actual : Int) -> Unit {
  // ä½¿ç”¨æ¡ä»¶åˆ†æ”¯æ¥å®ç°æ–­è¨€ï¼Œé¿å…ä¾èµ– @builtin.abort
  if (expected == actual) {
    ()
  } else {
    // å½“æ–­è¨€å¤±è´¥æ—¶ï¼ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯
    // ä½¿ç”¨æ•´æ•°é™¤ä»¥é›¶æ¥è§¦å‘è¿è¡Œæ—¶é”™è¯¯
    let _ = 1 / 0
    ()
  }
}

pub fn assert_eq_string(expected : String, actual : String) -> Unit {
  // ä½¿ç”¨æ¡ä»¶åˆ†æ”¯æ¥å®ç°æ–­è¨€ï¼Œé¿å…ä¾èµ– @builtin.abort
  if (expected == actual) {
    ()
  } else {
    // å½“æ–­è¨€å¤±è´¥æ—¶ï¼ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯
    // ä½¿ç”¨æ•´æ•°é™¤ä»¥é›¶æ¥è§¦å‘è¿è¡Œæ—¶é”™è¯¯
    let _ = 1 / 0
    ()
  }
}

pub fn assert_true(condition : Bool) -> Unit {
  // ä½¿ç”¨æ¡ä»¶åˆ†æ”¯æ¥å®ç°æ–­è¨€ï¼Œé¿å…ä¾èµ– @builtin.abort
  if (condition) {
    ()
  } else {
    // å½“æ–­è¨€å¤±è´¥æ—¶ï¼ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯
    // ä½¿ç”¨æ•´æ•°é™¤ä»¥é›¶æ¥è§¦å‘è¿è¡Œæ—¶é”™è¯¯
    let _ = 1 / 0
    ()
  }
}

pub fn assert_false(condition : Bool) -> Unit {
  // ä½¿ç”¨æ¡ä»¶åˆ†æ”¯æ¥å®ç°æ–­è¨€ï¼Œé¿å…ä¾èµ– @builtin.abort
  if (condition) {
    // å½“æ–­è¨€å¤±è´¥æ—¶ï¼ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯
    // ä½¿ç”¨æ•´æ•°é™¤ä»¥é›¶æ¥è§¦å‘è¿è¡Œæ—¶é”™è¯¯
    let _ = 1 / 0
    ()
  } else {
    ()
  }
}

// å‘ä¸Šå–æ•´é™¤æ³•å‡½æ•°
pub fn divide_with_ceil(dividend : Int, divisor : Int) -> Int {
  let quotient = dividend / divisor
  let remainder = dividend % divisor
  if remainder > 0 { add(quotient, 1) } else { quotient }
}

// å¢å¼ºçš„æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åŒ…çš„ä¸»è¦åŠŸèƒ½

test "add_function_edge_cases" {
  // æµ‹è¯•è¾¹ç•Œå€¼å’Œç‰¹æ®Šæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // è¾¹ç•Œå€¼æµ‹è¯•
  assert_eq(max_val, add(max_val, 0))
  assert_eq(min_val, add(min_val, 0))
  assert_eq(max_val, add(0, max_val))
  assert_eq(min_val, add(0, min_val))
  
  // å¯¹ç§°æ€§æµ‹è¯•
  assert_eq(add(5, 3), add(3, 5))
  assert_eq(add(-5, 3), add(3, -5))
}

test "multiply_function_special_cases" {
  // æµ‹è¯•ä¹˜æ³•çš„ç‰¹æ®Šæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // é›¶ä¹˜æ³•æµ‹è¯•
  assert_eq(0, multiply(0, max_val))
  assert_eq(0, multiply(0, min_val))
  assert_eq(0, multiply(max_val, 0))
  assert_eq(0, multiply(min_val, 0))
  
  // è´Ÿä¸€ä¹˜æ³•æµ‹è¯•
  assert_eq(-5, multiply(-1, 5))
  assert_eq(5, multiply(-1, -5))
  assert_eq(min_val, multiply(-1, min_val)) // ç‰¹æ®Šæƒ…å†µï¼šæœ€å°å€¼ä¹˜ä»¥-1ä¼šæº¢å‡º
}

test "greet_function_unicode_handling" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†å’ŒUnicodeå­—ç¬¦
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, MoonBitğŸš€!", greet("MoonBitğŸš€"))
  assert_eq_string("Hello, @#$%!", greet("@#$%"))
  assert_eq_string("Hello,   !", greet("   ")) // ç©ºæ ¼æµ‹è¯•
}

test "divide_with_ceil_comprehensive" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„å„ç§æƒ…å†µ
  // æ­£æ•°æµ‹è¯•
  assert_eq(4, divide_with_ceil(11, 3))
  assert_eq(4, divide_with_ceil(12, 3))
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(1, divide_with_ceil(2, 2))
  
  // è´Ÿæ•°æµ‹è¯•
  assert_eq(-3, divide_with_ceil(-8, 3))
  assert_eq(-2, divide_with_ceil(-9, 3))
  assert_eq(-3, divide_with_ceil(-10, 4))
  
  // æ··åˆç¬¦å·æµ‹è¯•
  assert_eq(-2, divide_with_ceil(5, -3))
  assert_eq(2, divide_with_ceil(-5, 3))
}

test "combined_operations_test" {
  // æµ‹è¯•ç»„åˆæ“ä½œ
  let a = 10
  let b = 3
  
  // åŠ æ³•åä¹˜æ³•
  assert_eq(39, multiply(add(a, b), 3))
  
  // ä¹˜æ³•ååŠ æ³•
  assert_eq(33, add(multiply(a, b), 3))
  
  // å¤æ‚è¡¨è¾¾å¼
  assert_eq(16, add(multiply(2, 5), divide_with_ceil(10, 3)))
}

test "mathematical_properties" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨
  
  // åŠ æ³•ç»“åˆå¾‹ï¼ˆåœ¨å®‰å…¨èŒƒå›´å†…ï¼‰
  assert_eq(add(add(2, 3), 4), add(2, add(3, 4)))
  
  // ä¹˜æ³•ç»“åˆå¾‹ï¼ˆåœ¨å®‰å…¨èŒƒå›´å†…ï¼‰
  assert_eq(multiply(multiply(2, 3), 4), multiply(2, multiply(3, 4)))
  
  // åˆ†é…å¾‹ï¼ˆåœ¨å®‰å…¨èŒƒå›´å†…ï¼‰
  assert_eq(multiply(2, add(3, 4)), add(multiply(2, 3), multiply(2, 4)))
}

test "boundary_comprehensive_test" {
  // ç»¼åˆè¾¹ç•Œæµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æ¥è¿‘è¾¹ç•Œçš„åŠ æ³•
  assert_eq(max_val, add(max_val - 100, 100))
  assert_eq(max_val, add(max_val - 1000, 1000))
  
  // æ¥è¿‘è¾¹ç•Œçš„ä¹˜æ³•
  assert_eq(max_val, multiply(46340, 46341)) // æ¥è¿‘sqrt(max_val)
  
  // æœ€å°å€¼å¤„ç†
  assert_eq(min_val, add(min_val, 0))
  assert_eq(0, multiply(min_val, 0))
}

test "string_edge_cases" {
  // å­—ç¬¦ä¸²è¾¹ç•Œæƒ…å†µæµ‹è¯•
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, a!", greet("a"))
  assert_eq_string("Hello, abcdefghijklmnopqrstuvwxyz!", greet("abcdefghijklmnopqrstuvwxyz"))
}

test "assert_functions_comprehensive" {
  // æ–­è¨€å‡½æ•°ç»¼åˆæµ‹è¯•
  assert_true(1 == 1)
  assert_true(0 == 0)
  assert_true(-1 == -1)
  assert_true(true)
  
  assert_false(1 == 2)
  assert_false(false)
  assert_false(1 > 2)
  
  assert_eq(42, 42)
  assert_eq(-42, -42)
  assert_eq(0, 0)
  
  assert_eq_string("", "")
  assert_eq_string("test", "test")
  assert_eq_string("Hello, World!", "Hello, World!")
}

test "extreme_boundary_combinations" {
  // æç«¯è¾¹ç•Œå€¼ç»„åˆæµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼ä¸æœ€å°å€¼çš„ç»„åˆè¿ç®—
  assert_eq(max_val - 1, add(max_val, min_val))
  assert_eq(min_val + 1, add(min_val, max_val))
  
  // è¾¹ç•Œå€¼çš„ä¹˜æ³•ç»„åˆ
  assert_eq(0, multiply(max_val, 0))
  assert_eq(0, multiply(min_val, 0))
  assert_eq(min_val, multiply(min_val, 1))
}

test "large_number_operations" {
  // å¤§æ•°è¿ç®—æµ‹è¯•
  let large_num = 1000000
  let large_neg = -1000000
  
  // å¤§æ•°åŠ æ³•
  assert_eq(2000000, add(large_num, large_num))
  assert_eq(0, add(large_num, large_neg))
  
  // å¤§æ•°ä¹˜æ³•ï¼ˆè°ƒæ•´åˆ°èŒƒå›´å†…ï¼‰
  assert_eq(100000000, multiply(10000, 10000))
  assert_eq(-100000000, multiply(10000, -10000))
  
  // å¤§æ•°ä¸è¾¹ç•Œå€¼ç»„åˆ
  assert_eq(2147483647, add(2147483647 - 1000000, 1000000))
}

test "special_string_characters" {
  // ç‰¹æ®Šå­—ç¬¦ä¸²å­—ç¬¦å¤„ç†æµ‹è¯•
  assert_eq_string("Hello, \n\t\r!", greet("\n\t\r"))
  assert_eq_string("Hello, \\\"\\'\\!", greet("\\\"\\'\\!"))
  assert_eq_string("Hello, \u0000\u0000\u0000!", greet("\u0000\u0000\u0000"))
  assert_eq_string("Hello, ä¸­æ–‡å­—ç¬¦ğŸŒŸ!", greet("ä¸­æ–‡å­—ç¬¦ğŸŒŸ"))
  assert_eq_string("Hello, emojiğŸ˜€ğŸ˜ğŸ˜‚!", greet("emojiğŸ˜€ğŸ˜ğŸ˜‚"))
}

test "negative_division_edge_cases" {
  // è´Ÿæ•°é™¤æ³•è¾¹ç•Œæƒ…å†µæµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // è´Ÿæ•°é™¤ä»¥æ­£æ•°
  assert_eq(-1, divide_with_ceil(-1, 2))
  assert_eq(-2, divide_with_ceil(-3, 2))
  assert_eq(-1073741824, divide_with_ceil(min_val, 2))
  
  // è´Ÿæ•°é™¤ä»¥è´Ÿæ•°
  assert_eq(1, divide_with_ceil(-1, -2))
  assert_eq(2, divide_with_ceil(-3, -2))
  
  // è¾¹ç•Œå€¼é™¤æ³•
  assert_eq(-1073741824, divide_with_ceil(min_val, 2))
  assert_eq(1073741824, divide_with_ceil(max_val, 2))
}

test "function_chaining_operations" {
  // å‡½æ•°é“¾å¼è°ƒç”¨æµ‹è¯•
  let initial = 5
  
  // å¤šå±‚å‡½æ•°è°ƒç”¨é“¾
  let result1 = multiply(add(initial, 3), 2)
  let result2 = add(multiply(initial, 2), 3)
  let result3 = divide_with_ceil(multiply(add(initial, 1), 3), 2)
  
  assert_eq(16, result1)  // (5 + 3) * 2 = 16
  assert_eq(13, result2)  // 5 * 2 + 3 = 13
  assert_eq(9, result3)   // ceil((5 + 1) * 3 / 2) = ceil(18 / 2) = 9
  
  // æ›´å¤æ‚çš„é“¾å¼è°ƒç”¨
  let complex_result = add(multiply(divide_with_ceil(10, 3), 2), 1)
  assert_eq(9, complex_result)  // ceil(10/3) * 2 + 1 = 4 * 2 + 1 = 9
}

test "numeric_range_validation" {
  // æ•°å€¼èŒƒå›´éªŒè¯æµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // éªŒè¯åŠ æ³•èŒƒå›´é™åˆ¶
  assert_true(add(max_val, 0) <= max_val)
  assert_true(add(min_val, 0) >= min_val)
  assert_true(add(1000000, 1000000) <= max_val)
  assert_true(add(-1000000, -1000000) >= min_val)
  
  // éªŒè¯ä¹˜æ³•èŒƒå›´é™åˆ¶
  assert_true(multiply(46340, 46340) <= max_val)
  assert_true(multiply(-46340, 46340) >= min_val)
  
  // æå€¼éªŒè¯
  let overflow_add = add(max_val, max_val)
  let overflow_mul = multiply(max_val, 2)
  assert_true(overflow_add == max_val || overflow_add == min_val)
  assert_true(overflow_mul == max_val || overflow_mul == min_val)
}

test "string_length_boundaries" {
  // å­—ç¬¦ä¸²é•¿åº¦è¾¹ç•Œæµ‹è¯•
  let empty = ""
  let single = "a"
  let long = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
  let _very_long = long + long + long + long + long  // ä½¿ç”¨ä¸‹åˆ’çº¿å‰ç¼€è¡¨ç¤ºæœªä½¿ç”¨
  
  // ä¸åŒé•¿åº¦å­—ç¬¦ä¸²æµ‹è¯•
  assert_eq_string("Hello, !", greet(empty))
  assert_eq_string("Hello, a!", greet(single))
  assert_eq_string("Hello, " + long + "!", greet(long))
  
  // ç‰¹æ®Šé•¿åº¦å­—ç¬¦ä¸²
  let spaces = "     "  // 5ä¸ªç©ºæ ¼
  let tabs = "\t\t\t\t\t"  // 5ä¸ªåˆ¶è¡¨ç¬¦
  assert_eq_string("Hello,     !", greet(spaces))
  assert_eq_string("Hello, \t\t\t\t\t!", greet(tabs))
}

test "mixed_operation_precision" {
  // æ··åˆè¿ç®—ç²¾åº¦æµ‹è¯•
  // æµ‹è¯•ä¸åŒæ•°å€¼ç»„åˆçš„ç²¾åº¦ä¿æŒ
  assert_eq(6, add(multiply(2, 3), 0))
  assert_eq(8, add(multiply(2, 3), 2))
  assert_eq(7, divide_with_ceil(multiply(2, 3), 1))
  assert_eq(4, divide_with_ceil(multiply(2, 3), 2))
  
  // æµ‹è¯•è¿ç®—é¡ºåºå¯¹ç»“æœçš„å½±å“
  let val1 = add(multiply(10, 2), divide_with_ceil(5, 2))
  let val2 = multiply(10, add(2, divide_with_ceil(5, 20)))
  assert_eq(24, val1)  // 20 + ceil(5/2) = 20 + 3 = 23
  assert_eq(21, val2)  // 10 * (2 + ceil(5/20)) = 10 * (2 + 1) = 30
  
  // æµ‹è¯•ç²¾åº¦ä¿æŒ
  assert_eq(0, add(multiply(1000, 0), divide_with_ceil(0, 1000)))
}

test "error_recovery_mechanisms" {
  // é”™è¯¯æ¢å¤æœºåˆ¶æµ‹è¯•
  let max_val = 2147483647
  let _min_val = -2147483648  // ä½¿ç”¨ä¸‹åˆ’çº¿å‰ç¼€è¡¨ç¤ºæœªä½¿ç”¨
  
  // æµ‹è¯•æº¢å‡ºåçš„å‡½æ•°ä»ç„¶å¯ç”¨
  let _ = add(max_val, 1)  // è¿™ä¼šæº¢å‡º
  let normal_add = add(5, 3)  // éªŒè¯æ­£å¸¸åŠ æ³•ä»ç„¶å·¥ä½œ
  assert_eq(8, normal_add)
  
  let _ = multiply(max_val, 2)  // è¿™ä¼šæº¢å‡º
  let normal_mul = multiply(5, 3)  // éªŒè¯æ­£å¸¸ä¹˜æ³•ä»ç„¶å·¥ä½œ
  assert_eq(15, normal_mul)
  
  // æµ‹è¯•æ–­è¨€å¤±è´¥ä¸å½±å“åç»­æµ‹è¯•
  // æ³¨æ„ï¼šå®é™…çš„æ–­è¨€å¤±è´¥ä¼šç»ˆæ­¢ç¨‹åºï¼Œè¿™é‡Œä¸»è¦æµ‹è¯•æ–­è¨€å‡½æ•°æœ¬èº«çš„é€»è¾‘
  assert_true(true)  // è¿™ä¸ªåº”è¯¥é€šè¿‡
  assert_false(false)  // è¿™ä¸ªåº”è¯¥é€šè¿‡
  assert_eq(1, 1)  // è¿™ä¸ªåº”è¯¥é€šè¿‡
  assert_eq_string("test", "test")  // è¿™ä¸ªåº”è¯¥é€šè¿‡
}

test "memory_safety_operations" {
  // å†…å­˜å®‰å…¨ç›¸å…³æ“ä½œæµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•å¤§é‡æ“ä½œä¸ä¼šå¯¼è‡´å†…å­˜é—®é¢˜
  for i = 0; i < 100; i = i + 1 {
    let _ = add(i, i)
    let _ = multiply(i, 2)
    let _ = divide_with_ceil(i * 10 + 5, 3)
  }
  
  // æµ‹è¯•æå€¼æ“ä½œçš„ç¨³å®šæ€§
  let result1 = add(max_val, 0)
  let result2 = add(min_val, 0)
  let result3 = multiply(max_val, 1)
  let result4 = multiply(min_val, 1)
  let result5 = multiply(0, max_val)
  let result6 = multiply(0, min_val)
  
  assert_eq(max_val, result1)
  assert_eq(min_val, result2)
  assert_eq(max_val, result3)
  assert_eq(min_val, result4)
  assert_eq(0, result5)
  assert_eq(0, result6)
  
  // æµ‹è¯•å­—ç¬¦ä¸²æ“ä½œçš„å†…å­˜å®‰å…¨æ€§
  let _ = greet("")
  let _ = greet("a")
  let _ = greet("test")
  let _ = greet("very long string with many characters")
  
  // éªŒè¯æœ€ç»ˆçŠ¶æ€
  assert_eq(198, add(99, 99))
  assert_eq(10000, multiply(100, 100))
}

// æ–°å¢çš„æ ‡å‡†å¢å¼ºæµ‹è¯•ç”¨ä¾‹
test "add_overflow_protection_positive" {
  // æµ‹è¯•æ­£æ•°åŠ æ³•çš„æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  
  // æ¥è¿‘æœ€å¤§å€¼çš„åŠ æ³•
  assert_eq(max_val, add(max_val - 1, 1))
  assert_eq(max_val, add(max_val - 100, 100))
  assert_eq(max_val, add(max_val - 1000, 1000))
  
  // ç¡®ä¿æ­£å¸¸èŒƒå›´å†…çš„åŠ æ³•æ­£ç¡®
  assert_eq(100, add(50, 50))
  assert_eq(0, add(100, -100))
}

test "add_overflow_protection_negative" {
  // æµ‹è¯•è´Ÿæ•°åŠ æ³•çš„æº¢å‡ºä¿æŠ¤
  let min_val = -2147483648
  
  // æ¥è¿‘æœ€å°å€¼çš„åŠ æ³•
  assert_eq(min_val, add(min_val + 1, -1))
  assert_eq(min_val, add(min_val + 100, -100))
  assert_eq(min_val, add(min_val + 1000, -1000))
  
  // ç¡®ä¿æ­£å¸¸èŒƒå›´å†…çš„åŠ æ³•æ­£ç¡®
  assert_eq(-100, add(-50, -50))
  assert_eq(0, add(-100, 100))
}

test "multiply_precision_boundary" {
  // æµ‹è¯•ä¹˜æ³•ç²¾åº¦è¾¹ç•Œ
  let sqrt_max = 46340  // sqrt(2147483647) çš„æ•´æ•°éƒ¨åˆ†
  
  // è¾¹ç•Œå€¼ä¹˜æ³•
  assert_eq(2147395600, multiply(sqrt_max, sqrt_max))
  assert_eq(2147483647, multiply(sqrt_max, sqrt_max + 1))
  
  // è´Ÿæ•°ä¹˜æ³•
  assert_eq(-2147395600, multiply(sqrt_max, -sqrt_max))
  assert_eq(-2147483647, multiply(sqrt_max, -(sqrt_max + 1)))
}

test "multiply_zero_and_one_cases" {
  // æµ‹è¯•ä¹˜æ³•çš„é›¶å’Œä¸€ç‰¹æ®Šæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // é›¶ä¹˜æ³•
  assert_eq(0, multiply(0, max_val))
  assert_eq(0, multiply(0, min_val))
  assert_eq(0, multiply(0, 0))
  
  // ä¸€ä¹˜æ³•
  assert_eq(max_val, multiply(1, max_val))
  assert_eq(min_val, multiply(1, min_val))
  assert_eq(5, multiply(1, 5))
  
  // è´Ÿä¸€ä¹˜æ³•
  assert_eq(-max_val, multiply(-1, max_val))
  assert_eq(min_val, multiply(-1, min_val))  // ç‰¹æ®Šæƒ…å†µï¼šæœ€å°å€¼ä¹˜ä»¥-1
}

test "greet_function_special_characters" {
  // æµ‹è¯• greet å‡½æ•°çš„ç‰¹æ®Šå­—ç¬¦å¤„ç†
  assert_eq_string("Hello, \\n!", greet("\\n"))
  assert_eq_string("Hello, \\t!", greet("\\t"))
  assert_eq_string("Hello, \\\\!", greet("\\"))
  assert_eq_string("Hello, \\\"!", greet("\""))
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello,   !", greet("   "))
}

test "divide_with_ceil_negative_numbers" {
  // æµ‹è¯•è´Ÿæ•°çš„å‘ä¸Šå–æ•´é™¤æ³•
  // è´Ÿæ•°é™¤ä»¥æ­£æ•°
  assert_eq(-1, divide_with_ceil(-1, 3))
  assert_eq(-2, divide_with_ceil(-4, 3))
  assert_eq(-2, divide_with_ceil(-5, 3))
  assert_eq(-3, divide_with_ceil(-7, 3))
  
  // è´Ÿæ•°é™¤ä»¥è´Ÿæ•°
  assert_eq(1, divide_with_ceil(-1, -3))
  assert_eq(2, divide_with_ceil(-4, -3))
  assert_eq(2, divide_with_ceil(-5, -3))
  assert_eq(3, divide_with_ceil(-7, -3))
}

test "divide_with_ceil_exact_division" {
  // æµ‹è¯•èƒ½å¤Ÿæ•´é™¤çš„æƒ…å†µ
  assert_eq(5, divide_with_ceil(10, 2))
  assert_eq(-5, divide_with_ceil(-10, 2))
  assert_eq(5, divide_with_ceil(10, -2))
  assert_eq(-5, divide_with_ceil(-10, -2))
  
  assert_eq(0, divide_with_ceil(0, 5))
  assert_eq(0, divide_with_ceil(0, -5))
  assert_eq(1, divide_with_ceil(5, 5))
  assert_eq(-1, divide_with_ceil(-5, 5))
}

test "complex_mathematical_expressions" {
  // æµ‹è¯•å¤æ‚çš„æ•°å­¦è¡¨è¾¾å¼
  // åµŒå¥—è¿ç®—
  assert_eq(25, add(multiply(3, 5), multiply(2, 5)))
  assert_eq(20, multiply(add(3, 2), 4))
  assert_eq(8, divide_with_ceil(add(multiply(2, 3), 2), 2))
  
  // å¤šå±‚åµŒå¥—
  assert_eq(15, add(multiply(divide_with_ceil(10, 2), 2), 5))
  assert_eq(12, multiply(add(divide_with_ceil(7, 3), 2), 3))
}

test "assertion_functions_edge_cases" {
  // æµ‹è¯•æ–­è¨€å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  // æå€¼æ¯”è¾ƒ
  assert_true(2147483647 == 2147483647)
  assert_true(-2147483648 == -2147483648)
  assert_false(2147483647 == -2147483648)
  
  // å­—ç¬¦ä¸²è¾¹ç•Œæƒ…å†µ
  assert_eq_string("", "")
  assert_eq_string("a", "a")
  assert_eq_string("Hello, World!", "Hello, World!")
  
  // å¸ƒå°”å€¼è¾¹ç•Œ
  assert_true(true)
  assert_false(false)
}