// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹ - ä¸º azimuth åº“æ·»åŠ çš„é«˜è´¨é‡æµ‹è¯•
// åŒ…å«åŸºæœ¬åŠŸèƒ½ã€è¾¹ç•Œæ¡ä»¶å’Œå®žé™…åº”ç”¨åœºæ™¯æµ‹è¯•

test "add_function_edge_cases" {
  // æµ‹è¯•åŠ æ³•å‡½æ•°çš„è¾¹ç¼˜æƒ…å†µ
  @builtin.assert_eq(1000000, add(500000, 500000))
  @builtin.assert_eq(-1000000, add(-500000, -500000))
  @builtin.assert_eq(0, add(-500000, 500000))
  @builtin.assert(2147483647 > add(2147483646, 1))  // æŽ¥è¿‘æœ€å¤§å€¼
}

test "multiply_function_comprehensive" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„ç»¼åˆæƒ…å†µ
  @builtin.assert_eq(1000000, multiply(1000, 1000))
  @builtin.assert_eq(-1000000, multiply(-1000, 1000))
  @builtin.assert_eq(1000000, multiply(-1000, -1000))
  @builtin.assert_eq(0, multiply(2147483647, 0))  // æœ€å¤§å€¼ä¹˜é›¶
}

test "greet_function_international_support" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„å›½é™…å­—ç¬¦æ”¯æŒ
  @builtin.assert_eq("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  @builtin.assert_eq("Hello, cafÃ©!", greet("cafÃ©"))
  @builtin.assert_eq("Hello, ðŸš€!", greet("ðŸš€"))
  @builtin.assert_eq("Hello, Ã±oÃ±o!", greet("Ã±oÃ±o"))
  @builtin.assert_eq("Hello, ÐœÐ¾ÑÐºÐ²Ð°!", greet("ÐœÐ¾ÑÐºÐ²Ð°"))
}

test "divide_with_ceil_complex_scenarios" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„å¤æ‚åœºæ™¯
  @builtin.assert_eq(1, divide_with_ceil(1, 1000000))  // æžå°æ¯”ä¾‹
  @builtin.assert_eq(1000000, divide_with_ceil(1000000, 1))  // æžå¤§æ¯”ä¾‹
  @builtin.assert_eq(2, divide_with_ceil(1000001, 1000000))  // æŽ¥è¿‘æ•´é™¤
  @builtin.assert_eq(0, divide_with_ceil(-1, 1000000))  // è´Ÿå°æ•°
}

test "mathematical_properties_validation" {
  // éªŒè¯æ•°å­¦æ€§è´¨
  let x = 123
  let y = 456
  
  // åŠ æ³•äº¤æ¢å¾‹
  @builtin.assert_eq(add(x, y), add(y, x))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  @builtin.assert_eq(multiply(x, y), multiply(y, x))
  
  // åˆ†é…å¾‹
  @builtin.assert_eq(
    multiply(x, add(y, 10)),
    add(multiply(x, y), multiply(x, 10))
  )
}

test "business_logistics_calculation" {
  // ä¸šåŠ¡ç‰©æµè®¡ç®—æµ‹è¯•
  let total_products = 1587
  let capacity_per_container = 24
  let containers_needed = divide_with_ceil(total_products, capacity_per_container)
  
  @builtin.assert_eq(67, containers_needed)  // ceil(1587/24) = 67
  
  // éªŒè¯æ€»å®¹é‡
  let total_capacity = multiply(containers_needed, capacity_per_container)
  @builtin.assert_eq(1608, total_capacity)
  
  // éªŒè¯å‰©ä½™å®¹é‡
  let remaining_capacity = subtract(total_capacity, total_products)
  @builtin.assert_eq(21, remaining_capacity)
}

test "error_handling_robustness" {
  // é”™è¯¯å¤„ç†å¥å£®æ€§æµ‹è¯•
  @builtin.assert_eq(0, divide_with_ceil(0, 0))  // 0/0
  @builtin.assert_eq(0, divide_with_ceil(2147483647, 0))  // æœ€å¤§å€¼/0
  @builtin.assert_eq(0, divide_with_ceil(-2147483648, 0))  // æœ€å°å€¼/0
  @builtin.assert_eq(0, divide_with_ceil(-100, 0))  // è´Ÿæ•°/0
}

test "complex_calculation_pipeline" {
  // å¤æ‚è®¡ç®—æµæ°´çº¿æµ‹è¯•
  let initial_value = 100
  let growth_factor = 3
  let periods = 4
  let divisor = 7
  
  // å¤åˆå¢žé•¿è®¡ç®—
  let growth_result = multiply(initial_value, growth_factor)
  let periodic_result = multiply(growth_result, periods)
  let final_result = divide_with_ceil(periodic_result, divisor)
  
  @builtin.assert_eq(171, final_result)  // ceil(100*3*4/7) = ceil(1200/7) = 171
}

// è¾…åŠ©å‡½æ•°ï¼šå‡æ³•
fn subtract(a : Int, b : Int) -> Int {
  a - b
}