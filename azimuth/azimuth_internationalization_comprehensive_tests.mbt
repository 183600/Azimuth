// Azimuth Internationalization Comprehensive Tests
// æµ‹è¯•é¥æµ‹ç³»ç»Ÿçš„å›½é™…åŒ–åŠŸèƒ½

test "internationalization_unicode_attribute_values" {
  // æµ‹è¯• Unicode å±æ€§å€¼å¤„ç†
  let attrs = Attributes::new()
  
  // è®¾ç½®å„ç§ Unicode å­—ç¬¦çš„å±æ€§å€¼
  Attributes::set(attrs, "chinese.attribute", StringValue("ä¸­æ–‡å±æ€§å€¼"))
  Attributes::set(attrs, "japanese.attribute", StringValue("æ—¥æœ¬èªå±æ€§å€¤"))
  Attributes::set(attrs, "korean.attribute", StringValue("í•œêµ­ì–´ ì†ì„±ê°’"))
  Attributes::set(attrs, "arabic.attribute", StringValue("Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³Ù…Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"))
  Attributes::set(attrs, "russian.attribute", StringValue("Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ğ° Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼"))
  Attributes::set(attrs, "hebrew.attribute", StringValue("×¢×¨×š ×ª×›×•× ×” ×‘×¢×‘×¨×™×ª"))
  Attributes::set(attrs, "thai.attribute", StringValue("à¸„à¹ˆà¸²à¹à¸­à¸•à¸—à¸£à¸´à¸šà¸´à¸§à¸•à¹Œà¸ à¸²à¸©à¸²à¹„à¸—à¸¢"))
  Attributes::set(attrs, "hindi.attribute", StringValue("à¤¹à¤¿à¤‚à¤¦à¥€ à¤µà¤¿à¤¶à¥‡à¤·à¤¤à¤¾ à¤®à¤¾à¤¨"))
  Attributes::set(attrs, "emoji.attribute", StringValue("ğŸš€ğŸŒğŸ’»ğŸ“Š"))
  
  // éªŒè¯ Unicode å±æ€§å€¼è·å–
  @assertion.assert_eq(Attributes::get(attrs, "chinese.attribute"), Some(StringValue("ä¸­æ–‡å±æ€§å€¼")))?
  @assertion.assert_eq(Attributes::get(attrs, "japanese.attribute"), Some(StringValue("æ—¥æœ¬èªå±æ€§å€¤")))?
  @assertion.assert_eq(Attributes::get(attrs, "korean.attribute"), Some(StringValue("í•œêµ­ì–´ ì†ì„±ê°’")))?
  @assertion.assert_eq(Attributes::get(attrs, "arabic.attribute"), Some(StringValue("Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³Ù…Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©")))?
  @assertion.assert_eq(Attributes::get(attrs, "russian.attribute"), Some(StringValue("Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ğ° Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼")))?
  @assertion.assert_eq(Attributes::get(attrs, "hebrew.attribute"), Some(StringValue("×¢×¨×š ×ª×›×•× ×” ×‘×¢×‘×¨×™×ª")))?
  @assertion.assert_eq(Attributes::get(attrs, "thai.attribute"), Some(StringValue("à¸„à¹ˆà¸²à¹à¸­à¸•à¸—à¸£à¸´à¸šà¸´à¸§à¸•à¹Œà¸ à¸²à¸©à¸²à¹„à¸—à¸¢")))?
  @assertion.assert_eq(Attributes::get(attrs, "hindi.attribute"), Some(StringValue("à¤¹à¤¿à¤‚à¤¦à¥€ à¤µà¤¿à¤¶à¥‡à¤·à¤¤à¤¾ à¤®à¤¾à¤¨")))?
  @assertion.assert_eq(Attributes::get(attrs, "emoji.attribute"), Some(StringValue("ğŸš€ğŸŒğŸ’»ğŸ“Š")))?
}

test "internationalization_unicode_attribute_names" {
  // æµ‹è¯• Unicode å±æ€§åå¤„ç†
  let attrs = Attributes::new()
  
  // è®¾ç½®å„ç§ Unicode å­—ç¬¦çš„å±æ€§å
  Attributes::set(attrs, "ä¸­æ–‡å±æ€§", StringValue("Chinese value"))
  Attributes::set(attrs, "æ—¥æœ¬èªå±æ€§", StringValue("Japanese value"))
  Attributes::set(attrs, "í•œêµ­ì–´ì†ì„±", StringValue("Korean value"))
  Attributes::set(attrs, "å±æ€§å.Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", StringValue("Arabic value"))
  Attributes::set(attrs, "Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚.Ñ€ÑƒÑÑĞºĞ¸Ğ¹", StringValue("Russian value"))
  Attributes::set(attrs, "×ª×›×•× ×”.×¢×‘×¨×™×ª", StringValue("Hebrew value"))
  Attributes::set(attrs, "à¹à¸­à¸•à¸—à¸£à¸´à¸šà¸´à¸§à¸•à¹Œ.à¹„à¸—à¸¢", StringValue("Thai value"))
  Attributes::set(attrs, "à¤µà¤¿à¤¶à¥‡à¤·à¤¤à¤¾.à¤¹à¤¿à¤‚à¤¦à¥€", StringValue("Hindi value"))
  Attributes::set(attrs, "ğŸš€.emoji.attribute", StringValue("Emoji value"))
  
  // éªŒè¯ Unicode å±æ€§åè·å–
  @assertion.assert_eq(Attributes::get(attrs, "ä¸­æ–‡å±æ€§"), Some(StringValue("Chinese value")))?
  @assertion.assert_eq(Attributes::get(attrs, "æ—¥æœ¬èªå±æ€§"), Some(StringValue("Japanese value")))?
  @assertion.assert_eq(Attributes::get(attrs, "í•œêµ­ì–´ì†ì„±"), Some(StringValue("Korean value")))?
  @assertion.assert_eq(Attributes::get(attrs, "å±æ€§å.Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"), Some(StringValue("Arabic value")))?
  @assertion.assert_eq(Attributes::get(attrs, "Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚.Ñ€ÑƒÑÑĞºĞ¸Ğ¹"), Some(StringValue("Russian value")))?
  @assertion.assert_eq(Attributes::get_attrs, "×ª×›×•× ×”.×¢×‘×¨×™×ª"), Some(StringValue("Hebrew value")))?
  @assertion.assert_eq(Attributes::get(attrs, "à¹à¸­à¸•à¸—à¸£à¸´à¸šà¸´à¸§à¸•à¹Œ.à¹„à¸—à¸¢"), Some(StringValue("Thai value")))?
  @assertion.assert_eq(Attributes::get(attrs, "à¤µà¤¿à¤¶à¥‡à¤·à¤¤à¤¾.à¤¹à¤¿à¤‚à¤¦à¥€"), Some(StringValue("Hindi value")))?
  @assertion.assert_eq(Attributes::get(attrs, "ğŸš€.emoji.attribute"), Some(StringValue("Emoji value")))?
}

test "internationalization_unicode_span_operations" {
  // æµ‹è¯• Unicode Span æ“ä½œ
  let span_ctx = SpanContext::new("è·Ÿè¸ª123", "è·¨åº¦456", true, "")
  let span = Span::new("æµ‹è¯•æ“ä½œ", Server, span_ctx)
  
  // éªŒè¯ Unicode Span åç§°
  @assertion.assert_eq(Span::name(span), "æµ‹è¯•æ“ä½œ")?
  
  // æ·»åŠ  Unicode äº‹ä»¶
  Span::add_event(span, "ä¸­æ–‡äº‹ä»¶", Some([
    ("ä¸­æ–‡é”®", StringValue("ä¸­æ–‡å€¼")),
    ("æ—¥æœ¬èªã‚­ãƒ¼", StringValue("æ—¥æœ¬èªå€¤")),
    ("í•œêµ­ì–´í‚¤", StringValue("í•œêµ­ì–´ê°’"))
  ]))
  
  // è®¾ç½® Unicode çŠ¶æ€
  Span::set_status(span, Ok, Some("æ“ä½œæˆåŠŸå®Œæˆ"))
  
  // éªŒè¯ Span å±æ€§
  @assertion.assert_eq(Span::name(span), "æµ‹è¯•æ“ä½œ")?
  @assertion.assert_eq(Span::kind(span), Server)?
  @assertion.assert_eq(Span::is_recording(span), true)?
}

test "internationalization_unicode_log_messages" {
  // æµ‹è¯• Unicode æ—¥å¿—æ¶ˆæ¯
  let provider = LoggerProvider::default()
  let logger = LoggerProvider::get_logger(provider, "å›½é™…åŒ–æ—¥å¿—å™¨")
  
  // åˆ›å»ºå„ç§è¯­è¨€çš„æ—¥å¿—è®°å½•
  let chinese_log = LogRecord::new(Info, "è¿™æ˜¯ä¸€æ¡ä¸­æ–‡æ—¥å¿—æ¶ˆæ¯")
  let japanese_log = LogRecord::new(Warn, "ã“ã‚Œã¯æ—¥æœ¬èªã®ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã™")
  let korean_log = LogRecord::new(Error, "ì´ê²ƒì€ í•œêµ­ì–´ ë¡œê·¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤")
  let arabic_log = LogRecord::new(Debug, "Ù‡Ø°Ù‡ Ø±Ø³Ø§Ù„Ø© Ø³Ø¬Ù„ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©")
  let russian_log = LogRecord::new(Fatal, "Ğ­Ñ‚Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ° Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼ ÑĞ·Ñ‹ĞºĞµ")
  let hebrew_log = LogRecord::new(Trace, "×–×•×”×™ ×”×•×“×¢×ª ×™×•××Ÿ ×‘×¢×‘×¨×™×ª")
  let thai_log = LogRecord::new(Info, "à¸™à¸µà¹ˆà¸„à¸·à¸­à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸šà¸±à¸™à¸—à¸¶à¸à¸ à¸²à¸©à¸²à¹„à¸—à¸¢")
  let hindi_log = LogRecord::new(Error, "à¤¯à¤¹ à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‡à¤‚ à¤²à¥‰à¤— à¤¸à¤‚à¤¦à¥‡à¤¶ à¤¹à¥ˆ")
  let emoji_log = LogRecord::new(Warn, "ğŸš€ ğŸŒ ğŸ’» ğŸ“Š ğŸ“ˆ")
  
  // å‘é€æ—¥å¿—è®°å½•
  Logger::emit(logger, chinese_log)
  Logger::emit(logger, japanese_log)
  Logger::emit(logger, korean_log)
  Logger::emit(logger, arabic_log)
  Logger::emit(logger, russian_log)
  Logger::emit(logger, hebrew_log)
  Logger::emit(logger, thai_log)
  Logger::emit(logger, hindi_log)
  Logger::emit(logger, emoji_log)
  
  // éªŒè¯æ—¥å¿—è®°å½•å±æ€§
  @assertion.assert_eq(LogRecord::severity_number(chinese_log), Info)?
  @assertion.assert_eq(LogRecord::body(chinese_log), Some("è¿™æ˜¯ä¸€æ¡ä¸­æ–‡æ—¥å¿—æ¶ˆæ¯"))?
  
  @assertion.assert_eq(LogRecord::severity_number(japanese_log), Warn)?
  @assertion.assert_eq(LogRecord::body(japanese_log), Some("ã“ã‚Œã¯æ—¥æœ¬èªã®ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã™"))?
  
  @assertion.assert_eq(LogRecord::severity_number(korean_log), Error)?
  @assertion.assert_eq(LogRecord::body(korean_log), Some("ì´ê²ƒì€ í•œêµ­ì–´ ë¡œê·¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤"))?
  
  @assertion.assert_eq(LogRecord::severity_number(arabic_log), Debug)?
  @assertion.assert_eq(LogRecord::body(arabic_log), Some("Ù‡Ø°Ù‡ Ø±Ø³Ø§Ù„Ø© Ø³Ø¬Ù„ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"))?
  
  @assertion.assert_eq(LogRecord::severity_number(russian_log), Fatal)?
  @assertion.assert_eq(LogRecord::body(russian_log), Some("Ğ­Ñ‚Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ° Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼ ÑĞ·Ñ‹ĞºĞµ"))?
  
  @assertion.assert_eq(LogRecord::severity_number(hebrew_log), Trace)?
  @assertion.assert_eq(LogRecord::body(hebrew_log), Some("×–×•×”×™ ×”×•×“×¢×ª ×™×•××Ÿ ×‘×¢×‘×¨×™×ª"))?
  
  @assertion.assert_eq(LogRecord::severity_number(thai_log), Info)?
  @assertion.assert_eq(LogRecord::body(thai_log), Some("à¸™à¸µà¹ˆà¸„à¸·à¸­à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸šà¸±à¸™à¸—à¸¶à¸à¸ à¸²à¸©à¸²à¹„à¸—à¸¢"))?
  
  @assertion.assert_eq(LogRecord::severity_number(hindi_log), Error)?
  @assertion.assert_eq(LogRecord::body(hindi_log), Some("à¤¯à¤¹ à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‡à¤‚ à¤²à¥‰à¤— à¤¸à¤‚à¤¦à¥‡à¤¶ à¤¹à¥ˆ"))?
  
  @assertion.assert_eq(LogRecord::severity_number(emoji_log), Warn)?
  @assertion.assert_eq(LogRecord::body(emoji_log), Some("ğŸš€ ğŸŒ ğŸ’» ğŸ“Š ğŸ“ˆ"))?
}

test "internationalization_unicode_context_operations" {
  // æµ‹è¯• Unicode ä¸Šä¸‹æ–‡æ“ä½œ
  let ctx = Context::root()
  
  // åˆ›å»ºå„ç§è¯­è¨€çš„ä¸Šä¸‹æ–‡é”®
  let chinese_key = ContextKey::new("ä¸­æ–‡é”®")
  let japanese_key = ContextKey::new("æ—¥æœ¬èªã‚­ãƒ¼")
  let korean_key = ContextKey::new("í•œêµ­ì–´í‚¤")
  let arabic_key = ContextKey::new("Ù…ÙØªØ§Ø­ Ø¹Ø±Ø¨ÙŠ")
  let russian_key = ContextKey::new("Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ĞºĞ»ÑÑ‡")
  let hebrew_key = ContextKey::new("××¤×ª×— ×¢×‘×¨×™")
  let thai_key = ContextKey::new("à¸„à¸µà¸¢à¹Œà¸ à¸²à¸©à¸²à¹„à¸—à¸¢")
  let hindi_key = ContextKey::new("à¤¹à¤¿à¤‚à¤¦à¥€ à¤•à¥à¤‚à¤œà¥€")
  let emoji_key = ContextKey::new("ğŸš€ğŸ”‘")
  
  // è®¾ç½®å„ç§è¯­è¨€çš„ä¸Šä¸‹æ–‡å€¼
  let ctx1 = Context::with_value(ctx, chinese_key, "ä¸­æ–‡å€¼")
  let ctx2 = Context::with_value(ctx1, japanese_key, "æ—¥æœ¬èªå€¤")
  let ctx3 = Context::with_value(ctx2, korean_key, "í•œêµ­ì–´ê°’")
  let ctx4 = Context::with_value(ctx3, arabic_key, "Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©")
  let ctx5 = Context::with_value(ctx4, russian_key, "Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ")
  let ctx6 = Context::with_value(ctx5, hebrew_key, "×¢×¨×š ×¢×‘×¨×™")
  let ctx7 = Context::with_value(ctx6, thai_key, "à¸„à¹ˆà¸²à¸ à¸²à¸©à¸²à¹„à¸—à¸¢")
  let ctx8 = Context::with_value(ctx7, hindi_key, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯")
  let ctx9 = Context::with_value(ctx8, emoji_key, "ğŸš€ğŸŒğŸ’»")
  
  // éªŒè¯å„ç§è¯­è¨€çš„ä¸Šä¸‹æ–‡å€¼è·å–
  @assertion.assert_eq(Context::get(ctx9, chinese_key), Some("ä¸­æ–‡å€¼"))?
  @assertion.assert_eq(Context::get(ctx9, japanese_key), Some("æ—¥æœ¬èªå€¤"))?
  @assertion.assert_eq(Context::get(ctx9, korean_key), Some("í•œêµ­ì–´ê°’"))?
  @assertion.assert_eq(Context::get(ctx9, arabic_key), Some("Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©"))?
  @assertion.assert_eq(Context::get(ctx9, russian_key), Some("Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ"))?
  @assertion.assert_eq(Context::get(ctx9, hebrew_key), Some("×¢×¨×š ×¢×‘×¨×™"))?
  @assertion.assert_eq(Context::get(ctx9, thai_key), Some("à¸„à¹ˆà¸²à¸ à¸²à¸©à¸²à¹„à¸—à¸¢"))?
  @assertion.assert_eq(Context::get(ctx9, hindi_key), Some("à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯"))?
  @assertion.assert_eq(Context::get(ctx9, emoji_key), Some("ğŸš€ğŸŒğŸ’»"))?
}

test "internationalization_unicode_baggage_operations" {
  // æµ‹è¯• Unicode Baggage æ“ä½œ
  let baggage = Baggage::new()
  
  // æ·»åŠ å„ç§è¯­è¨€çš„ Baggage æ¡ç›®
  let baggage1 = Baggage::set_entry(baggage, "ä¸­æ–‡é”®", "ä¸­æ–‡å€¼")
  let baggage2 = Baggage::set_entry(baggage1, "æ—¥æœ¬èªã‚­ãƒ¼", "æ—¥æœ¬èªå€¤")
  let baggage3 = Baggage::set_entry(baggage2, "í•œêµ­ì–´í‚¤", "í•œêµ­ì–´ê°’")
  let baggage4 = Baggage::set_entry(baggage3, "Ù…ÙØªØ§Ø­ Ø¹Ø±Ø¨ÙŠ", "Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©")
  let baggage5 = Baggage::set_entry(baggage4, "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ĞºĞ»ÑÑ‡", "Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ")
  let baggage6 = Baggage::set_entry(baggage5, "××¤×ª×— ×¢×‘×¨×™", "×¢×¨×š ×¢×‘×¨×™")
  let baggage7 = Baggage::set_entry(baggage6, "à¸„à¸µà¸¢à¹Œà¸ à¸²à¸©à¸²à¹„à¸—à¸¢", "à¸„à¹ˆà¸²à¸ à¸²à¸©à¸²à¹„à¸—à¸¢")
  let baggage8 = Baggage::set_entry(baggage7, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤•à¥à¤‚à¤œà¥€", "à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯")
  let baggage9 = Baggage::set_entry(baggage8, "ğŸš€ğŸ”‘", "ğŸš€ğŸŒğŸ’»")
  
  // éªŒè¯å„ç§è¯­è¨€çš„ Baggage æ¡ç›®è·å–
  @assertion.assert_eq(Baggage::get_entry(baggage9, "ä¸­æ–‡é”®"), Some("ä¸­æ–‡å€¼"))?
  @assertion.assert_eq(Baggage::get_entry(baggage9, "æ—¥æœ¬èªã‚­ãƒ¼"), Some("æ—¥æœ¬èªå€¤"))?
  @assertion.assert_eq(Baggage::get_entry(baggage9, "í•œêµ­ì–´í‚¤"), Some("í•œêµ­ì–´ê°’"))?
  @assertion.assert_eq(Baggage::get_entry(baggage9, "Ù…ÙØªØ§Ø­ Ø¹Ø±Ø¨ÙŠ"), Some("Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©"))?
  @assertion.assert_eq(Baggage::get_entry(baggage9, "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ĞºĞ»ÑÑ‡"), Some("Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ"))?
  @assertion.assert_eq(Baggage::get_entry(baggage9, "××¤×ª×— ×¢×‘×¨×™"), Some("×¢×¨×š ×¢×‘×¨×™"))?
  @assertion.assert_eq(Baggage::get_entry(baggage9, "à¸„à¸µà¸¢à¹Œà¸ à¸²à¸©à¸²à¹„à¸—à¸¢"), Some("à¸„à¹ˆà¸²à¸ à¸²à¸©à¸²à¹„à¸—à¸¢"))?
  @assertion.assert_eq(Baggage::get_entry(baggage9, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤•à¥à¤‚à¤œà¥€"), Some("à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯"))?
  @assertion.assert_eq(Baggage::get_entry(baggage9, "ğŸš€ğŸ”‘"), Some("ğŸš€ğŸŒğŸ’»"))?
}

test "internationalization_unicode_resource_operations" {
  // æµ‹è¯• Unicode èµ„æºæ“ä½œ
  let resource = Resource::new()
  
  // åˆ›å»ºåŒ…å«å„ç§è¯­è¨€å±æ€§çš„èµ„æº
  let resource_with_unicode = Resource::with_attributes(resource, [
    // ä¸­æ–‡å±æ€§
    ("æœåŠ¡åç§°", StringValue("æ”¯ä»˜æœåŠ¡")),
    ("æœåŠ¡ç‰ˆæœ¬", StringValue("1.0.0")),
    ("å®ä¾‹æ ‡è¯†", StringValue("å®ä¾‹-001")),
    
    // æ—¥æ–‡å±æ€§
    ("ã‚µãƒ¼ãƒ“ã‚¹å", StringValue("æ±ºæ¸ˆã‚µãƒ¼ãƒ“ã‚¹")),
    ("ã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³", StringValue("1.0.0")),
    ("ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ID", StringValue("ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹-001")),
    
    // éŸ©æ–‡å±æ€§
    ("ì„œë¹„ìŠ¤ ì´ë¦„", StringValue("ê²°ì œ ì„œë¹„ìŠ¤")),
    ("ì„œë¹„ìŠ¤ ë²„ì „", StringValue("1.0.0")),
    ("ì¸ìŠ¤í„´ìŠ¤ ID", StringValue("ì¸ìŠ¤í„´ìŠ¤-001")),
    
    // é˜¿æ‹‰ä¼¯æ–‡å±æ€§
    ("Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø©", StringValue("Ø®Ø¯Ù…Ø© Ø§Ù„Ø¯ÙØ¹")),
    ("Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø®Ø¯Ù…Ø©", StringValue("1.0.0")),
    ("Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø«ÙŠÙ„", StringValue("Ù…Ø«ÙŠÙ„-001")),
    
    // ä¿„æ–‡å±æ€§
    ("Ğ¸Ğ¼Ñ ÑĞ»ÑƒĞ¶Ğ±Ñ‹", StringValue("Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ½Ğ°Ñ ÑĞ»ÑƒĞ¶Ğ±Ğ°")),
    ("Ğ²ĞµÑ€ÑĞ¸Ñ ÑĞ»ÑƒĞ¶Ğ±Ñ‹", StringValue("1.0.0")),
    ("Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€Ğ°", StringValue("ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€-001")),
    
    // å¸Œä¼¯æ¥æ–‡å±æ€§
    ("×©× ×”×©×™×¨×•×ª", StringValue("×©×™×¨×•×ª ×ª×©×œ×•××™×")),
    ("×’×¨×¡×ª ×©×™×¨×•×ª", StringValue("1.0.0")),
    ("××–×”×” ××•×¤×¢", StringValue("××•×¤×¢-001")),
    
    // æ³°æ–‡å±æ€§
    ("à¸Šà¸·à¹ˆà¸­à¸šà¸£à¸´à¸à¸²à¸£", StringValue("à¸šà¸£à¸´à¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™")),
    ("à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™à¸šà¸£à¸´à¸à¸²à¸£", StringValue("1.0.0")),
    ("à¸£à¸«à¸±à¸ªà¸­à¸´à¸™à¸ªà¹à¸•à¸™à¸‹à¹Œ", StringValue("à¸­à¸´à¸™à¸ªà¹à¸•à¸™à¸‹à¹Œ-001")),
    
    // å°åœ°æ–‡å±æ€§
    ("à¤¸à¥‡à¤µà¤¾ à¤•à¤¾ à¤¨à¤¾à¤®", StringValue("à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤¸à¥‡à¤µà¤¾")),
    ("à¤¸à¥‡à¤µà¤¾ à¤¸à¤‚à¤¸à¥à¤•à¤°à¤£", StringValue("1.0.0")),
    ("à¤‡à¤‚à¤¸à¥à¤Ÿà¥‡à¤‚à¤¸ à¤†à¤ˆà¤¡à¥€", StringValue("à¤‡à¤‚à¤¸à¥à¤Ÿà¥‡à¤‚à¤¸-001")),
    
    // Emoji å±æ€§
    ("ğŸš€.service.name", StringValue("ğŸš€ Payment Service")),
    ("ğŸŒ.service.region", StringValue("ğŸŒ Global")),
    ("ğŸ’».service.platform", StringValue("ğŸ’» Multi-Platform"))
  ])
  
  // éªŒè¯å„ç§è¯­è¨€çš„èµ„æºå±æ€§è·å–
  @assertion.assert_eq(Resource::get_attribute(resource_with_unicode, "æœåŠ¡åç§°"), Some(StringValue("æ”¯ä»˜æœåŠ¡")))?
  @assertion.assert_eq(Resource::get_attribute(resource_with_unicode, "ã‚µãƒ¼ãƒ“ã‚¹å"), Some(StringValue("æ±ºæ¸ˆã‚µãƒ¼ãƒ“ã‚¹")))?
  @assertion.assert_eq(Resource::get_attribute(resource_with_unicode, "ì„œë¹„ìŠ¤ ì´ë¦„"), Some(StringValue("ê²°ì œ ì„œë¹„ìŠ¤")))?
  @assertion.assert_eq(Resource::get_attribute(resource_with_unicode, "Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø©"), Some(StringValue("Ø®Ø¯Ù…Ø© Ø§Ù„Ø¯ÙØ¹")))?
  @assertion.assert_eq(Resource::get_attribute(resource_with_unicode, "Ğ¸Ğ¼Ñ ÑĞ»ÑƒĞ¶Ğ±Ñ‹"), Some(StringValue("Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ½Ğ°Ñ ÑĞ»ÑƒĞ¶Ğ±Ğ°")))?
  @assertion.assert_eq(Resource::get_attribute(resource_with_unicode, "×©× ×”×©×™×¨×•×ª"), Some(StringValue("×©×™×¨×•×ª ×ª×©×œ×•××™×")))?
  @assertion.assert_eq(Resource::get_attribute(resource_with_unicode, "à¸Šà¸·à¹ˆà¸­à¸šà¸£à¸´à¸à¸²à¸£"), Some(StringValue("à¸šà¸£à¸´à¸à¸²à¸£à¸Šà¸³à¸£à¸°à¹€à¸‡à¸´à¸™")))?
  @assertion.assert_eq(Resource::get_attribute(resource_with_unicode, "à¤¸à¥‡à¤µà¤¾ à¤•à¤¾ à¤¨à¤¾à¤®"), Some(StringValue("à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤¸à¥‡à¤µà¤¾")))?
  @assertion.assert_eq(Resource::get_attribute(resource_with_unicode, "ğŸš€.service.name"), Some(StringValue("ğŸš€ Payment Service")))?
}

test "internationalization_unicode_metrics_operations" {
  // æµ‹è¯• Unicode æŒ‡æ ‡æ“ä½œ
  let provider = MeterProvider::default()
  let meter = MeterProvider::get_meter(provider, "å›½é™…åŒ–ä»ªè¡¨å™¨")
  
  // åˆ›å»ºå„ç§è¯­è¨€çš„æŒ‡æ ‡
  let chinese_counter = Meter::create_counter(meter, "ä¸­æ–‡è®¡æ•°å™¨")
  let japanese_counter = Meter::create_counter(meter, "æ—¥æœ¬èªã‚«ã‚¦ãƒ³ã‚¿ãƒ¼")
  let korean_counter = Meter::create_counter(meter, "í•œêµ­ì–´ ì¹´ìš´í„°")
  let arabic_counter = Meter::create_counter(meter, "Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ")
  let russian_counter = Meter::create_counter(meter, "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸Ğº")
  let hebrew_counter = Meter::create_counter(meter, "××•× ×” ×¢×‘×¨×™")
  let thai_counter = Meter::create_counter(meter, "à¸•à¸±à¸§à¸™à¸±à¸šà¸ à¸²à¸©à¸²à¹„à¸—à¸¢")
  let hindi_counter = Meter::create_counter(meter, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤•à¤¾à¤‰à¤‚à¤Ÿà¤°")
  let emoji_counter = Meter::create_counter(meter, "ğŸš€ğŸ“Šã‚«ã‚¦ãƒ³ã‚¿ãƒ¼")
  
  // è®°å½•æŒ‡æ ‡å€¼
  Counter::add(chinese_counter, 1.0)
  Counter::add(japanese_counter, 2.0)
  Counter::add(korean_counter, 3.0)
  Counter::add(arabic_counter, 4.0)
  Counter::add(russian_counter, 5.0)
  Counter::add(hebrew_counter, 6.0)
  Counter::add(thai_counter, 7.0)
  Counter::add(hindi_counter, 8.0)
  Counter::add(emoji_counter, 9.0)
  
  // éªŒè¯æŒ‡æ ‡åç§°
  @assertion.assert_eq(Instrument::name(Counter("ä¸­æ–‡è®¡æ•°å™¨", None, None)), "ä¸­æ–‡è®¡æ•°å™¨")?
  @assertion.assert_eq(Instrument::name(Counter("æ—¥æœ¬èªã‚«ã‚¦ãƒ³ã‚¿ãƒ¼", None, None)), "æ—¥æœ¬èªã‚«ã‚¦ãƒ³ã‚¿ãƒ¼")?
  @assertion.assert_eq(Instrument::name(Counter("í•œêµ­ì–´ ì¹´ìš´í„°", None, None)), "í•œêµ­ì–´ ì¹´ìš´í„°")?
  @assertion.assert_eq(Instrument::name(Counter("Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ", None, None)), "Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ")?
  @assertion.assert_eq(Instrument::name(Counter("Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸Ğº", None, None)), "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸Ğº")?
  @assertion.assert_eq(Instrument::name(Counter("××•× ×” ×¢×‘×¨×™", None, None)), "××•× ×” ×¢×‘×¨×™")?
  @assertion.assert_eq(Instrument::name(Counter("à¸•à¸±à¸§à¸™à¸±à¸šà¸ à¸²à¸©à¸²à¹„à¸—à¸¢", None, None)), "à¸•à¸±à¸§à¸™à¸±à¸šà¸ à¸²à¸©à¸²à¹„à¸—à¸¢")?
  @assertion.assert_eq(Instrument::name(Counter("à¤¹à¤¿à¤‚à¤¦à¥€ à¤•à¤¾à¤‰à¤‚à¤Ÿà¤°", None, None)), "à¤¹à¤¿à¤‚à¤¦à¥€ à¤•à¤¾à¤‰à¤‚à¤Ÿà¤°")?
  @assertion.assert_eq(Instrument::name(Counter("ğŸš€ğŸ“Šã‚«ã‚¦ãƒ³ã‚¿ãƒ¼", None, None)), "ğŸš€ğŸ“Šã‚«ã‚¦ãƒ³ã‚¿ãƒ¼")?
}

test "internationalization_unicode_propagation_operations" {
  // æµ‹è¯• Unicode ä¼ æ’­æ“ä½œ
  let carrier = TextMapCarrier::new()
  let ctx = Context::root()
  let propagator = CompositePropagator::new([W3CTraceContextPropagator::new()])
  
  // åˆ›å»ºåŒ…å« Unicode å€¼çš„ä¸Šä¸‹æ–‡
  let chinese_key = ContextKey::new("ä¸­æ–‡é”®")
  let ctx_with_chinese = Context::with_value(ctx, chinese_key, "ä¸­æ–‡å€¼")
  
  // æ³¨å…¥å’Œæå–ä¸Šä¸‹æ–‡
  CompositePropagator::inject(propagator, ctx_with_chinese, carrier)
  let extracted_ctx = CompositePropagator::extract(propagator, carrier)
  
  // éªŒè¯æå–çš„ä¸Šä¸‹æ–‡
  let extract_key = ContextKey::new("extracted")
  @assertion.assert_eq(Context::get(extracted_ctx, extract_key), Some("true"))?
  
  // éªŒè¯è½½ä½“ä¸­çš„ traceparent
  let traceparent = TextMapCarrier::get(carrier, "traceparent")
  @assertion.assert_eq(traceparent.is_some(), true)?
  
  // æµ‹è¯• Unicode è½½ä½“æ“ä½œ
  TextMapCarrier::set(carrier, "ä¸­æ–‡å¤´", "ä¸­æ–‡å€¼")
  TextMapCarrier::set(carrier, "æ—¥æœ¬èªãƒ˜ãƒƒãƒ€ãƒ¼", "æ—¥æœ¬èªå€¤")
  TextMapCarrier::set(carrier, "í•œêµ­ì–´ í—¤ë”", "í•œêµ­ì–´ê°’")
  TextMapCarrier::set(carrier, "Ø±Ø£Ø³ Ø¹Ø±Ø¨ÙŠ", "Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©")
  TextMapCarrier::set(carrier, "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº", "Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ")
  TextMapCarrier::set(carrier, "×›×•×ª×¨×ª ×¢×‘×¨×™×ª", "×¢×¨×š ×¢×‘×¨×™")
  TextMapCarrier::set(carrier, "à¸ªà¹ˆà¸§à¸™à¸«à¸±à¸§à¸ à¸²à¸©à¸²à¹„à¸—à¸¢", "à¸„à¹ˆà¸²à¸ à¸²à¸©à¸²à¹„à¸—à¸¢")
  TextMapCarrier::set(carrier, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤¹à¥‡à¤¡à¤°", "à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯")
  TextMapCarrier::set(carrier, "ğŸš€.header", "ğŸš€ğŸŒğŸ’»")
  
  // éªŒè¯ Unicode è½½ä½“å€¼è·å–
  @assertion.assert_eq(TextMapCarrier::get(carrier, "ä¸­æ–‡å¤´"), Some("ä¸­æ–‡å€¼"))?
  @assertion.assert_eq(TextMapCarrier::get(carrier, "æ—¥æœ¬èªãƒ˜ãƒƒãƒ€ãƒ¼"), Some("æ—¥æœ¬èªå€¤"))?
  @assertion.assert_eq(TextMapCarrier::get(carrier, "í•œêµ­ì–´ í—¤ë”"), Some("í•œêµ­ì–´ê°’"))?
  @assertion.assert_eq(TextMapCarrier::get(carrier, "Ø±Ø£Ø³ Ø¹Ø±Ø¨ÙŠ"), Some("Ù‚ÙŠÙ…Ø© Ø¹Ø±Ø¨ÙŠØ©"))?
  @assertion.assert_eq(TextMapCarrier::get(carrier, "Ñ€ÑƒÑÑĞºĞ¸Ğ¹ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº"), Some("Ñ€ÑƒÑÑĞºĞ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ"))?
  @assertion.assert_eq(TextMapCarrier::get(carrier, "×›×•×ª×¨×ª ×¢×‘×¨×™×ª"), Some("×¢×¨×š ×¢×‘×¨×™"))?
  @assertion.assert_eq(TextMapCarrier::get(carrier, "à¸ªà¹ˆà¸§à¸™à¸«à¸±à¸§à¸ à¸²à¸©à¸²à¹„à¸—à¸¢"), Some("à¸„à¹ˆà¸²à¸ à¸²à¸©à¸²à¹„à¸—à¸¢"))?
  @assertion.assert_eq(TextMapCarrier::get(carrier, "à¤¹à¤¿à¤‚à¤¦à¥€ à¤¹à¥‡à¤¡à¤°"), Some("à¤¹à¤¿à¤‚à¤¦à¥€ à¤®à¥‚à¤²à¥à¤¯"))?
  @assertion.assert_eq(TextMapCarrier::get(carrier, "ğŸš€.header"), Some("ğŸš€ğŸŒğŸ’»"))?
}