// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹
// è¦†ç›– azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½

test "add_function_edge_cases" {
  // æµ‹è¯•åŠ æ³•å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  assert_eq(0, add(0, 0))
  assert_eq(1000000, add(500000, 500000))
  assert_eq(-1000000, add(-500000, -500000))
  assert_eq(0, add(-500, 500))
}

test "multiply_function_comprehensive" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„ç»¼åˆæƒ…å†µ
  assert_eq(1, multiply(1, 1))
  assert_eq(-1, multiply(-1, 1))
  assert_eq(1, multiply(-1, -1))
  assert_eq(0, multiply(12345, 0))
  assert_eq(12345, multiply(1, 12345))
}

test "greet_function_various_inputs" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„å„ç§è¾“å…¥
  assert_eq_string("Hello, Alice!", greet("Alice"))
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, 123!", greet("123"))
  assert_eq_string("Hello, John Doe!", greet("John Doe"))
}

test "divide_with_ceil_comprehensive" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„ç»¼åˆæƒ…å†µ
  assert_eq(0, divide_with_ceil(0, 5))
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(2, divide_with_ceil(3, 2))
  assert_eq(0, divide_with_ceil(5, 0))  // é™¤æ•°ä¸º0çš„æƒ…å†µ
  assert_eq(-2, divide_with_ceil(-5, 3))
}

test "mathematical_properties" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨
  // åŠ æ³•äº¤æ¢å¾‹
  let a = 15
  let b = 27
  assert_eq(add(a, b), add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(multiply(a, b), multiply(b, a))
  
  // åˆ†é…å¾‹
  assert_eq(multiply(a, add(b, 3)), add(multiply(a, b), multiply(a, 3)))
}

test "real_world_scenarios" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯
  // è®¡ç®—æ€»ä»·ï¼šå•†å“ä»·æ ¼ * æ•°é‡ + ç¨è´¹
  let price = 25
  let quantity = 4
  let tax = 15
  let total = add(multiply(price, quantity), tax)
  assert_eq(115, total)
  
  // è®¡ç®—éœ€è¦çš„å®¹å™¨æ•°é‡
  let items = 47
  let container_capacity = 10
  let containers = divide_with_ceil(items, container_capacity)
  assert_eq(5, containers)
}

test "error_handling_and_edge_cases" {
  // æµ‹è¯•é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ
  assert_eq(0, divide_with_ceil(0, 0))  // 0é™¤ä»¥0
  assert_eq(0, divide_with_ceil(100, 0))  // æ­£æ•°é™¤ä»¥0
  assert_eq(0, divide_with_ceil(-100, 0))  // è´Ÿæ•°é™¤ä»¥0
  
  // æå€¼æµ‹è¯•
  assert_eq(2000000000, add(1000000000, 1000000000))
  assert_eq(1, multiply(1, 1))
}

test "string_operations_comprehensive" {
  // æµ‹è¯•å­—ç¬¦ä¸²æ“ä½œçš„ç»¼åˆæƒ…å†µ
  assert_eq_string("Hello, MoonBit!", greet("MoonBit"))
  assert_eq_string("Hello, ğŸŒ™!", greet("ğŸŒ™"))
  assert_eq_string("Hello, space test!", greet("space test"))
  assert_eq_string("Hello, special@#$%chars!", greet("special@#$%chars"))
}

test "complex_calculation_workflows" {
  // æµ‹è¯•å¤æ‚è®¡ç®—å·¥ä½œæµ
  // åœºæ™¯ï¼šè®¡ç®—è´­ç‰©è½¦çš„æ€»å®¹å™¨éœ€æ±‚
  let items_per_cart = [15, 8, 12, 7]
  let container_size = 10
  
  let cart1_containers = divide_with_ceil(items_per_cart[0], container_size)
  let cart2_containers = divide_with_ceil(items_per_cart[1], container_size)
  let cart3_containers = divide_with_ceil(items_per_cart[2], container_size)
  let cart4_containers = divide_with_ceil(items_per_cart[3], container_size)
  
  let total_containers = add(add(cart1_containers, cart2_containers), 
                             add(cart3_containers, cart4_containers))
  
  assert_eq(6, total_containers)  // 2+1+2+1 = 6
}

test "performance_and_stress" {
  // æµ‹è¯•æ€§èƒ½å’Œå‹åŠ›æƒ…å†µ
  // å¤§æ•°è¿ç®—
  let big_num1 = 50000
  let big_num2 = 50000
  assert_eq(2500000000, multiply(big_num1, big_num2))
  assert_eq(100000, add(big_num1, big_num2))
  
  // å¤æ‚åµŒå¥—è®¡ç®—
  let result = divide_with_ceil(multiply(add(10, 5), 3), 7)
  assert_eq(7, result)  // ceil((10+5)*3/7) = ceil(45/7) = 7
}