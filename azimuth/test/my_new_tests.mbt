// é¢å¤–çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•ï¼Œè¦†ç›– azimuth æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½

// å¯¼å…¥ä¸»æ¨¡å—ä¸­çš„å‡½æ•°
use azimuth

test "add_zero_handling" {
  // æµ‹è¯•åŠ æ³•ä¸­çš„é›¶å€¼å¤„ç†
  assert_eq(10, add(0, 10))
  assert_eq(10, add(10, 0))
  assert_eq(0, add(0, 0))
  assert_eq(-5, add(0, -5))
  assert_eq(-5, add(-5, 0))
}

test "multiply_zero_and_one" {
  // æµ‹è¯•ä¹˜æ³•ä¸­çš„é›¶å€¼å’Œä¸€å€¼å¤„ç†
  assert_eq(0, multiply(0, 5))
  assert_eq(0, multiply(5, 0))
  assert_eq(5, multiply(1, 5))
  assert_eq(5, multiply(5, 1))
  assert_eq(-5, multiply(-1, 5))
  assert_eq(-5, multiply(5, -1))
}

test "greet_special_characters" {
  // æµ‹è¯• greet å‡½æ•°å¤„ç†ç‰¹æ®Šå­—ç¬¦
  assert_eq_string("Hello, ğŸŒ™!", greet("ğŸŒ™"))
  assert_eq_string("Hello, \n!", greet("\n"))
  assert_eq_string("Hello, \t!", greet("\t"))
  assert_eq_string("Hello, \\!", greet("\\"))
  assert_eq_string("Hello, \"!", greet("\""))
}

test "add_overflow_protection" {
  // æµ‹è¯•åŠ æ³•çš„æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æ­£æº¢å‡º
  assert_eq(max_val, add(max_val, 1))
  assert_eq(max_val, add(max_val, max_val))
  
  // æµ‹è¯•è´Ÿæº¢å‡º
  assert_eq(min_val, add(min_val, -1))
  assert_eq(min_val, add(min_val, min_val))
}

test "multiply_overflow_protection" {
  // æµ‹è¯•ä¹˜æ³•çš„æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æ­£æº¢å‡º
  assert_eq(max_val, multiply(46341, 46341))
  assert_eq(max_val, multiply(max_val, 2))
  
  // æµ‹è¯•è´Ÿæº¢å‡º
  assert_eq(min_val, multiply(-46341, 46341))
  assert_eq(min_val, multiply(min_val, 2))
}

test "min_value_special_cases" {
  // æµ‹è¯•æœ€å°å€¼çš„ç‰¹æ®Šæƒ…å†µ
  let min_val = -2147483648
  
  // åŠ æ³•æµ‹è¯•
  assert_eq(min_val, add(min_val, 0))
  assert_eq(min_val, add(0, min_val))
  assert_eq(min_val, add(min_val, -1))
  
  // ä¹˜æ³•æµ‹è¯•
  assert_eq(min_val, multiply(min_val, 1))
  assert_eq(min_val, multiply(1, min_val))
  assert_eq(min_val, multiply(min_val, -1))
}

test "string_empty_and_whitespace" {
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²å’Œç©ºç™½å­—ç¬¦
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello,  !", greet(" "))
  assert_eq_string("Hello,   !", greet("  "))
  assert_eq_string("Hello, \t!", greet("\t"))
  assert_eq_string("Hello, \n!", greet("\n"))
}

test "complex_arithmetic_combinations" {
  // æµ‹è¯•å¤æ‚çš„ç®—æœ¯ç»„åˆ
  let a = 100
  let b = 50
  let c = 25
  
  // æµ‹è¯•ç»„åˆè¿ç®—ï¼š(a + b) * c
  let result1 = multiply(add(a, b), c)
  assert_eq(3750, result1)
  
  // æµ‹è¯•ç»„åˆè¿ç®—ï¼ša * (b + c)
  let result2 = multiply(a, add(b, c))
  assert_eq(7500, result2)
  
  // æµ‹è¯•ç»„åˆè¿ç®—ï¼š(a * b) + (a * c)
  let result3 = add(multiply(a, b), multiply(a, c))
  assert_eq(7500, result3)
}