// å¢å¼ºç»¼åˆæµ‹è¯•ç”¨ä¾‹
// ä¸º Azimuth æ•°å­¦åº“æ·»åŠ é«˜è´¨é‡æµ‹è¯•è¦†ç›–
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

test "add_function_boundary_conditions" {
  // æµ‹è¯• add å‡½æ•°çš„è¾¹ç•Œæ¡ä»¶
  @azimuth.assert_eq(Int.max_value(), @azimuth.add(Int.max_value() - 1, 1))
  @azimuth.assert_eq(Int.min_value(), @azimuth.add(Int.min_value() + 1, -1))
  @azimuth.assert_eq(0, @azimuth.add(Int.max_value(), Int.min_value() + 1))
  @azimuth.assert_eq(1, @azimuth.add(Int.max_value(), Int.min_value() + 2))
}

test "multiply_function_edge_cases" {
  // æµ‹è¯• multiply å‡½æ•°çš„è¾¹ç•Œå’Œç‰¹æ®Šæƒ…å†µ
  @azimuth.assert_eq(0, @azimuth.multiply(0, Int.max_value()))
  @azimuth.assert_eq(0, @azimuth.multiply(0, Int.min_value()))
  @azimuth.assert_eq(Int.max_value(), @azimuth.multiply(1, Int.max_value()))
  @azimuth.assert_eq(Int.min_value(), @azimuth.multiply(1, Int.min_value()))
  @azimuth.assert_eq(Int.max_value(), @azimuth.multiply(-1, Int.min_value()))
}

test "divide_with_ceil_comprehensive" {
  // å…¨é¢æµ‹è¯• divide_with_ceil å‡½æ•°
  // æ­£æ•°é™¤æ³•
  @azimuth.assert_eq(3, @azimuth.divide_with_ceil(8, 3))
  @azimuth.assert_eq(2, @azimuth.divide_with_ceil(6, 3))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(1, 3))
  
  // è´Ÿæ•°é™¤æ³•
  @azimuth.assert_eq(-2, @azimuth.divide_with_ceil(-7, 3))
  @azimuth.assert_eq(-2, @azimuth.divide_with_ceil(7, -3))
  @azimuth.assert_eq(3, @azimuth.divide_with_ceil(-7, -3))
  
  // é™¤é›¶ä¿æŠ¤
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(5, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(-5, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 0))
}

test "greet_function_unicode_handling" {
  // æµ‹è¯• greet å‡½æ•°çš„ Unicode å­—ç¬¦ä¸²å¤„ç†
  @azimuth.assert_eq_string("Hello, ğŸŒ™!", @azimuth.greet("ğŸŒ™"))
  @azimuth.assert_eq_string("Hello, Î±Î²Î³!", @azimuth.greet("Î±Î²Î³"))
  @azimuth.assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", @azimuth.greet("ä¸­æ–‡æµ‹è¯•"))
  @azimuth.assert_eq_string("Hello, ğŸš€ğŸŒŸ!", @azimuth.greet("ğŸš€ğŸŒŸ"))
  @azimuth.assert_eq_string("Hello, space!", @azimuth.greet("space"))
}

test "business_scenario_calculations" {
  // æµ‹è¯•ä¸šåŠ¡åœºæ™¯è®¡ç®—
  // è´­ç‰©è½¦è®¡ç®—ï¼šå•†å“ä»·æ ¼ Ã— æ•°é‡ + ç¨è´¹ + è¿è´¹
  let unit_price = 29
  let quantity = 3
  let tax_rate = 8
  let shipping = 12
  
  let subtotal = @azimuth.multiply(unit_price, quantity)
  let tax = @azimuth.divide_with_ceil(@azimuth.multiply(subtotal, tax_rate), 100)
  let total = @azimuth.add(@azimuth.add(subtotal, tax), shipping)
  
  @azimuth.assert_eq(87, subtotal)
  @azimuth.assert_eq(7, tax)
  @azimuth.assert_eq(106, total)
}

test "mathematical_identities" {
  // æµ‹è¯•æ•°å­¦æ’ç­‰å¼
  let x = 42
  let y = 17
  
  // åŠ æ³•å•ä½å…ƒ
  @azimuth.assert_eq(x, @azimuth.add(x, 0))
  @azimuth.assert_eq(y, @azimuth.add(0, y))
  
  // ä¹˜æ³•å•ä½å…ƒ
  @azimuth.assert_eq(x, @azimuth.multiply(x, 1))
  @azimuth.assert_eq(y, @azimuth.multiply(1, y))
  
  // ä¹˜æ³•é›¶å…ƒ
  @azimuth.assert_eq(0, @azimuth.multiply(x, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, y))
  
  // åŠ æ³•ç»“åˆå¾‹
  @azimuth.assert_eq(@azimuth.add(@azimuth.add(x, y), 5), @azimuth.add(x, @azimuth.add(y, 5)))
}

test "complex_expression_evaluation" {
  // æµ‹è¯•å¤æ‚è¡¨è¾¾å¼æ±‚å€¼
  // è®¡ç®—ï¼š(a * b) + (c / d) - eï¼Œå…¶ä¸­é™¤æ³•ä½¿ç”¨å‘ä¸Šå–æ•´
  let a = 15
  let b = 4
  let c = 20
  let d = 6
  let e = 8
  
  let product = @azimuth.multiply(a, b)
  let quotient = @azimuth.divide_with_ceil(c, d)
  let sum = @azimuth.add(product, quotient)
  let result = @azimuth.add(sum, -e)
  
  @azimuth.assert_eq(60, product)
  @azimuth.assert_eq(4, quotient)
  @azimuth.assert_eq(64, sum)
  @azimuth.assert_eq(56, result)
}

test "error_handling_and_robustness" {
  // æµ‹è¯•é”™è¯¯å¤„ç†å’Œå¥å£®æ€§
  // å¤§æ•°è¿ç®—ç¨³å®šæ€§
  let big_num = 10000
  @azimuth.assert_eq(20000, @azimuth.add(big_num, big_num))
  @azimuth.assert_eq(100000000, @azimuth.multiply(big_num, big_num))
  
  // æ··åˆæ­£è´Ÿæ•°è¿ç®—
  @azimuth.assert_eq(0, @azimuth.add(500, -500))
  @azimuth.assert_eq(-250000, @azimuth.multiply(500, -500))
  @azimuth.assert_eq(-166, @azimuth.divide_with_ceil(-500, 3))
}