// Azimuth é™„åŠ æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•
// è¦†ç›–å„ç§è¾¹ç•Œæƒ…å†µå’Œå®é™…åº”ç”¨åœºæ™¯

test "divide_with_ceil_basic" {
  // æµ‹è¯•åŸºæœ¬çš„å‘ä¸Šå–æ•´é™¤æ³•
  @azimuth.assert_eq(3, @azimuth.divide_with_ceil(10, 3))
  @azimuth.assert_eq(3, @azimuth.divide_with_ceil(9, 3))
  @azimuth.assert_eq(4, @azimuth.divide_with_ceil(11, 3))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(2, 5))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(5, 5))
}

test "divide_with_ceil_negative" {
  // æµ‹è¯•è´Ÿæ•°çš„å‘ä¸Šå–æ•´é™¤æ³•
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-10, 3))
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-9, 3))
  @azimuth.assert_eq(-4, @azimuth.divide_with_ceil(-11, 3))
  @azimuth.assert_eq(3, @azimuth.divide_with_ceil(10, -3))
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-10, -3))
}

test "greet_unicode_and_special_chars" {
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦å’Œç‰¹æ®Šå­—ç¬¦çš„é—®å€™
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
  @azimuth.assert_eq_string("Hello, \n\t!", @azimuth.greet("\n\t"))
  @azimuth.assert_eq_string("Hello, \"quote\"!", @azimuth.greet("\"quote\""))
}

test "mathematical_properties" {
  // æµ‹è¯•æ•°å­¦è¿ç®—çš„æ€§è´¨
  let a = 15
  let b = 7
  let c = 3
  
  // åŠ æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.multiply(a, b), @azimuth.multiply(b, a))
  
  // åŠ æ³•ç»“åˆå¾‹ï¼ˆåˆ†æ­¥è®¡ç®—ï¼‰
  let sum_ab = @azimuth.add(a, b)
  let sum_abc = @azimuth.add(sum_ab, c)
  let sum_bc = @azimuth.add(b, c)
  let sum_bca = @azimuth.add(a, sum_bc)
  @azimuth.assert_eq(sum_abc, sum_bca)
}

test "extreme_values" {
  // æµ‹è¯•æå€¼æƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼çš„è¿ç®—
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 0))
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 1))
  
  // æœ€å°å€¼çš„è¿ç®—
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 1))
  
  // è¾¹ç•Œå€¼ç›¸åŠ 
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
}

test "mixed_operations" {
  // æµ‹è¯•æ··åˆè¿ç®—
  let a = 10
  let b = 3
  let c = 2
  
  // å…ˆåŠ åä¹˜
  let sum = @azimuth.add(a, b)
  let result1 = @azimuth.multiply(sum, c)
  @azimuth.assert_eq(26, result1)  // (10 + 3) * 2 = 26
  
  // å…ˆä¹˜ååŠ 
  let product = @azimuth.multiply(a, b)
  let result2 = @azimuth.add(product, c)
  @azimuth.assert_eq(32, result2)  // 10 * 3 + 2 = 32
  
  // ä½¿ç”¨é™¤æ³•çš„å¤åˆè¿ç®—
  let dividend = @azimuth.add(a, b)
  let quotient = @azimuth.divide_with_ceil(dividend, c)
  @azimuth.assert_eq(7, quotient)  // ceil((10 + 3) / 2) = 7
}

test "error_conditions" {
  // æµ‹è¯•é”™è¯¯æ¡ä»¶å’Œè¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æº¢å‡ºæƒ…å†µ
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -1))
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 2))
  
  // æµ‹è¯•é›¶å€¼è¿ç®—
  @azimuth.assert_eq(0, @azimuth.multiply(0, max_val))
  @azimuth.assert_eq(0, @azimuth.multiply(min_val, 0))
  @azimuth.assert_eq(5, @azimuth.add(5, 0))
  @azimuth.assert_eq(-3, @azimuth.add(0, -3))
}

test "practical_scenarios" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯
  // åœºæ™¯1ï¼šè®¡ç®—è´­ç‰©è½¦æ€»ä»·ï¼ˆå¸¦æº¢å‡ºä¿æŠ¤ï¼‰
  let item1_price = 199
  let item2_price = 299
  let item3_price = 599
  let total = @azimuth.add(@azimuth.add(item1_price, item2_price), item3_price)
  @azimuth.assert_eq(1097, total)
  
  // åœºæ™¯2ï¼šè®¡ç®—è®¢å•æ€»ä»·ï¼ˆæ•°é‡Ã—å•ä»·ï¼‰
  let quantity = 7
  let unit_price = 85
  let order_total = @azimuth.multiply(quantity, unit_price)
  @azimuth.assert_eq(595, order_total)
  
  // åœºæ™¯3ï¼šè®¡ç®—æ‰€éœ€åŒ…è£…ç®±æ•°é‡ï¼ˆå‘ä¸Šå–æ•´ï¼‰
  let total_items = 25
  let items_per_box = 6
  let boxes_needed = @azimuth.divide_with_ceil(total_items, items_per_box)
  @azimuth.assert_eq(5, boxes_needed)
  
  // åœºæ™¯4ï¼šç”Ÿæˆä¸ªæ€§åŒ–é—®å€™
  let customer_name = "å¼ ä¸‰"
  let greeting = @azimuth.greet(customer_name)
  @azimuth.assert_eq_string("Hello, å¼ ä¸‰!", greeting)
}