// é¢å¤–çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯•é¡¹ç›®çš„å„ç§åŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

test "large_number_computations" {
  // æµ‹è¯•å¤§æ•°è¿ç®—
  let large_num1 = 1000000
  let large_num2 = 2000000
  
  // å¤§æ•°ç›¸åŠ 
  let sum_result = @azimuth.add(large_num1, large_num2)
  @azimuth.assert_eq(3000000, sum_result)
  
  // å¤§æ•°ç›¸ä¹˜
  let product_result = @azimuth.multiply(large_num1, 2)
  @azimuth.assert_eq(2000000, product_result)
  
  // å¤§æ•°ä¸è¾¹ç•Œå€¼è¿ç®—
  let max_val = 2147483647
  let large_sum = @azimuth.add(max_val, -1000000)
  @azimuth.assert_eq(2147483647, large_sum)  // åº”è¯¥è¢«é™åˆ¶åœ¨æœ€å¤§å€¼
}

test "complex_string_processing" {
  // æµ‹è¯•å¤æ‚å­—ç¬¦ä¸²å¤„ç†
  // æµ‹è¯•åŒ…å«å„ç§ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²
  let special_chars = "!@#$%^&*()_+-=[]{}|;':\",./<>?"
  let result1 = @azimuth.greet(special_chars)
  @azimuth.assert_eq_string("Hello, !@#$%^&*()_+-=[]{}|;':\",./<>?!", result1)
  
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„å­—ç¬¦ä¸²
  let unicode_str = "ğŸŒŸMoonBitğŸš€"
  let result2 = @azimuth.greet(unicode_str)
  @azimuth.assert_eq_string("Hello, ğŸŒŸMoonBitğŸš€!", result2)
  
  // æµ‹è¯•åŒ…å«æ•°å­—å’Œå­—æ¯æ··åˆçš„å­—ç¬¦ä¸²
  let mixed_str = "User2023ProjectX"
  let result3 = @azimuth.greet(mixed_str)
  @azimuth.assert_eq_string("Hello, User2023ProjectX!", result3)
}

test "mathematical_formulas" {
  // æµ‹è¯•æ•°å­¦å…¬å¼åº”ç”¨
  // è®¡ç®—åœ†çš„é¢ç§¯ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼šÏ€ Ã— rÂ² â‰ˆ 3 Ã— rÂ²
  let radius = 10
  let circle_area = @azimuth.multiply(3, @azimuth.multiply(radius, radius))
  @azimuth.assert_eq(300, circle_area)
  
  // è®¡ç®—ç­‰å·®æ•°åˆ—çš„å’Œï¼šn Ã— (é¦–é¡¹ + æœ«é¡¹) / 2
  let n = 10
  let first_term = 1
  let last_term = 10
  let arithmetic_sum = @azimuth.multiply(n, @azimuth.add(first_term, last_term)) / 2
  @azimuth.assert_eq(55, arithmetic_sum)
  
  // è®¡ç®—å¹³æ–¹å’Œï¼š1Â² + 2Â² + 3Â² + 4Â² + 5Â²
  let square_sum = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.multiply(1, 1), @azimuth.multiply(2, 2)), @azimuth.multiply(3, 3)), @azimuth.multiply(4, 4)), @azimuth.multiply(5, 5))
  @azimuth.assert_eq(55, square_sum)
}

test "business_calculations" {
  // æµ‹è¯•å®é™…ä¸šåŠ¡åœºæ™¯è®¡ç®—
  // è®¡ç®—å•†å“æ€»ä»·ï¼ˆå«æŠ˜æ‰£å’Œç¨è´¹ï¼‰
  let unit_price = 199
  let quantity = 3
  let discount_rate = 10  // 10%æŠ˜æ‰£
  let tax_rate = 8        // 8%ç¨è´¹
  
  // è®¡ç®—å°è®¡
  let subtotal = @azimuth.multiply(unit_price, quantity)
  // è®¡ç®—æŠ˜æ‰£é‡‘é¢
  let discount_amount = @azimuth.multiply(subtotal, discount_rate) / 100
  // è®¡ç®—æŠ˜åä»·æ ¼
  let discounted_price = @azimuth.add(subtotal, -discount_amount)
  // è®¡ç®—ç¨è´¹
  let tax_amount = @azimuth.multiply(discounted_price, tax_rate) / 100
  // è®¡ç®—æœ€ç»ˆæ€»ä»·
  let final_price = @azimuth.add(discounted_price, tax_amount)
  
  @azimuth.assert_eq(619, final_price)  // 199*3 - 10% + 8% = 619
}

test "edge_case_combinations" {
  // æµ‹è¯•è¾¹ç•Œæ¡ä»¶ç»„åˆ
  let max_val = 2147483647
  let min_val = -2147483648
  let zero = 0
  
  // æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—ç»„åˆ
  let result1 = @azimuth.add(max_val, min_val)
  @azimuth.assert_eq(-1, result1)
  
  // æœ€å¤§å€¼ä¸è‡ªèº«çš„è¿ç®—
  let result2 = @azimuth.add(max_val, max_val)
  @azimuth.assert_eq(max_val, result2)  // åº”è¯¥è¢«é™åˆ¶åœ¨æœ€å¤§å€¼
  
  // æœ€å°å€¼ä¸è‡ªèº«çš„è¿ç®—
  let result3 = @azimuth.add(min_val, min_val)
  @azimuth.assert_eq(min_val, result3)  // åº”è¯¥è¢«é™åˆ¶åœ¨æœ€å°å€¼
  
  // é›¶ä¸è¾¹ç•Œå€¼çš„è¿ç®—
  let result4 = @azimuth.multiply(zero, max_val)
  @azimuth.assert_eq(0, result4)
  
  let result5 = @azimuth.multiply(zero, min_val)
  @azimuth.assert_eq(0, result5)
}

test "error_handling_scenarios" {
  // æµ‹è¯•é”™è¯¯å¤„ç†åœºæ™¯
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æº¢å‡ºä¿æŠ¤
  let overflow_add = @azimuth.add(max_val, 1)
  @azimuth.assert_eq(max_val, overflow_add)
  
  let underflow_add = @azimuth.add(min_val, -1)
  @azimuth.assert_eq(min_val, underflow_add)
  
  let overflow_mul = @azimuth.multiply(max_val, 2)
  @azimuth.assert_eq(max_val, overflow_mul)
  
  // æµ‹è¯•ç‰¹æ®Šå€¼çš„ä¹˜æ³•
  let special_mul = @azimuth.multiply(min_val, -1)
  @azimuth.assert_eq(min_val, special_mul)
  
  // æµ‹è¯•æ–­è¨€å‡½æ•°
  @azimuth.assert_true(true)
  @azimuth.assert_false(false)
  @azimuth.assert_eq(42, 42)
  @azimuth.assert_eq_string("test", "test")
}

test "performance_calculations" {
  // æµ‹è¯•æ€§èƒ½ç›¸å…³è®¡ç®—
  // æ¨¡æ‹Ÿå¤§é‡æ•°æ®çš„ç´¯åŠ 
  let base_value = 100
  let multiplier = 10000
  
  // ä½¿ç”¨å…¬å¼ï¼šn Ã— (n + 1) / 2 Ã— base_value
  let sum_result = @azimuth.multiply(multiplier, @azimuth.add(multiplier, 1)) / 2
  let total_sum = @azimuth.multiply(sum_result, base_value) / 10000  // ç¼©æ”¾ç»“æœ
  
  @azimuth.assert_eq(50005000, total_sum)
  
  // æ¨¡æ‹ŸæŒ‡æ•°å¢é•¿è®¡ç®—
  let initial_value = 2
  let periods = 10
  let growth_rate = 2
  
  // è®¡ç®—ï¼šinitial_value Ã— growth_rate^periods
  let exponential_result = @azimuth.multiply(initial_value, @azimuth.multiply(@azimuth.multiply(@azimuth.multiply(2, 2), @azimuth.multiply(2, 2)), @azimuth.multiply(2, 2)))
  @azimuth.assert_eq(2048, exponential_result)
}

test "algorithm_implementation" {
  // æµ‹è¯•ç®€å•ç®—æ³•å®ç°
  // è®¡ç®—é˜¶ä¹˜ï¼š5! = 5 Ã— 4 Ã— 3 Ã— 2 Ã— 1
  let factorial_5 = @azimuth.multiply(5, @azimuth.multiply(4, @azimuth.multiply(3, @azimuth.multiply(2, 1))))
  @azimuth.assert_eq(120, factorial_5)
  
  // è®¡ç®—å¹‚ï¼š2^6 = 2 Ã— 2 Ã— 2 Ã— 2 Ã— 2 Ã— 2
  let power_2_6 = @azimuth.multiply(@azimuth.multiply(@azimuth.multiply(2, 2), @azimuth.multiply(2, 2)), @azimuth.multiply(2, 2))
  @azimuth.assert_eq(64, power_2_6)
  
  // è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—ç¬¬8é¡¹ï¼šF(8) = 21
  let fib_8 = @azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(@azimuth.add(1, 1), 2), 3), 5), 8), 13), 21)
  @azimuth.assert_eq(21, fib_8)
}

test "data_conversion_simulation" {
  // æµ‹è¯•æ•°æ®ç±»å‹è½¬æ¢æ¨¡æ‹Ÿ
  // æ¨¡æ‹Ÿå¸ƒå°”å€¼åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢
  let bool_true = "true"
  let bool_false = "false"
  
  @azimuth.assert_eq_string("Hello, true!", @azimuth.greet(bool_true))
  @azimuth.assert_eq_string("Hello, false!", @azimuth.greet(bool_false))
  
  // æ¨¡æ‹Ÿæ•°å­—åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢
  let number_str = "12345"
  @azimuth.assert_eq_string("Hello, 12345!", @azimuth.greet(number_str))
  
  // æ¨¡æ‹Ÿæ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²
  let date_str = "2023-12-25"
  let time_str = "14:30:00"
  
  @azimuth.assert_eq_string("Hello, 2023-12-25!", @azimuth.greet(date_str))
  @azimuth.assert_eq_string("Hello, 14:30:00!", @azimuth.greet(time_str))
}

test "composite_operations" {
  // æµ‹è¯•å¤åˆè¿ç®—
  // åœºæ™¯ï¼šè®¡ç®—ç­çº§æˆç»©ç»Ÿè®¡
  let student_count = 25
  let math_avg = 85
  let english_avg = 78
  let science_avg = 92
  
  // è®¡ç®—ä¸‰ç§‘æ€»åˆ†
  let total_score = @azimuth.add(@azimuth.add(math_avg, english_avg), science_avg)
  @azimuth.assert_eq(255, total_score)
  
  // è®¡ç®—å¹³å‡åˆ†
  let average_score = total_score / 3
  @azimuth.assert_eq(85, average_score)
  
  // è®¡ç®—åŠ æƒå¹³å‡ï¼ˆæ•°å­¦40%ï¼Œè‹±è¯­30%ï¼Œç§‘å­¦30%ï¼‰
  let math_weighted = @azimuth.multiply(math_avg, 40) / 100
  let english_weighted = @azimuth.multiply(english_avg, 30) / 100
  let science_weighted = @azimuth.multiply(science_avg, 30) / 100
  let weighted_average = @azimuth.add(@azimuth.add(math_weighted, english_weighted), science_weighted)
  @azimuth.assert_eq(85, weighted_average)
  
  // è®¡ç®—æ€»åˆ†ï¼ˆå¹³å‡åˆ† Ã— ç§‘ç›®æ•°ï¼‰
  let total_from_avg = @azimuth.multiply(average_score, 3)
  @azimuth.assert_eq(255, total_from_avg)
}