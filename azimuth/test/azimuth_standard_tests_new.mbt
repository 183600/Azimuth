// Azimuth é¡¹ç›®æ ‡å‡†æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œè¦†ç›–é¡¹ç›®æ ¸å¿ƒåŠŸèƒ½

// åŸºç¡€ç®—æœ¯è¿ç®—æµ‹è¯•
test "basic_arithmetic_operations" {
  // æµ‹è¯•åŠ æ³•åŸºæœ¬è¿ç®—
  assert_eq(azimuth::add(2, 3), 5)
  assert_eq(azimuth::add(-1, 1), 0)
  assert_eq(azimuth::add(100, 200), 300)
  
  // æµ‹è¯•ä¹˜æ³•åŸºæœ¬è¿ç®—
  assert_eq(azimuth::multiply(4, 5), 20)
  assert_eq(azimuth::multiply(-2, 3), -6)
  assert_eq(azimuth::multiply(0, 10), 0)
}

// å­—ç¬¦ä¸²å¤„ç†æµ‹è¯•
test "string_greeting_functionality" {
  // æµ‹è¯•åŸºæœ¬é—®å€™åŠŸèƒ½
  assert_eq(azimuth::greet("Alice"), "Hello, Alice!")
  assert_eq(azimuth::greet("Bob"), "Hello, Bob!")
  
  // æµ‹è¯•ç‰¹æ®Šå­—ç¬¦å¤„ç†
  assert_eq(azimuth::greet("123"), "Hello, 123!")
  assert_eq(azimuth::greet("!@#"), "Hello, !@#!")
}

// æ•°å­¦è¿ç®—æ€§è´¨æµ‹è¯•
test "mathematical_properties" {
  // æµ‹è¯•åŠ æ³•äº¤æ¢å¾‹
  let a = 10
  let b = 20
  assert_eq(azimuth::add(a, b), azimuth::add(b, a))
  
  // æµ‹è¯•ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(azimuth::multiply(a, b), azimuth::multiply(b, a))
  
  // æµ‹è¯•ä¹˜æ³•åˆ†é…å¾‹
  let c = 5
  assert_eq(
    azimuth::multiply(a, azimuth::add(b, c)),
    azimuth::add(azimuth::multiply(a, b), azimuth::multiply(a, c))
  )
}

// è¾¹ç•Œå€¼æµ‹è¯•
test "boundary_value_tests" {
  // æµ‹è¯•é›¶å€¼è¿ç®—
  assert_eq(azimuth::add(0, 0), 0)
  assert_eq(azimuth::multiply(0, 0), 0)
  assert_eq(azimuth::multiply(5, 0), 0)
  assert_eq(azimuth::multiply(0, 5), 0)
  
  // æµ‹è¯•å•ä½å€¼è¿ç®—
  assert_eq(azimuth::multiply(7, 1), 7)
  assert_eq(azimuth::multiply(1, 7), 7)
  assert_eq(azimuth::add(7, 0), 7)
  assert_eq(azimuth::add(0, 7), 7)
}

// å®é™…åº”ç”¨åœºæ™¯æµ‹è¯•
test "practical_application_scenarios" {
  // åœºæ™¯1ï¼šè®¡ç®—è´­ç‰©è½¦æ€»ä»·
  let item1_price = 25
  let item1_quantity = 3
  let item2_price = 15
  let item2_quantity = 2
  
  let item1_total = azimuth::multiply(item1_price, item1_quantity)
  let item2_total = azimuth::multiply(item2_price, item2_quantity)
  let cart_total = azimuth::add(item1_total, item2_total)
  
  assert_eq(cart_total, 105)
  
  // åœºæ™¯2ï¼šè®¡ç®—å¹³å‡æˆç»©
  let math_score = 85
  let english_score = 90
  let science_score = 80
  
  let total_score = azimuth::add(azimuth::add(math_score, english_score), science_score)
  let average_score = total_score / 3
  
  assert_eq(average_score, 85)
}

// å¤åˆè¿ç®—æµ‹è¯•
test "compound_operations" {
  // æµ‹è¯•å¤åˆè¿ç®—ï¼š(a + b) * c
  let a = 3
  let b = 4
  let c = 2
  
  let sum = azimuth::add(a, b)
  let result = azimuth::multiply(sum, c)
  
  assert_eq(result, 14)
  
  // æµ‹è¯•å¤åˆè¿ç®—ï¼ša * b + c * d
  let d = 5
  let result2 = azimuth::add(
    azimuth::multiply(a, b),
    azimuth::multiply(c, d)
  )
  
  assert_eq(result2, 22)
}

// é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µæµ‹è¯•
test "error_handling_and_edge_cases" {
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²å¤„ç†
  assert_eq(azimuth::greet(""), "Hello, !")
  
  // æµ‹è¯•è´Ÿæ•°è¿ç®—
  assert_eq(azimuth::add(-5, -10), -15)
  assert_eq(azimuth::multiply(-3, -4), 12)
  assert_eq(azimuth::multiply(-3, 4), -12)
  
  // æµ‹è¯•å¤§æ•°è¿ç®—
  let large_num1 = 10000
  let large_num2 = 20000
  assert_eq(azimuth::add(large_num1, large_num2), 30000)
  assert_eq(azimuth::multiply(large_num1, 2), 20000)
}

// å­—ç¬¦ä¸²ç‰¹æ®Šå­—ç¬¦æµ‹è¯•
test "special_character_handling" {
  // æµ‹è¯•åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²
  assert_eq(azimuth::greet("John Doe"), "Hello, John Doe!")
  
  // æµ‹è¯•åŒ…å«ç‰¹æ®Šç¬¦å·çš„å­—ç¬¦ä¸²
  assert_eq(azimuth::greet("test@example.com"), "Hello, test@example.com!")
  
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„å­—ç¬¦ä¸²
  assert_eq(azimuth::greet("æµ‹è¯•"), "Hello, æµ‹è¯•!")
  assert_eq(azimuth::greet("ğŸš€"), "Hello, ğŸš€!")
}

// æ€§èƒ½ç›¸å…³æµ‹è¯•
test "performance_operations" {
  // æµ‹è¯•è¿ç»­è¿ç®—æ€§èƒ½
  let result = azimuth::add(
    azimuth::multiply(10, 5),
    azimuth::multiply(20, 3)
  )
  assert_eq(result, 110)
  
  // æµ‹è¯•é“¾å¼è¿ç®—
  let chain_result = azimuth::add(
    azimuth::add(1, 2),
    azimuth::add(3, 4)
  )
  assert_eq(chain_result, 10)
}

// å®é™…ä¸šåŠ¡é€»è¾‘æµ‹è¯•
test "business_logic_tests" {
  // åœºæ™¯ï¼šè®¡ç®—æŠ˜æ‰£åçš„ä»·æ ¼
  let original_price = 120
  let discount_rate = 20  // 20% æŠ˜æ‰£
  let discount_amount = azimuth::multiply(original_price, discount_rate) / 100
  let final_price = azimuth::add(original_price, -discount_amount)
  
  assert_eq(final_price, 96)
  
  // åœºæ™¯ï¼šè®¡ç®—ç¨è´¹
  let base_price = 100
  let tax_rate = 8  // 8% ç¨ç‡
  let tax_amount = azimuth::multiply(base_price, tax_rate) / 100
  let total_with_tax = azimuth::add(base_price, tax_amount)
  
  assert_eq(total_with_tax, 108)
}