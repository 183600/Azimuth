// æ–°å¢çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½
import azimuth

test "add_function_zero_handling" {
  // æµ‹è¯• add å‡½æ•°çš„é›¶å€¼å¤„ç†
  assert_eq(42, add(0, 42))
  assert_eq(42, add(42, 0))
  assert_eq(0, add(0, 0))
  assert_eq(-17, add(0, -17))
  assert_eq(-17, add(-17, 0))
}

test "add_function_negative_values" {
  // æµ‹è¯• add å‡½æ•°çš„è´Ÿæ•°å¤„ç†
  assert_eq(-10, add(-3, -7))
  assert_eq(-5, add(-8, 3))
  assert_eq(5, add(8, -3))
  assert_eq(-100, add(-50, -50))
  assert_eq(0, add(-25, 25))
}

test "multiply_function_by_zero_and_one" {
  // æµ‹è¯• multiply å‡½æ•°çš„0å’Œ1ä¹˜æ³•
  assert_eq(0, multiply(0, 123))
  assert_eq(0, multiply(123, 0))
  assert_eq(0, multiply(0, -456))
  assert_eq(123, multiply(1, 123))
  assert_eq(123, multiply(123, 1))
  assert_eq(-456, multiply(1, -456))
  assert_eq(-456, multiply(-456, 1))
}

test "multiply_function_negative_numbers" {
  // æµ‹è¯• multiply å‡½æ•°çš„è´Ÿæ•°ä¹˜æ³•
  assert_eq(15, multiply(-3, -5))
  assert_eq(-15, multiply(3, -5))
  assert_eq(-15, multiply(-3, 5))
  assert_eq(100, multiply(-10, -10))
  assert_eq(-100, multiply(10, -10))
}

test "greet_function_special_characters" {
  // æµ‹è¯• greet å‡½æ•°çš„ç‰¹æ®Šå­—ç¬¦å¤„ç†
  assert_eq_string("Hello, @#$%!", greet("@#$%"))
  assert_eq_string("Hello,   !", greet("  "))
  assert_eq_string("Hello, &*()!", greet("&*()"))
  assert_eq_string("Hello, ä¸­æ–‡!", greet("ä¸­æ–‡"))
  assert_eq_string("Hello, ğŸŒ™!", greet("ğŸŒ™"))
}

test "combined_operations_test" {
  // æµ‹è¯•ç»„åˆè¿ç®—
  let a = 5
  let b = 3
  let c = 2
  
  // æµ‹è¯• (a + b) * c
  let result1 = multiply(add(a, b), c)
  assert_eq(16, result1)
  
  // æµ‹è¯• a * b + c
  let result2 = add(multiply(a, b), c)
  assert_eq(17, result2)
  
  // æµ‹è¯• (a + c) * (b + c)
  let result3 = multiply(add(a, c), add(b, c))
  assert_eq(35, result3)
}

test "boundary_values_test" {
  // æµ‹è¯•è¾¹ç•Œå€¼
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œçš„åŠ æ³•
  assert_eq(max_val, add(max_val, 1))
  assert_eq(min_val, add(min_val, -1))
  
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œçš„ä¹˜æ³•
  assert_eq(min_val, multiply(min_val, -1))
  assert_eq(max_val, multiply(max_val, 2))
}

test "string_empty_and_whitespace" {
  // æµ‹è¯•ç©ºå­—ç¬¦ä¸²å’Œç©ºç™½å­—ç¬¦
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, !", greet(" "))
  assert_eq_string("Hello,    !", greet("    "))
  assert_eq_string("Hello, \t!", greet("\t"))
  assert_eq_string("Hello, \n!", greet("\n"))
}

test "mathematical_identities" {
  // æµ‹è¯•æ•°å­¦æ’ç­‰å¼
  let x = 42
  let y = 17
  
  // åŠ æ³•æ’ç­‰å¼
  assert_eq(add(x, y), add(y, x))  // äº¤æ¢å¾‹
  assert_eq(add(add(x, y), 0), add(x, y))  // é›¶å…ƒç´ 
  
  // ä¹˜æ³•æ’ç­‰å¼
  assert_eq(multiply(x, y), multiply(y, x))  // äº¤æ¢å¾‹
  assert_eq(multiply(multiply(x, y), 1), multiply(x, y))  // å•ä½å…ƒç´ 
}

test "real_world_scenarios" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯
  // è®¡ç®—è´­ç‰©è½¦æ€»ä»·
  let item1_price = 199
  let item1_quantity = 2
  let item2_price = 299
  let item2_quantity = 1
  let discount = 100
  
  let subtotal = add(multiply(item1_price, item1_quantity), 
                    multiply(item2_price, item2_quantity))
  let total = add(subtotal, -discount)
  
  assert_eq(597, total)
  
  // è®¡ç®—å¹³å‡åˆ†
  let score1 = 85
  let score2 = 90
  let score3 = 95
  let sum_scores = add(add(score1, score2), score3)
  let average = sum_scores / 3
  
  assert_eq(90, average)
}