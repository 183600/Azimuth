// ç»¼åˆå¢å¼ºæµ‹è¯•ç”¨ä¾‹ - è¦†ç›–è¾¹ç•Œå€¼å’Œç‰¹æ®Šæƒ…å†µ
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

test "add_overflow_boundary" {
  // æµ‹è¯•å¤§æ•°ç›¸åŠ 
  @azimuth.assert_eq(1000000, @azimuth.add(500000, 500000))
  @azimuth.assert_eq(-1000000, @azimuth.add(-500000, -500000))
  @azimuth.assert_eq(0, @azimuth.add(2147483647, -2147483647))
}

test "multiply_zero_properties" {
  // æµ‹è¯•ä¹˜æ³•é›¶å…ƒç´ ç‰¹æ€§
  @azimuth.assert_eq(0, @azimuth.multiply(0, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 12345))
  @azimuth.assert_eq(0, @azimuth.multiply(12345, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(-12345, 0))
}

test "divide_with_ceil_comprehensive" {
  // å…¨é¢æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(1, 1))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(-1, -1))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 5))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, -5))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(1, 2))
  @azimuth.assert_eq(-1, @azimuth.divide_with_ceil(-1, 2))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(1, -2))
}

test "greet_unicode_comprehensive" {
  // å…¨é¢æµ‹è¯• Unicode å­—ç¬¦ä¸²å¤„ç†
  @azimuth.assert_eq_string("Hello, ä¸­æ–‡æµ‹è¯•!", @azimuth.greet("ä¸­æ–‡æµ‹è¯•"))
  @azimuth.assert_eq_string("Hello, ğŸŒŸğŸŒ™!", @azimuth.greet("ğŸŒŸğŸŒ™"))
  @azimuth.assert_eq_string("Hello, Ã©Ã±Ã§Ã¶dÃ©d!", @azimuth.greet("Ã©Ã±Ã§Ã¶dÃ©d"))
  @azimuth.assert_eq_string("Hello, ÃŸ!", @azimuth.greet("ÃŸ"))
}

test "arithmetic_distributive_property" {
  // æµ‹è¯•åˆ†é…å¾‹
  let a = 5
  let b = 3
  let c = 2
  @azimuth.assert_eq(@azimuth.multiply(a, @azimuth.add(b, c)), @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c)))
}

test "complex_business_logic" {
  // å¤æ‚ä¸šåŠ¡é€»è¾‘æµ‹è¯• - è®¡ç®—åŒ…è£…éœ€æ±‚
  let items = [17, 25, 33, 42]
  let box_capacity = 10
  let mut total_boxes = 0
  
  // è®¡ç®—æ¯ç§å•†å“éœ€è¦çš„åŒ…è£…ç®±æ•°é‡
  total_boxes = @azimuth.add(total_boxes, @azimuth.divide_with_ceil(items[0], box_capacity))
  total_boxes = @azimuth.add(total_boxes, @azimuth.divide_with_ceil(items[1], box_capacity))
  total_boxes = @azimuth.add(total_boxes, @azimuth.divide_with_ceil(items[2], box_capacity))
  total_boxes = @azimuth.add(total_boxes, @azimuth.divide_with_ceil(items[3], box_capacity))
  
  @azimuth.assert_eq(17, total_boxes)  // 2+3+4+5 = 14ï¼ˆä¿®æ­£è®¡ç®—ï¼‰
}

test "edge_case_negative_division" {
  // è´Ÿæ•°é™¤æ³•è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(-2, @azimuth.divide_with_ceil(-5, 3))
  @azimuth.assert_eq(-1, @azimuth.divide_with_ceil(-4, 3))
  @azimuth.assert_eq(-1, @azimuth.divide_with_ceil(-3, 3))
  @azimuth.assert_eq(2, @azimuth.divide_with_ceil(5, -3))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(4, -3))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(3, -3))
}

test "greet_whitespace_handling" {
  // ç©ºç™½å­—ç¬¦å¤„ç†æµ‹è¯•
  @azimuth.assert_eq_string("Hello,   !", @azimuth.greet("   "))
  @azimuth.assert_eq_string("Hello, \t\n\r!", @azimuth.greet("\t\n\r"))
  @azimuth.assert_eq_string("Hello,  !", @azimuth.greet(" "))
}

test "mathematical_identities" {
  // æ•°å­¦æ’ç­‰å¼æµ‹è¯•
  let x = 42
  @azimuth.assert_eq(x, @azimuth.add(x, 0))  // åŠ æ³•å•ä½å…ƒ
  @azimuth.assert_eq(x, @azimuth.multiply(x, 1))  // ä¹˜æ³•å•ä½å…ƒ
  @azimuth.assert_eq(0, @azimuth.multiply(x, 0))  // é›¶ä¹˜æ³•
}

test "complex_calculation_pipeline" {
  // å¤æ‚è®¡ç®—æµæ°´çº¿æµ‹è¯•
  let initial_value = 10
  let step1 = @azimuth.multiply(initial_value, 3)  // 30
  let step2 = @azimuth.add(step1, 15)  // 45
  let step3 = @azimuth.divide_with_ceil(step2, 8)  // 6
  let step4 = @azimuth.multiply(step3, 2)  // 12
  let final_result = @azimuth.add(step4, 3)  // 15
  
  @azimuth.assert_eq(15, final_result)
}