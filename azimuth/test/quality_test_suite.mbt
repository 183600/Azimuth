// Azimuth é«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹é›†
// ä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•ï¼Œè¦†ç›–æ ¸å¿ƒåŠŸèƒ½çš„å„ç§åœºæ™¯

test "add_zero_handling" {
  // æµ‹è¯•åŠ æ³•ä¸­çš„é›¶å€¼å¤„ç†
  @azimuth.assert_eq(42, @azimuth.add(0, 42))
  @azimuth.assert_eq(42, @azimuth.add(42, 0))
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  @azimuth.assert_eq(-17, @azimuth.add(0, -17))
  @azimuth.assert_eq(-17, @azimuth.add(-17, 0))
}

test "add_boundary_values" {
  // æµ‹è¯•è¾¹ç•Œå€¼çš„åŠ æ³•è¿ç®—
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æ¥è¿‘è¾¹ç•Œçš„å€¼
  @azimuth.assert_eq(max_val, @azimuth.add(max_val - 1, 1))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val + 1, -1))
  
  // è¾¹ç•Œå€¼ç»„åˆ
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
  @azimuth.assert_eq(max_val - 1, @azimuth.add(max_val, -1))
  @azimuth.assert_eq(min_val + 1, @azimuth.add(min_val, 1))
}

test "multiply_identity_elements" {
  // æµ‹è¯•ä¹˜æ³•çš„å•ä½å…ƒï¼ˆ0å’Œ1ï¼‰å¤„ç†
  @azimuth.assert_eq(0, @azimuth.multiply(0, 12345))
  @azimuth.assert_eq(0, @azimuth.multiply(12345, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, -12345))
  @azimuth.assert_eq(0, @azimuth.multiply(-12345, 0))
  
  @azimuth.assert_eq(12345, @azimuth.multiply(1, 12345))
  @azimuth.assert_eq(12345, @azimuth.multiply(12345, 1))
  @azimuth.assert_eq(-12345, @azimuth.multiply(1, -12345))
  @azimuth.assert_eq(-12345, @azimuth.multiply(-12345, 1))
}

test "multiply_negative_handling" {
  // æµ‹è¯•ä¹˜æ³•çš„è´Ÿæ•°å¤„ç†
  @azimuth.assert_eq(-15, @azimuth.multiply(3, -5))
  @azimuth.assert_eq(-15, @azimuth.multiply(-3, 5))
  @azimuth.assert_eq(15, @azimuth.multiply(-3, -5))
  
  // æµ‹è¯•-1çš„ç‰¹æ®Šå¤„ç†
  @azimuth.assert_eq(-42, @azimuth.multiply(-1, 42))
  @azimuth.assert_eq(42, @azimuth.multiply(-1, -42))
  
  // æœ€å°å€¼ä¸-1çš„ç‰¹æ®Šæƒ…å†µ
  let min_val = -2147483648
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
}

test "greet_unicode_handling" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„Unicodeå­—ç¬¦å¤„ç†
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ğŸŒ™!", @azimuth.greet("ğŸŒ™"))
  @azimuth.assert_eq_string("Hello, cafÃ©!", @azimuth.greet("cafÃ©"))
  @azimuth.assert_eq_string("Hello, naÃ¯ve!", @azimuth.greet("naÃ¯ve"))
}

test "greet_empty_and_whitespace" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„ç©ºå­—ç¬¦ä¸²å’Œç©ºç™½å­—ç¬¦å¤„ç†
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello,  !", @azimuth.greet(" "))
  @azimuth.assert_eq_string("Hello, \t!", @azimuth.greet("\t"))
  @azimuth.assert_eq_string("Hello, \n!", @azimuth.greet("\n"))
}

test "complex_arithmetic_sequence" {
  // æµ‹è¯•å¤æ‚çš„ç®—æœ¯åºåˆ—è®¡ç®—
  let values = [1, 2, 3, 4, 5]
  let sum = @azimuth.add(0, 0)
  
  // è®¡ç®—æ•°åˆ—çš„å’Œ
  sum = @azimuth.add(sum, values[0])
  sum = @azimuth.add(sum, values[1])
  sum = @azimuth.add(sum, values[2])
  sum = @azimuth.add(sum, values[3])
  sum = @azimuth.add(sum, values[4])
  
  @azimuth.assert_eq(15, sum)
  
  // è®¡ç®—æ•°åˆ—çš„ä¹˜ç§¯
  let product = @azimuth.multiply(1, values[0])
  product = @azimuth.multiply(product, values[1])
  product = @azimuth.multiply(product, values[2])
  product = @azimuth.multiply(product, values[3])
  product = @azimuth.multiply(product, values[4])
  
  @azimuth.assert_eq(120, product)
}

test "overflow_edge_cases_comprehensive" {
  // ç»¼åˆæµ‹è¯•æº¢å‡ºè¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // åŠ æ³•æº¢å‡ºæµ‹è¯•
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, max_val))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, min_val))
  
  // ä¹˜æ³•æº¢å‡ºæµ‹è¯•
  @azimuth.assert_eq(max_val, @azimuth.multiply(46341, 46341))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 2))
  @azimuth.assert_eq(min_val, @azimuth.multiply(2, min_val))
  
  // æ··åˆè¿ç®—æµ‹è¯•
  let result1 = @azimuth.multiply(1000, 1000)
  let result2 = @azimuth.add(result1, max_val - 1000000)
  @azimuth.assert_eq(max_val, result2)
}

test "string_processing_with_greet" {
  // æµ‹è¯•ä½¿ç”¨greetå‡½æ•°è¿›è¡Œå­—ç¬¦ä¸²å¤„ç†
  let names = ["Alice", "Bob", "Charlie"]
  
  let greeting1 = @azimuth.greet(names[0])
  let greeting2 = @azimuth.greet(names[1])
  let greeting3 = @azimuth.greet(names[2])
  
  @azimuth.assert_eq_string("Hello, Alice!", greeting1)
  @azimuth.assert_eq_string("Hello, Bob!", greeting2)
  @azimuth.assert_eq_string("Hello, Charlie!", greeting3)
  
  // æµ‹è¯•é•¿å­—ç¬¦ä¸²
  let long_name = "VeryLongNameThatExceedsNormalExpectations"
  let long_greeting = @azimuth.greet(long_name)
  @azimuth.assert_eq_string("Hello, VeryLongNameThatExceedsNormalExpectations!", long_greeting)
}