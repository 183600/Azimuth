// æ ‡å‡† MoonBit æµ‹è¯•ç”¨ä¾‹ - å¢å¼ºç‰ˆ
// æµ‹è¯• azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

test "divide_with_ceil_precision_tests" {
  // æµ‹è¯• divide_with_ceil å‡½æ•°çš„ç²¾åº¦å’Œè¾¹ç•Œæƒ…å†µ
  
  // æµ‹è¯•å®Œå…¨æ•´é™¤çš„æƒ…å†µ
  @azimuth.assert_eq(5, @azimuth.divide_with_ceil(15, 3))
  @azimuth.assert_eq(7, @azimuth.divide_with_ceil(21, 3))
  @azimuth.assert_eq(-5, @azimuth.divide_with_ceil(-15, 3))
  @azimuth.assert_eq(-7, @azimuth.divide_with_ceil(-21, 3))
  
  // æµ‹è¯•æ¥è¿‘æ•´é™¤çš„æƒ…å†µ
  @azimuth.assert_eq(6, @azimuth.divide_with_ceil(16, 3))
  @azimuth.assert_eq(6, @azimuth.divide_with_ceil(17, 3))
  @azimuth.assert_eq(-5, @azimuth.divide_with_ceil(-16, 3))
  @azimuth.assert_eq(-5, @azimuth.divide_with_ceil(-17, 3))
  
  // æµ‹è¯•å¤§æ•°é™¤æ³•
  @azimuth.assert_eq(1000000, @azimuth.divide_with_ceil(1000000, 1))
  @azimuth.assert_eq(500000, @azimuth.divide_with_ceil(1000000, 2))
  @azimuth.assert_eq(333334, @azimuth.divide_with_ceil(1000000, 3))
}

test "divide_with_ceil_edge_cases" {
  // æµ‹è¯• divide_with_ceil å‡½æ•°çš„è¾¹ç¼˜æƒ…å†µ
  
  // æµ‹è¯•é™¤æ•°ä¸º1å’Œ-1çš„æƒ…å†µ
  @azimuth.assert_eq(42, @azimuth.divide_with_ceil(42, 1))
  @azimuth.assert_eq(-42, @azimuth.divide_with_ceil(42, -1))
  @azimuth.assert_eq(-42, @azimuth.divide_with_ceil(-42, 1))
  @azimuth.assert_eq(42, @azimuth.divide_with_ceil(-42, -1))
  
  // æµ‹è¯•è¢«é™¤æ•°ä¸º0çš„æƒ…å†µ
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 1))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, -1))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 100))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, -100))
  
  // æµ‹è¯•é™¤æ•°ä¸º0çš„æƒ…å†µï¼ˆåº”è¯¥è¿”å›0ï¼‰
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(42, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(-42, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 0))
}

test "complex_function_composition" {
  // æµ‹è¯•å¤æ‚çš„å‡½æ•°ç»„åˆ
  
  // æ¨¡æ‹Ÿè®¡ç®—è¡¨è¾¾å¼ï¼š(a + b) * (c - d) / e
  let a = 10
  let b = 5
  let c = 20
  let d = 8
  let e = 3
  
  let sum = @azimuth.add(a, b)  // 15
  let diff = @azimuth.add(c, -d)  // 12
  let product = @azimuth.multiply(sum, diff)  // 180
  let result = @azimuth.divide_with_ceil(product, e)  // 60
  
  @azimuth.assert_eq(60, result)
  
  // æµ‹è¯•åµŒå¥—å‡½æ•°è°ƒç”¨
  let nested_result = @azimuth.divide_with_ceil(
    @azimuth.multiply(
      @azimuth.add(3, 4), 
      @azimuth.add(5, 6)
    ), 
    7
  )
  @azimuth.assert_eq(8, nested_result)
}

test "string_greet_format_validation" {
  // æµ‹è¯•å­—ç¬¦ä¸²é—®å€™å‡½æ•°çš„æ ¼å¼éªŒè¯
  
  // æµ‹è¯•å„ç§æ ¼å¼çš„è¾“å…¥
  @azimuth.assert_eq_string("Hello, John!", @azimuth.greet("John"))
  @azimuth.assert_eq_string("Hello, john!", @azimuth.greet("john"))
  @azimuth.assert_eq_string("Hello, JOHN!", @azimuth.greet("JOHN"))
  
  // æµ‹è¯•åŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, User123!", @azimuth.greet("User123"))
  @azimuth.assert_eq_string("Hello, 123User!", @azimuth.greet("123User"))
  
  // æµ‹è¯•åŒ…å«ä¸‹åˆ’çº¿å’Œè¿å­—ç¬¦çš„å­—ç¬¦ä¸²
  @azimuth.assert_eq_string("Hello, user_name!", @azimuth.greet("user_name"))
  @azimuth.assert_eq_string("Hello, user-name!", @azimuth.greet("user-name"))
  
  // æµ‹è¯•å•å­—ç¬¦è¾“å…¥
  @azimuth.assert_eq_string("Hello, a!", @azimuth.greet("a"))
  @azimuth.assert_eq_string("Hello, Z!", @azimuth.greet("Z"))
}

test "mathematical_property_validation" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨éªŒè¯
  
  // æµ‹è¯•åŠ æ³•çš„ç»“åˆå¾‹
  let a = 12
  let b = 34
  let c = 56
  
  let result1 = @azimuth.add(@azimuth.add(a, b), c)
  let result2 = @azimuth.add(a, @azimuth.add(b, c))
  @azimuth.assert_eq(result1, result2)
  
  // æµ‹è¯•ä¹˜æ³•çš„ç»“åˆå¾‹
  let result3 = @azimuth.multiply(@azimuth.multiply(a, b), c)
  let result4 = @azimuth.multiply(a, @azimuth.multiply(b, c))
  @azimuth.assert_eq(result3, result4)
  
  // æµ‹è¯•åˆ†é…å¾‹ (a * (b + c) = a * b + a * c)
  let result5 = @azimuth.multiply(a, @azimuth.add(b, c))
  let result6 = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
  @azimuth.assert_eq(result5, result6)
}

test "performance_batch_operations" {
  // æµ‹è¯•æ‰¹é‡æ“ä½œçš„æ€§èƒ½ç›¸å…³æµ‹è¯•
  
  // æ‰¹é‡åŠ æ³•æµ‹è¯•
  let mut sum = 0
  
  // æ¨¡æ‹Ÿå¾ªç¯åŠ æ³•
  sum = @azimuth.add(sum, 1)
  sum = @azimuth.add(sum, 2)
  sum = @azimuth.add(sum, 3)
  sum = @azimuth.add(sum, 4)
  sum = @azimuth.add(sum, 5)
  
  @azimuth.assert_eq(15, sum)
  
  // æ‰¹é‡ä¹˜æ³•æµ‹è¯•
  let mut product = 1
  product = @azimuth.multiply(product, 2)
  product = @azimuth.multiply(product, 3)
  product = @azimuth.multiply(product, 4)
  product = @azimuth.multiply(product, 5)
  
  @azimuth.assert_eq(120, product)
  
  // æ··åˆæ‰¹é‡æ“ä½œ
  let mut result = 10
  result = @azimuth.add(result, 5)  // 15
  result = @azimuth.multiply(result, 2)  // 30
  result = @azimuth.add(result, 10)  // 40
  result = @azimuth.divide_with_ceil(result, 8)  // 5
  
  @azimuth.assert_eq(5, result)
}

test "error_boundary_comprehensive" {
  // ç»¼åˆé”™è¯¯è¾¹ç•Œæµ‹è¯•
  
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•åŠ æ³•çš„å„ç§è¾¹ç•Œç»„åˆ
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, max_val))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, min_val))
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1000000000))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -1000000000))
  
  // æµ‹è¯•ä¹˜æ³•çš„å„ç§è¾¹ç•Œç»„åˆ
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 1))
  @azimuth.assert_eq(max_val, @azimuth.multiply(1, max_val))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.multiply(1, min_val))
  
  // æµ‹è¯•é™¤æ³•çš„è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(max_val, @azimuth.divide_with_ceil(max_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.divide_with_ceil(min_val, 1))
  @azimuth.assert_eq(-max_val, @azimuth.divide_with_ceil(max_val, -1))
  @azimuth.assert_eq(-min_val, @azimuth.divide_with_ceil(min_val, -1))
}

test "real_world_application_simulation" {
  // æ¨¡æ‹ŸçœŸå®ä¸–ç•Œåº”ç”¨åœºæ™¯
  
  // åœºæ™¯1ï¼šè®¡ç®—è®¢å•æ€»ä»·ï¼ˆå«ç¨ï¼‰
  let item_price = 100
  let quantity = 5
  let tax_rate = 8  // 8%ç¨ï¼Œç”¨8è¡¨ç¤º0.08ï¼ˆç®€åŒ–ï¼‰
  let shipping = 15
  
  let subtotal = @azimuth.multiply(item_price, quantity)  // 500
  let tax = @azimuth.divide_with_ceil(@azimuth.multiply(subtotal, tax_rate), 100)  // 40
  let total = @azimuth.add(@azimuth.add(subtotal, tax), shipping)  // 555
  
  @azimuth.assert_eq(555, total)
  
  // åœºæ™¯2ï¼šè®¡ç®—å¹³å‡åˆ†ï¼ˆå‘ä¸Šå–æ•´ï¼‰
  let score1 = 85
  let score2 = 92
  let score3 = 78
  let score4 = 96
  let student_count = 4
  
  let total_score = @azimuth.add(@azimuth.add(@azimuth.add(score1, score2), score3), score4)
  let average_score = @azimuth.divide_with_ceil(total_score, student_count)
  
  @azimuth.assert_eq(88, average_score)
  
  // åœºæ™¯3ï¼šç”Ÿæˆä¸ªæ€§åŒ–æ¬¢è¿æ¶ˆæ¯
  let first_name = "å¼ "
  let last_name = "ä¸‰"
  let full_name = first_name + last_name
  let welcome_message = @azimuth.greet(full_name)
  
  @azimuth.assert_eq_string("Hello, å¼ ä¸‰!", welcome_message)
}

test "assertion_function_comprehensive" {
  // ç»¼åˆæ–­è¨€å‡½æ•°æµ‹è¯•
  
  // æµ‹è¯•æ•´æ•°ç›¸ç­‰æ–­è¨€
  @azimuth.assert_eq(0, 0)
  @azimuth.assert_eq(42, 42)
  @azimuth.assert_eq(-42, -42)
  @azimuth.assert_eq(2147483647, 2147483647)
  @azimuth.assert_eq(-2147483648, -2147483648)
  
  // æµ‹è¯•å­—ç¬¦ä¸²ç›¸ç­‰æ–­è¨€
  @azimuth.assert_eq_string("", "")
  @azimuth.assert_eq_string("Hello", "Hello")
  @azimuth.assert_eq_string("Hello, World!", "Hello, World!")
  @azimuth.assert_eq_string("æµ‹è¯•", "æµ‹è¯•")
  @azimuth.assert_eq_string("ğŸŒ™", "ğŸŒ™")
}