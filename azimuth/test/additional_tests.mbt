// é¢å¤–çš„ MoonBit æµ‹è¯•ç”¨ä¾‹
// è¿™äº›æµ‹è¯•ç”¨ä¾‹è¦†ç›– azimuth æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

// å¯¼å…¥ä¸»æ¨¡å—ä¸­çš„å‡½æ•°
use azimuth

test "add_zero_handling" {
  // æµ‹è¯•åŠ æ³•ä¸­çš„é›¶å€¼å¤„ç†
  assert_eq(42, add(42, 0))
  assert_eq(42, add(0, 42))
  assert_eq(0, add(0, 0))
  assert_eq(-17, add(-17, 0))
  assert_eq(-17, add(0, -17))
}

test "add_negative_numbers" {
  // æµ‹è¯•è´Ÿæ•°åŠ æ³•
  assert_eq(-10, add(-3, -7))
  assert_eq(-5, add(-8, 3))
  assert_eq(5, add(-3, 8))
  assert_eq(-100, add(-50, -50))
  assert_eq(0, add(-25, 25))
}

test "multiply_zero_handling" {
  // æµ‹è¯•ä¹˜æ³•ä¸­çš„é›¶å€¼å¤„ç†
  assert_eq(0, multiply(42, 0))
  assert_eq(0, multiply(0, 42))
  assert_eq(0, multiply(0, 0))
  assert_eq(0, multiply(-17, 0))
  assert_eq(0, multiply(0, -17))
}

test "multiply_negative_numbers" {
  // æµ‹è¯•è´Ÿæ•°ä¹˜æ³•
  assert_eq(15, multiply(-3, -5))
  assert_eq(-15, multiply(3, -5))
  assert_eq(-15, multiply(-3, 5))
  assert_eq(100, multiply(-10, -10))
  assert_eq(-100, multiply(-10, 10))
}

test "multiply_by_one" {
  // æµ‹è¯•ä¹˜ä»¥1çš„æƒ…å†µ
  assert_eq(42, multiply(42, 1))
  assert_eq(42, multiply(1, 42))
  assert_eq(-17, multiply(-17, 1))
  assert_eq(-17, multiply(1, -17))
  assert_eq(0, multiply(0, 1))
  assert_eq(0, multiply(1, 0))
}

test "multiply_by_negative_one" {
  // æµ‹è¯•ä¹˜ä»¥-1çš„æƒ…å†µ
  assert_eq(-42, multiply(42, -1))
  assert_eq(-42, multiply(-1, 42))
  assert_eq(17, multiply(-17, -1))
  assert_eq(17, multiply(-1, -17))
  assert_eq(0, multiply(0, -1))
  assert_eq(0, multiply(-1, 0))
}

test "greet_function_special_cases" {
  // æµ‹è¯•greetå‡½æ•°çš„ç‰¹æ®Šæƒ…å†µ
  assert_eq_string("Hello, MoonBit!", greet("MoonBit"))
  assert_eq_string("Hello, !", greet(""))
  assert_eq_string("Hello, 12345!", greet("12345"))
  assert_eq_string("Hello,   !", greet("  "))
  assert_eq_string("Hello, ğŸŒ™!", greet("ğŸŒ™"))
  assert_eq_string("Hello, line\nbreak!", greet("line\nbreak"))
}

test "complex_arithmetic_expressions" {
  // æµ‹è¯•å¤æ‚çš„ç®—æœ¯è¡¨è¾¾å¼
  let a = 10
  let b = 20
  let c = 30
  
  // (a + b) * c
  let result1 = multiply(add(a, b), c)
  assert_eq(900, result1)
  
  // a * b + c
  let result2 = add(multiply(a, b), c)
  assert_eq(230, result2)
  
  // (a + c) * (b - a)
  let result3 = multiply(add(a, c), add(b, -a))
  assert_eq(400, result3)
}

test "extreme_boundary_values" {
  // æµ‹è¯•æå€¼è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼åŠ æ³•
  assert_eq(max_val, add(max_val, 1))
  assert_eq(max_val, add(max_val, max_val))
  
  // æœ€å°å€¼åŠ æ³•
  assert_eq(min_val, add(min_val, -1))
  assert_eq(min_val, add(min_val, min_val))
  
  // æœ€å¤§å€¼ä¹˜æ³•
  assert_eq(max_val, multiply(max_val, 1))
  assert_eq(max_val, multiply(1, max_val))
  assert_eq(min_val, multiply(max_val, -1))
  assert_eq(min_val, multiply(-1, max_val))
  
  // æœ€å°å€¼ä¹˜æ³•
  assert_eq(min_val, multiply(min_val, 1))
  assert_eq(min_val, multiply(1, min_val))
  assert_eq(min_val, multiply(min_val, -1))
  assert_eq(min_val, multiply(-1, min_val))
}