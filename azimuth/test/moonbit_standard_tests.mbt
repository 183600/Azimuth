// MoonBit æ ‡å‡†æµ‹è¯•ç”¨ä¾‹
// æµ‹è¯• azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½

test "add_function_basic" {
  // åŸºæœ¬åŠ æ³•æµ‹è¯•
  @azimuth.assert_eq(5, @azimuth.add(2, 3))
  @azimuth.assert_eq(0, @azimuth.add(-2, 2))
  @azimuth.assert_eq(-5, @azimuth.add(-2, -3))
}

test "add_function_overflow" {
  // åŠ æ³•æº¢å‡ºæµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æ­£æº¢å‡º
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1))
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, max_val))
  
  // æµ‹è¯•è´Ÿæº¢å‡º
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -1))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, min_val))
}

test "multiply_function_basic" {
  // åŸºæœ¬ä¹˜æ³•æµ‹è¯•
  @azimuth.assert_eq(6, @azimuth.multiply(2, 3))
  @azimuth.assert_eq(-6, @azimuth.multiply(2, -3))
  @azimuth.assert_eq(6, @azimuth.multiply(-2, -3))
  @azimuth.assert_eq(0, @azimuth.multiply(5, 0))
}

test "multiply_function_overflow" {
  // ä¹˜æ³•æº¢å‡ºæµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æµ‹è¯•æ­£æº¢å‡º
  @azimuth.assert_eq(max_val, @azimuth.multiply(max_val, 2))
  
  // æµ‹è¯•æœ€å°å€¼çš„ç‰¹æ®Šæƒ…å†µ
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 2))
}

test "greet_function_basic" {
  // åŸºæœ¬é—®å€™å‡½æ•°æµ‹è¯•
  @azimuth.assert_eq_string("Hello, World!", @azimuth.greet("World"))
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, MoonBit!", @azimuth.greet("MoonBit"))
}

test "mathematical_properties" {
  // æ•°å­¦æ€§è´¨æµ‹è¯•
  let a = 12
  let b = 7
  
  // åŠ æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.multiply(a, b), @azimuth.multiply(b, a))
  
  // åˆ†é…å¾‹
  let c = 5
  @azimuth.assert_eq(
    @azimuth.multiply(a, @azimuth.add(b, c)),
    @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
  )
}

test "edge_cases" {
  // è¾¹ç•Œæƒ…å†µæµ‹è¯•
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼å’Œæœ€å°å€¼çš„åŠ æ³•
  @azimuth.assert_eq(-1, @azimuth.add(max_val, min_val))
  
  // æœ€å¤§å€¼å’Œ-1çš„ä¹˜æ³•
  @azimuth.assert_eq(min_val + 1, @azimuth.multiply(max_val, -1))
  
  // æœ€å°å€¼å’Œ1çš„ä¹˜æ³•
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 1))
}

test "special_values" {
  // ç‰¹æ®Šå€¼æµ‹è¯•
  // æµ‹è¯•0çš„å„ç§æƒ…å†µ
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  @azimuth.assert_eq(5, @azimuth.add(0, 5))
  @azimuth.assert_eq(-5, @azimuth.add(-5, 0))
  
  @azimuth.assert_eq(0, @azimuth.multiply(0, 5))
  @azimuth.assert_eq(0, @azimuth.multiply(5, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 0))
  
  // æµ‹è¯•1çš„å„ç§æƒ…å†µ
  @azimuth.assert_eq(6, @azimuth.multiply(6, 1))
  @azimuth.assert_eq(6, @azimuth.multiply(1, 6))
  @azimuth.assert_eq(-6, @azimuth.multiply(-6, 1))
  @azimuth.assert_eq(-6, @azimuth.multiply(1, -6))
}

test "string_processing" {
  // å­—ç¬¦ä¸²å¤„ç†æµ‹è¯•
  @azimuth.assert_eq_string("Hello, Alice!", @azimuth.greet("Alice"))
  @azimuth.assert_eq_string("Hello, 123!", @azimuth.greet("123"))
  @azimuth.assert_eq_string("Hello, ğŸŒ™!", @azimuth.greet("ğŸŒ™"))
  @azimuth.assert_eq_string("Hello, space !", @azimuth.greet("space "))
}