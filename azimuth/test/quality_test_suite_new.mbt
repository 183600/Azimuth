// é«˜è´¨é‡ MoonBit æµ‹è¯•ç”¨ä¾‹é›†
// è¦†ç›–å„ç§è¾¹ç•Œæ¡ä»¶å’Œå®é™…åº”ç”¨åœºæ™¯

test "mathematical_identity_properties" {
  // æµ‹è¯•æ•°å­¦æ’ç­‰æ€§è´¨
  // åŠ æ³•æ’ç­‰å…ƒ
  @azimuth.assert_eq(42, @azimuth.add(42, 0))
  @azimuth.assert_eq(42, @azimuth.add(0, 42))
  @azimuth.assert_eq(-42, @azimuth.add(-42, 0))
  
  // ä¹˜æ³•æ’ç­‰å…ƒ
  @azimuth.assert_eq(42, @azimuth.multiply(42, 1))
  @azimuth.assert_eq(42, @azimuth.multiply(1, 42))
  @azimuth.assert_eq(-42, @azimuth.multiply(-42, 1))
  
  // ä¹˜æ³•é›¶å…ƒ
  @azimuth.assert_eq(0, @azimuth.multiply(42, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 42))
  @azimuth.assert_eq(0, @azimuth.multiply(-42, 0))
}

test "associative_properties_verification" {
  // éªŒè¯ç»“åˆå¾‹æ€§è´¨
  let a = 12
  let b = 34
  let c = 56
  
  // åŠ æ³•ç»“åˆå¾‹: (a + b) + c = a + (b + c)
  let left_assoc = @azimuth.add(@azimuth.add(a, b), c)
  let right_assoc = @azimuth.add(a, @azimuth.add(b, c))
  @azimuth.assert_eq(left_assoc, right_assoc)
  
  // ä¹˜æ³•ç»“åˆå¾‹: (a * b) * c = a * (b * c)
  let mult_left = @azimuth.multiply(@azimuth.multiply(a, b), c)
  let mult_right = @azimuth.multiply(a, @azimuth.multiply(b, c))
  @azimuth.assert_eq(mult_left, mult_right)
}

test "distributive_property_verification" {
  // éªŒè¯åˆ†é…å¾‹æ€§è´¨: a * (b + c) = a * b + a * c
  let a = 7
  let b = 13
  let c = 19
  
  // a * (b + c)
  let sum = @azimuth.add(b, c)
  let left_side = @azimuth.multiply(a, sum)
  
  // a * b + a * c
  let product1 = @azimuth.multiply(a, b)
  let product2 = @azimuth.multiply(a, c)
  let right_side = @azimuth.add(product1, product2)
  
  @azimuth.assert_eq(left_side, right_side)
}

test "divide_with_ceil_real_world_applications" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„å®é™…åº”ç”¨åœºæ™¯
  
  // åœºæ™¯1ï¼šè®¡ç®—éœ€è¦çš„å®¹å™¨æ•°é‡
  let items = 25
  let container_capacity = 6
  let containers_needed = @azimuth.divide_with_ceil(items, container_capacity)
  @azimuth.assert_eq(5, containers_needed)  // 25/6 = 4.17ï¼Œå‘ä¸Šå–æ•´ä¸º5
  
  // åœºæ™¯2ï¼šè®¡ç®—éœ€è¦çš„è¿è¾“æ¬¡æ•°
  let packages = 47
  let truck_capacity = 10
  let trips_needed = @azimuth.divide_with_ceil(packages, truck_capacity)
  @azimuth.assert_eq(5, trips_needed)  // 47/10 = 4.7ï¼Œå‘ä¸Šå–æ•´ä¸º5
  
  // åœºæ™¯3ï¼šè®¡ç®—éœ€è¦çš„é¡µæ•°
  let words = 1050
  let words_per_page = 300
  let pages_needed = @azimuth.divide_with_ceil(words, words_per_page)
  @azimuth.assert_eq(4, pages_needed)  // 1050/300 = 3.5ï¼Œå‘ä¸Šå–æ•´ä¸º4
}

test "negative_number_divide_with_ceil" {
  // æµ‹è¯•è´Ÿæ•°çš„å‘ä¸Šå–æ•´é™¤æ³•
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(-10, 3))  // -10/3 = -3.33ï¼Œå‘ä¸Šå–æ•´ä¸º-3
  @azimuth.assert_eq(-4, @azimuth.divide_with_ceil(-11, 3))  // -11/3 = -3.67ï¼Œå‘ä¸Šå–æ•´ä¸º-4
  @azimuth.assert_eq(3, @azimuth.divide_with_ceil(-10, -3))  // -10/-3 = 3.33ï¼Œå‘ä¸Šå–æ•´ä¸º4
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(10, -3))   // 10/-3 = -3.33ï¼Œå‘ä¸Šå–æ•´ä¸º-3
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(-1, 100))   // -1/100 = -0.01ï¼Œå‘ä¸Šå–æ•´ä¸º0
}

test "string_greeting_multilingual_support" {
  // æµ‹è¯•å¤šè¯­è¨€é—®å€™æ”¯æŒ
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, Mundo!", @azimuth.greet("Mundo"))
  @azimuth.assert_eq_string("Hello, ĞœĞ¸Ñ€!", @azimuth.greet("ĞœĞ¸Ñ€"))
  @azimuth.assert_eq_string("Hello, ğŸŒ!", @azimuth.greet("ğŸŒ"))
  @azimuth.assert_eq_string("Hello, Mr. Smith!", @azimuth.greet("Mr. Smith"))
  @azimuth.assert_eq_string("Hello, user_123!", @azimuth.greet("user_123"))
}

test "complex_calculation_pipeline" {
  // æµ‹è¯•å¤æ‚çš„è®¡ç®—æµæ°´çº¿
  // æ¨¡æ‹Ÿå®é™…ä¸šåŠ¡é€»è¾‘ï¼šè®¡ç®—è®¢å•æ€»ä»·
  
  // åŸºç¡€ä»·æ ¼
  let base_price = 100
  
  // æ·»åŠ ç¨è´¹ (20%)
  let tax_amount = @azimuth.multiply(base_price, 20)  // 2000 (ä»£è¡¨20.00%)
  let price_with_tax = @azimuth.add(base_price, @azimuth.divide_with_ceil(tax_amount, 100))  // 120
  
  // æ·»åŠ è¿è´¹
  let shipping = 15
  let subtotal = @azimuth.add(price_with_tax, shipping)  // 135
  
  // æ‰¹é‡æŠ˜æ‰£ (è´­ä¹°3ä»¶)
  let quantity = 3
  let total_before_discount = @azimuth.multiply(subtotal, quantity)  // 405
  
  // æŠ˜æ‰£é‡‘é¢ (10%)
  let discount_amount = @azimuth.multiply(total_before_discount, 10)
  let final_total = @azimuth.add(total_before_discount, -@azimuth.divide_with_ceil(discount_amount, 100))
  
  @azimuth.assert_eq(364, final_total)
}

test "boundary_value_analysis" {
  // è¾¹ç•Œå€¼åˆ†ææµ‹è¯•
  let max_int = 2147483647
  let min_int = -2147483648
  
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œçš„åŠ æ³•
  @azimuth.assert_eq(max_int, @azimuth.add(max_int - 1, 1))
  @azimuth.assert_eq(min_int, @azimuth.add(min_int + 1, -1))
  
  // æµ‹è¯•æ¥è¿‘è¾¹ç•Œçš„ä¹˜æ³•
  @azimuth.assert_eq(max_int, @azimuth.multiply(46340, 46341))
  @azimuth.assert_eq(min_int, @azimuth.multiply(-46340, 46341))
  
  // æµ‹è¯•è¾¹ç•Œå€¼çš„é™¤æ³•
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(max_int, max_int))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(min_int, min_int))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(1, max_int))
}

test "error_handling_and_edge_cases" {
  // é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µæµ‹è¯•
  
  // é™¤æ•°ä¸ºé›¶çš„å¤„ç†
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(10, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(-10, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 0))
  
  // ç©ºå­—ç¬¦ä¸²å’Œç‰¹æ®Šå­—ç¬¦çš„é—®å€™
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello, \t\n\r!", @azimuth.greet("\t\n\r"))
  @azimuth.assert_eq_string("Hello,   !", @azimuth.greet("  "))
  
  // é›¶å€¼è¿ç®—
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 0))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 1))
}