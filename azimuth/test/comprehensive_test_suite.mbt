// Azimuth é¡¹ç›®ç»¼åˆæµ‹è¯•å¥—ä»¶
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•ï¼Œæ¶µç›–å¤šä¸ªåº”ç”¨åœºæ™¯

test "basic_arithmetic_operations" {
  // åŸºæœ¬ç®—æœ¯è¿ç®—æµ‹è¯•
  @azimuth.assert_eq(15, @azimuth.add(10, 5))
  @azimuth.assert_eq(4, @azimuth.add(-3, 7))
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  
  @azimuth.assert_eq(42, @azimuth.multiply(6, 7))
  @azimuth.assert_eq(-20, @azimuth.multiply(-4, 5))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 100))
}

test "mathematical_properties" {
  // æ•°å­¦æ€§è´¨éªŒè¯
  // åŠ æ³•å•ä½å…ƒ
  @azimuth.assert_eq(42, @azimuth.add(42, 0))
  @azimuth.assert_eq(42, @azimuth.add(0, 42))
  
  // ä¹˜æ³•å•ä½å…ƒ
  @azimuth.assert_eq(17, @azimuth.multiply(17, 1))
  @azimuth.assert_eq(17, @azimuth.multiply(1, 17))
  
  // ä¹˜æ³•é›¶å…ƒ
  @azimuth.assert_eq(0, @azimuth.multiply(17, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 17))
}

test "string_greeting_functionality" {
  // å­—ç¬¦ä¸²é—®å€™åŠŸèƒ½æµ‹è¯•
  @azimuth.assert_eq_string("Hello, World!", @azimuth.greet("World"))
  @azimuth.assert_eq_string("Hello, MoonBit!", @azimuth.greet("MoonBit"))
  @azimuth.assert_eq_string("Hello, å¼€å‘è€…!", @azimuth.greet("å¼€å‘è€…"))
  @azimuth.assert_eq_string("Hello, 123!", @azimuth.greet("123"))
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
}

test "complex_calculation_scenarios" {
  // å¤æ‚è®¡ç®—åœºæ™¯
  // è®¡ç®—è¡¨è¾¾å¼: (a + b) * c
  let a = 8
  let b = 12
  let c = 3
  let result = @azimuth.multiply(@azimuth.add(a, b), c)
  @azimuth.assert_eq(60, result)
  
  // è®¡ç®—è¡¨è¾¾å¼: a * b + c * d
  let d = 5
  let result2 = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(c, d))
  @azimuth.assert_eq(111, result2)
}

test "practical_application_calculations" {
  // å®é™…åº”ç”¨è®¡ç®—
  // è´­ç‰©è½¦æ€»ä»·è®¡ç®—
  let item1_price = 25
  let item1_quantity = 2
  let item2_price = 15
  let item2_quantity = 3
  
  let item1_total = @azimuth.multiply(item1_price, item1_quantity)
  let item2_total = @azimuth.multiply(item2_price, item2_quantity)
  let cart_total = @azimuth.add(item1_total, item2_total)
  
  @azimuth.assert_eq(95, cart_total)
  
  // å¹³å‡åˆ†è®¡ç®—
  let score1 = 85
  let score2 = 90
  let score3 = 78
  let total_score = @azimuth.add(@azimuth.add(score1, score2), score3)
  let average_score = total_score / 3  // æ³¨æ„ï¼šè¿™é‡Œå‡è®¾æœ‰é™¤æ³•è¿ç®—
  @azimuth.assert_eq(84, average_score)
}

test "boundary_value_testing" {
  // è¾¹ç•Œå€¼æµ‹è¯•
  // å¤§æ•°è¿ç®—
  let large_num1 = 100000
  let large_num2 = 200000
  @azimuth.assert_eq(300000, @azimuth.add(large_num1, large_num2))
  @azimuth.assert_eq(200000, @azimuth.multiply(large_num1, 2))
  
  // è´Ÿæ•°è¿ç®—
  @azimuth.assert_eq(-30, @azimuth.add(-10, -20))
  @azimuth.assert_eq(30, @azimuth.multiply(-5, -6))
  @azimuth.assert_eq(-30, @azimuth.multiply(-5, 6))
}

test "pattern_based_calculations" {
  // æ¨¡å¼åŒ–è®¡ç®—
  // é˜¶ä¹˜è®¡ç®—: 5! = 5 * 4 * 3 * 2 * 1 = 120
  let factorial_5 = @azimuth.multiply(@azimuth.multiply(@azimuth.multiply(@azimuth.multiply(5, 4), 3), 2), 1)
  @azimuth.assert_eq(120, factorial_5)
  
  // å¹‚è¿ç®—: 2^4 = 2 * 2 * 2 * 2 = 16
  let power_2_4 = @azimuth.multiply(@azimuth.multiply(@azimuth.multiply(2, 2), 2), 2)
  @azimuth.assert_eq(16, power_2_4)
  
  // ç­‰å·®æ•°åˆ—ç¬¬né¡¹: a_n = a_1 + (n-1)*d
  let first_term = 3
  let difference = 4
  let term_position = 5
  let nth_term = @azimuth.add(first_term, @azimuth.multiply(difference, term_position - 1))
  @azimuth.assert_eq(19, nth_term)
}

test "error_handling_scenarios" {
  // é”™è¯¯å¤„ç†åœºæ™¯
  // æµ‹è¯•å¯èƒ½çš„è¾¹ç•Œæƒ…å†µ
  let max_int = 2147483647  // å‡è®¾çš„32ä½æ•´æ•°æœ€å¤§å€¼
  
  // æ¥è¿‘è¾¹ç•Œå€¼çš„åŠ æ³•
  let near_max = @azimuth.add(max_int - 100, 50)
  @azimuth.assert_eq(max_int - 50, near_max)
  
  // æ¥è¿‘è¾¹ç•Œå€¼çš„ä¹˜æ³•
  let safe_multiply = @azimuth.multiply(1000, 1000)
  @azimuth.assert_eq(1000000, safe_multiply)
}

test "unicode_and_special_characters" {
  // Unicode å’Œç‰¹æ®Šå­—ç¬¦æµ‹è¯•
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
  @azimuth.assert_eq_string("Hello, ğŸŒ™!", @azimuth.greet("ğŸŒ™"))
  @azimuth.assert_eq_string("Hello, æµ‹è¯•ä¸­æ–‡!", @azimuth.greet("æµ‹è¯•ä¸­æ–‡"))
  @azimuth.assert_eq_string("Hello, Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚!", @azimuth.greet("Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚"))
  @azimuth.assert_eq_string("Hello, Ù…Ø±Ø­Ø¨Ø§!", @azimuth.greet("Ù…Ø±Ø­Ø¨Ø§"))
  @azimuth.assert_eq_string("Hello, ğŸ‰ğŸŠğŸˆ!", @azimuth.greet("ğŸ‰ğŸŠğŸˆ"))
}

test "performance_related_operations" {
  // æ€§èƒ½ç›¸å…³æ“ä½œ
  // è¿ç»­è¿ç®—æµ‹è¯•
  let mut result = 0
  result = @azimuth.add(result, 1)
  result = @azimuth.add(result, 2)
  result = @azimuth.add(result, 3)
  result = @azimuth.add(result, 4)
  result = @azimuth.add(result, 5)
  @azimuth.assert_eq(15, result)
  
  // åµŒå¥—è¿ç®—æµ‹è¯•
  let nested = @azimuth.add(
    @azimuth.multiply(2, 3),
    @azimuth.multiply(4, @azimuth.add(1, 2))
  )
  @azimuth.assert_eq(18, nested)
}