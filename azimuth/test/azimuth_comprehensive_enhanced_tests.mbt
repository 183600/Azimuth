// Azimuth ç»¼åˆå¢å¼ºæµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡†çš„ MoonBit æµ‹è¯•è¯­æ³•ï¼Œæµ‹è¯•å„ç§è¾¹ç•Œæƒ…å†µå’Œå¤æ‚åœºæ™¯

test "add_large_numbers" {
  // æµ‹è¯•å¤§æ•°ç›¸åŠ 
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æ¥è¿‘æœ€å¤§å€¼çš„åŠ æ³•
  @azimuth.assert_eq(max_val, @azimuth.add(2147483646, 1))
  @azimuth.assert_eq(max_val, @azimuth.add(2147483640, 10))
  
  // æ¥è¿‘æœ€å°å€¼çš„åŠ æ³•
  @azimuth.assert_eq(min_val, @azimuth.add(-2147483647, -1))
  @azimuth.assert_eq(min_val, @azimuth.add(-2147483640, -10))
}

test "add_mixed_sign_numbers" {
  // æµ‹è¯•æ··åˆç¬¦å·æ•°ç›¸åŠ 
  @azimuth.assert_eq(0, @azimuth.add(2147483647, -2147483647))
  @azimuth.assert_eq(-1, @azimuth.add(2147483647, -2147483648))
  @azimuth.assert_eq(1, @azimuth.add(-2147483648, 2147483647))
  @azimuth.assert_eq(-2147483647, @azimuth.add(-2147483648, 1))
}

test "multiply_large_numbers" {
  // æµ‹è¯•å¤§æ•°ç›¸ä¹˜
  let max_val = 2147483647
  let min_val = -2147483648
  
  // å¤§æ•°ç›¸ä¹˜çš„æº¢å‡ºæ£€æŸ¥
  @azimuth.assert_eq(max_val, @azimuth.multiply(46341, 46341))
  @azimuth.assert_eq(min_val, @azimuth.multiply(-46341, 46341))
  @azimuth.assert_eq(min_val, @azimuth.multiply(46341, -46341))
  @azimuth.assert_eq(max_val, @azimuth.multiply(-46341, -46341))
}

test "multiply_edge_values" {
  // æµ‹è¯•ä¹˜æ³•è¾¹ç•Œå€¼
  let min_val = -2147483648
  
  // æœ€å°å€¼çš„å„ç§ä¹˜æ³•æƒ…å†µ
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 2))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -2))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, 46341))
  @azimuth.assert_eq(min_val, @azimuth.multiply(2, min_val))
  @azimuth.assert_eq(min_val, @azimuth.multiply(-2, min_val))
  @azimuth.assert_eq(min_val, @azimuth.multiply(46341, min_val))
}

test "greet_unicode_characters" {
  // æµ‹è¯•åŒ…å«Unicodeå­—ç¬¦çš„é—®å€™
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
  @azimuth.assert_eq_string("Hello, cafÃ©!", @azimuth.greet("cafÃ©"))
  @azimuth.assert_eq_string("Hello, naÃ¯ve!", @azimuth.greet("naÃ¯ve"))
  @azimuth.assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", @azimuth.greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
}

test "divide_with_ceil_edge_cases" {
  // æµ‹è¯•å‘ä¸Šå–æ•´é™¤æ³•çš„è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æ­£æ•°è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(1, 1))
  @azimuth.assert_eq(max_val, @azimuth.divide_with_ceil(max_val, 1))
  @azimuth.assert_eq(1, @azimuth.divide_with_ceil(max_val, max_val))
  
  // è´Ÿæ•°è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(min_val, @azimuth.divide_with_ceil(min_val, 1))
  @azimuth.assert_eq(-2147483647, @azimuth.divide_with_ceil(min_val, -1))
  
  // ç‰¹æ®Šé™¤æ•°
  @azimuth.assert_eq(1073741824, @azimuth.divide_with_ceil(min_val, -2))
  @azimuth.assert_eq(-1073741824, @azimuth.divide_with_ceil(min_val, 2))
}

test "complex_mathematical_expressions" {
  // æµ‹è¯•å¤æ‚æ•°å­¦è¡¨è¾¾å¼
  let a = 100
  let b = 50
  let c = -25
  
  // (a + b) * c
  let sum = @azimuth.add(a, b)
  let product = @azimuth.multiply(sum, c)
  @azimuth.assert_eq(-3750, product)
  
  // a * b + c
  let product2 = @azimuth.multiply(a, b)
  let sum2 = @azimuth.add(product2, c)
  @azimuth.assert_eq(4975, sum2)
  
  // (a - b) * (b + c)
  let diff = @azimuth.add(a, -b)
  let sum3 = @azimuth.add(b, c)
  let product3 = @azimuth.multiply(diff, sum3)
  @azimuth.assert_eq(1250, product3)
}

test "sequential_operations" {
  // æµ‹è¯•è¿ç»­æ“ä½œ
  let mut result = 0
  
  // è¿ç»­åŠ æ³•
  result = @azimuth.add(result, 10)
  @azimuth.assert_eq(10, result)
  
  result = @azimuth.add(result, 20)
  @azimuth.assert_eq(30, result)
  
  result = @azimuth.add(result, -5)
  @azimuth.assert_eq(25, result)
  
  // è¿ç»­ä¹˜æ³•
  result = @azimuth.multiply(result, 2)
  @azimuth.assert_eq(50, result)
  
  result = @azimuth.multiply(result, -1)
  @azimuth.assert_eq(-50, result)
  
  result = @azimuth.multiply(result, 0)
  @azimuth.assert_eq(0, result)
}

test "string_operations_complex" {
  // æµ‹è¯•å¤æ‚çš„å­—ç¬¦ä¸²æ“ä½œ
  let name1 = "MoonBit"
  let name2 = "Azimuth"
  let name3 = ""
  
  let greeting1 = @azimuth.greet(name1)
  let greeting2 = @azimuth.greet(name2)
  let greeting3 = @azimuth.greet(name3)
  
  @azimuth.assert_eq_string("Hello, MoonBit!", greeting1)
  @azimuth.assert_eq_string("Hello, Azimuth!", greeting2)
  @azimuth.assert_eq_string("Hello, !", greeting3)
}