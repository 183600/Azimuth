// å¢å¼ºçš„ MoonBit æµ‹è¯•å¥—ä»¶
// ä¸º azimuth åº“æ·»åŠ é¢å¤–çš„é«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹

// æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯ï¼šé¡¹ç›®ç®¡ç†
test project_management_calculation {
  // åœºæ™¯ï¼šè®¡ç®—é¡¹ç›®èµ„æºå’Œæ—¶é—´å®‰æ’
  let team_size = 8
  let story_points = 120
  let velocity_per_sprint = 25
  
  // è®¡ç®—éœ€è¦çš„å†²åˆºæ•°
  let sprints_needed = divide_with_ceil(story_points, velocity_per_sprint)
  assert_eq(5, sprints_needed)  // ceil(120/25) = 5
  
  // è®¡ç®—æ€»å·¥ä½œé‡
  let total_effort = multiply(team_size, multiply(sprints_needed, 2))  // æ¯å†²åˆº2å‘¨
  assert_eq(80, total_effort)  // 8 * 5 * 2 = 80äººå‘¨
  
  // è®¡ç®—å‰©ä½™æ•…äº‹ç‚¹
  let total_capacity = multiply(sprints_needed, velocity_per_sprint)
  let buffer_capacity = subtract(total_capacity, story_points)
  assert_eq(5, buffer_capacity)  // 125 - 120 = 5
}

// æµ‹è¯•è´¢åŠ¡è®¡ç®—ï¼šè´·æ¬¾å’Œåˆ©æ¯
test financial_calculation_scenario {
  // åœºæ™¯ï¼šè®¡ç®—è´·æ¬¾åˆ†æœŸä»˜æ¬¾
  let loan_amount = 50000
  let monthly_payment = 2200
  
  // è®¡ç®—éœ€è¦çš„æœˆæ•°
  let months_needed = divide_with_ceil(loan_amount, monthly_payment)
  assert_eq(23, months_needed)  // ceil(50000/2200) = 23
  
  // è®¡ç®—æ€»æ”¯ä»˜é‡‘é¢
  let total_payment = multiply(months_needed, monthly_payment)
  assert_eq(50600, total_payment)  // 23 * 2200 = 50600
  
  // è®¡ç®—åˆ©æ¯
  let interest = subtract(total_payment, loan_amount)
  assert_eq(600, interest)  // 50600 - 50000 = 600
}

// æµ‹è¯•åº“å­˜ç®¡ç†ï¼šæ‰¹é‡å¤„ç†
test inventory_management_scenario {
  // åœºæ™¯ï¼šè®¡ç®—ä»“åº“å­˜å‚¨éœ€æ±‚
  
  // äº§å“1ï¼š157ä¸ªï¼Œæ¯ç®±24ä¸ª
  let product1_qty = 157
  let product1_box_size = 24
  let boxes1 = divide_with_ceil(product1_qty, product1_box_size)
  
  // äº§å“2ï¼š89ä¸ªï¼Œæ¯ç®±12ä¸ª
  let product2_qty = 89
  let product2_box_size = 12
  let boxes2 = divide_with_ceil(product2_qty, product2_box_size)
  
  // äº§å“3ï¼š267ä¸ªï¼Œæ¯ç®±30ä¸ª
  let product3_qty = 267
  let product3_box_size = 30
  let boxes3 = divide_with_ceil(product3_qty, product3_box_size)
  
  // äº§å“4ï¼š45ä¸ªï¼Œæ¯ç®±10ä¸ª
  let product4_qty = 45
  let product4_box_size = 10
  let boxes4 = divide_with_ceil(product4_qty, product4_box_size)
  
  // è®¡ç®—æ€»ç®±å­æ•°
  let total_boxes = add(add(boxes1, boxes2), add(boxes3, boxes4))
  assert_eq(29, total_boxes)  // 7 + 8 + 9 + 5 = 29
  
  // éªŒè¯å„äº§å“çš„ç®±å­æ•°
  assert_eq(7, boxes1)   // ceil(157/24) = 7
  assert_eq(8, boxes2)   // ceil(89/12) = 8
  assert_eq(9, boxes3)   // ceil(267/30) = 9
  assert_eq(5, boxes4)   // ceil(45/10) = 5
}

// æµ‹è¯•ç½‘ç»œå¸¦å®½è®¡ç®—
test network_bandwidth_calculation {
  // åœºæ™¯ï¼šè®¡ç®—æ•°æ®ä¼ è¾“æ—¶é—´å’Œå¸¦å®½éœ€æ±‚
  let data_size_mb = 2048  // 2GB
  let network_speed_mbps = 50
  
  // è®¡ç®—ä¼ è¾“æ—¶é—´ï¼ˆç§’ï¼‰
  let transfer_time = divide_with_ceil(data_size_mb, network_speed_mbps)
  assert_eq(41, transfer_time)  // ceil(2048/50) = 41
  
  // è®¡ç®—åœ¨å¤šä¸ªå¹¶è¡Œè¿æ¥ä¸‹çš„æ—¶é—´
  let parallel_connections = 4
  let effective_speed = multiply(network_speed_mbps, parallel_connections)
  let parallel_time = divide_with_ceil(data_size_mb, effective_speed)
  assert_eq(11, parallel_time)  // ceil(2048/200) = 11
  
  // è®¡ç®—æ—¶é—´èŠ‚çœ
  let time_saved = subtract(transfer_time, parallel_time)
  assert_eq(30, time_saved)  // 41 - 11 = 30
}

// æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†ï¼šå¤šè¯­è¨€æ”¯æŒ
test multilingual_string_processing {
  // æµ‹è¯•å„ç§è¯­è¨€å’Œç‰¹æ®Šå­—ç¬¦çš„é—®å€™
  assert_eq_string("Hello, ä¸­æ–‡!", greet("ä¸­æ–‡"))
  assert_eq_string("Hello, æ—¥æœ¬èª!", greet("æ—¥æœ¬èª"))
  assert_eq_string("Hello, í•œêµ­ì–´!", greet("í•œêµ­ì–´"))
  assert_eq_string("Hello, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!", greet("Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"))
  assert_eq_string("Hello, ×¢×‘×¨×™×ª!", greet("×¢×‘×¨×™×ª"))
  assert_eq_string("Hello, à¤¹à¤¿à¤¨à¥à¤¦à¥€!", greet("à¤¹à¤¿à¤¨à¥à¤¦à¥€"))
  assert_eq_string("Hello, ÎµÎ»Î»Î·Î½Î¹ÎºÎ¬!", greet("ÎµÎ»Î»Î·Î½Î¹ÎºÎ¬"))
  assert_eq_string("Hello, ğŸŒğŸŒğŸŒ!", greet("ğŸŒğŸŒğŸŒ"))
}

// æµ‹è¯•æ•°å­¦ç®—æ³•ï¼šç´ æ•°ç›¸å…³è®¡ç®—
test mathematical_algorithm_test {
  // åœºæ™¯ï¼šä½¿ç”¨åŸºæœ¬è¿ç®—å®ç°ç´ æ•°æ£€æŸ¥çš„è¾…åŠ©è®¡ç®—
  let number = 97
  
  // è®¡ç®—å¹³æ–¹æ ¹çš„æ•´æ•°éƒ¨åˆ†ï¼ˆä½¿ç”¨ç®€åŒ–æ–¹æ³•ï¼‰
  let sqrt_estimate = divide_with_ceil(number, 10)
  let refined_estimate = add(sqrt_estimate, divide_with_ceil(sqrt_estimate, 2))
  assert_eq(15, refined_estimate)  // ceil(97/10) + ceil(10/2) = 10 + 5 = 15
  
  // è®¡ç®—æ£€æŸ¥èŒƒå›´
  let check_range = multiply(refined_estimate, 2)
  assert_eq(30, check_range)  // 15 * 2 = 30
  
  // éªŒè¯å¥‡å¶æ€§
  let is_even = divide_with_ceil(number, 2)
  let even_check = multiply(is_even, 2)
  assert_eq(98, even_check)  // ceil(97/2) * 2 = 49 * 2 = 98
  assert_true(number <> even_check)  // 97 != 98ï¼Œæ‰€ä»¥æ˜¯å¥‡æ•°
}

// æµ‹è¯•å‡ ä½•è®¡ç®—ï¼šé¢ç§¯å’Œä½“ç§¯
test geometric_calculation_test {
  // åœºæ™¯ï¼šè®¡ç®—å‡ ä½•å½¢çŠ¶çš„é¢ç§¯å’Œä½“ç§¯
  // çŸ©å½¢æˆ¿é—´è®¡ç®—
  let room_length = 12
  let room_width = 8
  let room_height = 3
  
  // è®¡ç®—åœ°æ¿é¢ç§¯
  let floor_area = multiply(room_length, room_width)
  assert_eq(96, floor_area)  // 12 * 8 = 96
  
  // è®¡ç®—å¢™å£æ€»é¢ç§¯
  let wall_area_1 = multiply(room_length, room_height)
  let wall_area_2 = multiply(room_width, room_height)
  let total_wall_area = multiply(add(wall_area_1, wall_area_2), 2)
  assert_eq(120, total_wall_area)  // 2 * (12*3 + 8*3) = 120
  
  // è®¡ç®—æˆ¿é—´ä½“ç§¯
  let room_volume = multiply(floor_area, room_height)
  assert_eq(288, room_volume)  // 96 * 3 = 288
  
  // è®¡ç®—éœ€è¦çš„æ²¹æ¼†æ¡¶æ•°ï¼ˆæ¯æ¡¶è¦†ç›–25å¹³æ–¹ç±³ï¼‰
  let paint_buckets = divide_with_ceil(total_wall_area, 25)
  assert_eq(5, paint_buckets)  // ceil(120/25) = 5
}

// æµ‹è¯•æ—¶é—´è®¡ç®—ï¼šå·¥ä½œæ—¥å’Œå‡æœŸ
test time_calculation_scenario {
  // åœºæ™¯ï¼šè®¡ç®—é¡¹ç›®å·¥ä½œæ—¥å’Œå‡æœŸå®‰æ’
  let project_days = 45
  let work_days_per_week = 5
  let weeks_needed = divide_with_ceil(project_days, work_days_per_week)
  assert_eq(9, weeks_needed)  // ceil(45/5) = 9
  
  // è®¡ç®—æ€»æ—¥å†å¤©æ•°ï¼ˆåŒ…æ‹¬å‘¨æœ«ï¼‰
  let calendar_days = multiply(weeks_needed, 7)
  assert_eq(63, calendar_days)  // 9 * 7 = 63
  
  // è®¡ç®—å‘¨æœ«å¤©æ•°
  let weekend_days = subtract(calendar_days, project_days)
  assert_eq(18, weekend_days)  // 63 - 45 = 18
  
  // è®¡ç®—å‡æœŸå¤©æ•°ï¼ˆå‡è®¾æ¯3å‘¨ä¼‘æ¯1å‘¨ï¼‰
  let holiday_weeks = divide_with_ceil(weeks_needed, 3)
  let holiday_days = multiply(holiday_weeks, 7)
  assert_eq(21, holiday_days)  // ceil(9/3) * 7 = 21
}

// æµ‹è¯•èƒ½æºæ¶ˆè€—è®¡ç®—
test energy_consumption_calculation {
  // åœºæ™¯ï¼šè®¡ç®—å»ºç­‘èƒ½æºæ¶ˆè€—
  let daily_consumption_kwh = 850
  let solar_panel_generation = 200
  let battery_capacity_kwh = 5000
  
  // è®¡ç®—å‡€æ—¥æ¶ˆè€—é‡
  let net_daily_consumption = subtract(daily_consumption_kwh, solar_panel_generation)
  assert_eq(650, net_daily_consumption)  // 850 - 200 = 650
  
  // è®¡ç®—ç”µæ± å¯æŒç»­å¤©æ•°
  let battery_days = divide_with_ceil(battery_capacity_kwh, net_daily_consumption)
  assert_eq(8, battery_days)  // ceil(5000/650) = 8
  
  // è®¡ç®—æœˆæ¶ˆè€—é‡
  let monthly_consumption = multiply(net_daily_consumption, 30)
  assert_eq(19500, monthly_consumption)  // 650 * 30 = 19500
  
  // è®¡ç®—éœ€è¦çš„ç”µæ± æ•°é‡ä»¥æ»¡è¶³30å¤©éœ€æ±‚
  let batteries_needed = divide_with_ceil(monthly_consumption, battery_capacity_kwh)
  assert_eq(4, batteries_needed)  // ceil(19500/5000) = 4
}