// æ ‡å‡† MoonBit æµ‹è¯•å¥—ä»¶
// åŒ…å«8ä¸ªé«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹ï¼Œè¦†ç›– azimuth åº“çš„æ ¸å¿ƒåŠŸèƒ½

test "add_function_boundary_cases" {
  // æµ‹è¯•åŠ æ³•å‡½æ•°çš„è¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(2147483647, @azimuth.add(2147483646, 1))
  @azimuth.assert_eq(-2147483648, @azimuth.add(-2147483647, -1))
  @azimuth.assert_eq(1, @azimuth.add(-2147483648, 2147483649))
}

test "multiply_function_zero_properties" {
  // æµ‹è¯•ä¹˜æ³•å‡½æ•°çš„é›¶å…ƒç´ æ€§è´¨
  @azimuth.assert_eq(0, @azimuth.multiply(0, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 2147483647))
  @azimuth.assert_eq(0, @azimuth.multiply(-2147483648, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(12345, 0))
}

test "greet_function_special_characters" {
  // æµ‹è¯•é—®å€™å‡½æ•°çš„ç‰¹æ®Šå­—ç¬¦å¤„ç†
  @azimuth.assert_eq_string("Hello, \"quoted\"!", @azimuth.greet("\"quoted\""))
  @azimuth.assert_eq_string("Hello, 'single'!", @azimuth.greet("'single'"))
  @azimuth.assert_eq_string("Hello, &amp;!", @azimuth.greet("&amp;"))
  @azimuth.assert_eq_string("Hello, emoji ğŸ˜€!", @azimuth.greet("emoji ğŸ˜€"))
}

test "divide_with_ceil_negative_dividend" {
  // æµ‹è¯•è´Ÿæ•°è¢«é™¤æ•°çš„å‘ä¸Šå–æ•´é™¤æ³•
  @azimuth.assert_eq(-2, @azimuth.divide_with_ceil(-5, 3))
  @azimuth.assert_eq(-1, @azimuth.divide_with_ceil(-3, 4))
  @azimuth.assert_eq(-4, @azimuth.divide_with_ceil(-11, 3))
  @azimuth.assert_eq(-1, @azimuth.divide_with_ceil(-1, 2))
}

test "divide_with_ceil_negative_divisor" {
  // æµ‹è¯•è´Ÿæ•°é™¤æ•°çš„å‘ä¸Šå–æ•´é™¤æ³•
  @azimuth.assert_eq(-3, @azimuth.divide_with_ceil(10, -4))
  @azimuth.assert_eq(-2, @azimuth.divide_with_ceil(7, -4))
  @azimuth.assert_eq(-1, @azimuth.divide_with_ceil(3, -4))
  @azimuth.assert_eq(-5, @azimuth.divide_with_ceil(20, -4))
}

test "complex_calculation_scenario" {
  // å¤æ‚è®¡ç®—åœºæ™¯æµ‹è¯•
  let base_price = 100
  let tax_rate = 8
  let quantity = 3
  let discount = 15
  
  // è®¡ç®—æ€»ä»·ï¼š(åŸºç¡€ä»·æ ¼ * æ•°é‡) - æŠ˜æ‰£
  let subtotal = @azimuth.multiply(base_price, quantity)
  let total = @azimuth.add(subtotal, -discount)
  
  // è®¡ç®—éœ€è¦çš„åŒ…è£…ç®±æ•°é‡ï¼ˆæ¯ä¸ªç®±å­è£…25ä¸ªï¼‰
  let boxes_needed = @azimuth.divide_with_ceil(quantity, 25)
  
  @azimuth.assert_eq(285, total)  // (100 * 3) - 15 = 285
  @azimuth.assert_eq(1, boxes_needed)  // ceil(3/25) = 1
}

test "mathematical_identities" {
  // æ•°å­¦æ’ç­‰å¼æµ‹è¯•
  let x = 42
  let y = 17
  
  // åŠ æ³•æ’ç­‰å¼
  @azimuth.assert_eq(x, @azimuth.add(x, 0))
  @azimuth.assert_eq(y, @azimuth.add(0, y))
  
  // ä¹˜æ³•æ’ç­‰å¼
  @azimuth.assert_eq(x, @azimuth.multiply(x, 1))
  @azimuth.assert_eq(y, @azimuth.multiply(1, y))
  
  // åˆ†é…å¾‹æµ‹è¯•
  @azimuth.assert_eq(@azimuth.multiply(x, @azimuth.add(y, 1)), 
                     @azimuth.add(@azimuth.multiply(x, y), x))
}

test "string_and_number_combination" {
  // å­—ç¬¦ä¸²å’Œæ•°å­—ç»„åˆæµ‹è¯•
  let number_as_string = "123"
  let expected_result = "Hello, 123!"
  @azimuth.assert_eq_string(expected_result, @azimuth.greet(number_as_string))
  
  // æµ‹è¯•åŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²
  let mixed_string = "User123"
  @azimuth.assert_eq_string("Hello, User123!", @azimuth.greet(mixed_string))
  
  // æµ‹è¯•çº¯æ•°å­—å­—ç¬¦ä¸²
  let pure_number = "456789"
  @azimuth.assert_eq_string("Hello, 456789!", @azimuth.greet(pure_number))
}