// Azimuth é¢å¤–æµ‹è¯•å¥—ä»¶ - æ–°å¢10ä¸ªé«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

test "mathematical_commutativity_extended" {
  // æ‰©å±•çš„æ•°å­¦äº¤æ¢å¾‹æµ‹è¯•
  let a = 123
  let b = 456
  let c = 789
  
  // åŠ æ³•äº¤æ¢å¾‹çš„å¤šé‡éªŒè¯
  assert_eq(add(a, b), add(b, a))
  assert_eq(add(add(a, b), c), add(c, add(b, a)))
  
  // ä¹˜æ³•äº¤æ¢å¾‹çš„å¤šé‡éªŒè¯
  assert_eq(multiply(a, b), multiply(b, a))
  assert_eq(multiply(multiply(a, b), c), multiply(c, multiply(b, a)))
}

test "logistics_optimization_scenario" {
  // ç‰©æµä¼˜åŒ–åœºæ™¯æµ‹è¯•
  // åœºæ™¯ï¼šä»“åº“åˆ°å¤šä¸ªé…é€ç‚¹çš„è·¯çº¿ä¼˜åŒ–
  let total_distance = 1250  // æ€»è·ç¦»ï¼ˆå…¬é‡Œï¼‰
  let truck_capacity = 80    // å¡è½¦è½½é‡ï¼ˆç®±ï¼‰
  let total_packages = 587   // æ€»åŒ…è£¹æ•°
  
  // è®¡ç®—éœ€è¦çš„å¡è½¦æ•°é‡
  let trucks_needed = divide_with_ceil(total_packages, truck_capacity)
  assert_eq(8, trucks_needed)  // ceil(587/80) = 8
  
  // è®¡ç®—æ¯è¾†å¡è½¦çš„å¹³å‡è´Ÿè½½
  let avg_load_per_truck = divide_with_ceil(total_packages, trucks_needed)
  assert_eq(74, avg_load_per_truck)  // ceil(587/8) = 74
  
  // è®¡ç®—æ€»è¿è¾“èƒ½åŠ›
  let total_capacity = multiply(trucks_needed, truck_capacity)
  assert_eq(640, total_capacity)
  
  // è®¡ç®—å‰©ä½™å®¹é‡
  let remaining_capacity = subtract(total_capacity, total_packages)
  assert_eq(53, remaining_capacity)
}

test "string_processing_multilingual" {
  // å¤šè¯­è¨€å­—ç¬¦ä¸²å¤„ç†æµ‹è¯•
  assert_eq_string("Hello, ä¸­æ–‡!", greet("ä¸­æ–‡"))
  assert_eq_string("Hello, æ—¥æœ¬èª!", greet("æ—¥æœ¬èª"))
  assert_eq_string("Hello, í•œêµ­ì–´!", greet("í•œêµ­ì–´"))
  assert_eq_string("Hello, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©!", greet("Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"))
  assert_eq_string("Hello, ×¢×‘×¨×™×ª!", greet("×¢×‘×¨×™×ª"))
}

test "financial_compound_interest" {
  // é‡‘èå¤åˆ©è®¡ç®—æµ‹è¯•
  let principal = 10000
  let rate_percent = 8
  let years = 4
  
  // å¹´åº¦å¤åˆ©è®¡ç®—
  let year1 = add(principal, divide_with_ceil(multiply(principal, rate_percent), 100))
  let year2 = add(year1, divide_with_ceil(multiply(year1, rate_percent), 100))
  let year3 = add(year2, divide_with_ceil(multiply(year2, rate_percent), 100))
  let year4 = add(year3, divide_with_ceil(multiply(year3, rate_percent), 100))
  
  assert_eq(10800, year1)   // 10000 + 8%
  assert_eq(11664, year2)   // 10800 + 8%
  assert_eq(12597, year3)   // 11664 + 8%
  assert_eq(13605, year4)   // 12597 + 8%
  
  // è®¡ç®—æœˆä¾›
  let total_months = multiply(years, 12)
  let monthly_payment = divide_with_ceil(year4, total_months)
  assert_eq(284, monthly_payment)  // ceil(13605/48)
}

test "resource_allocation_fair_distribution" {
  // èµ„æºå…¬å¹³åˆ†é…æµ‹è¯•
  let total_resources = 1000
  let departments = 7
  let min_resources_per_dept = divide_with_ceil(total_resources, departments)
  
  assert_eq(143, min_resources_per_dept)  // ceil(1000/7)
  
  // éªŒè¯åˆ†é…çš„å…¬å¹³æ€§
  let total_allocated = multiply(min_resources_per_dept, departments)
  let surplus = subtract(total_allocated, total_resources)
  
  assert_eq(1001, total_allocated)
  assert_eq(1, surplus)
  
  // ä¼˜åŒ–åˆ†é…ç­–ç•¥
  let optimized_allocation = subtract(min_resources_per_dept, 1)
  let optimized_total = multiply(optimized_allocation, departments)
  let remaining_for_last = add(optimized_allocation, surplus)
  
  assert_eq(996, optimized_total)
  assert_eq(144, remaining_for_last)
}

test "complex_calculation_workflow" {
  // å¤æ‚è®¡ç®—å·¥ä½œæµæµ‹è¯•
  // åœºæ™¯ï¼šç”Ÿäº§è®¡åˆ’ä¼˜åŒ–
  let demand = 450
  let production_rate = 35
  let days_needed = divide_with_ceil(demand, production_rate)
  
  assert_eq(13, days_needed)  // ceil(450/35)
  
  // è®¡ç®—å®é™…äº§é‡
  let actual_production = multiply(days_needed, production_rate)
  assert_eq(455, actual_production)
  
  // è®¡ç®—å‰©ä½™äº§å“
  let surplus = subtract(actual_production, demand)
  assert_eq(5, surplus)
  
  // è®¡ç®—å­˜å‚¨æˆæœ¬ï¼ˆæ¯ä¸ªäº§å“2å…ƒï¼‰
  let storage_cost_per_unit = 2
  let total_storage_cost = multiply(surplus, storage_cost_per_unit)
  assert_eq(10, total_storage_cost)
}

test "edge_case_extreme_values" {
  // æå€¼è¾¹ç¼˜æƒ…å†µæµ‹è¯•
  // æµ‹è¯•æ¥è¿‘Intè¾¹ç•Œçš„å€¼
  let large_positive = 1000000
  let large_negative = -1000000
  
  // å¤§æ•°è¿ç®—
  assert_eq(2000000, add(large_positive, large_positive))
  assert_eq(-2000000, add(large_negative, large_negative))
  assert_eq(0, add(large_positive, large_negative))
  
  assert_eq(1000000, multiply(large_positive, large_positive))
  assert_eq(1000000, multiply(large_negative, large_negative))
  assert_eq(-1000000, multiply(large_positive, large_negative))
  
  // å¤§æ•°é™¤æ³•
  assert_eq(1000, divide_with_ceil(large_positive, 1000))
  assert_eq(-1000, divide_with_ceil(large_negative, 1000))
}

test "unicode_emoji_support" {
  // Unicodeè¡¨æƒ…ç¬¦å·æ”¯æŒæµ‹è¯•
  assert_eq_string("Hello, ğŸ˜€!", greet("ğŸ˜€"))
  assert_eq_string("Hello, ğŸ‰!", greet("ğŸ‰"))
  assert_eq_string("Hello, ğŸŒŸ!", greet("ğŸŒŸ"))
  assert_eq_string("Hello, ğŸ’»!", greet("ğŸ’»"))
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))
  assert_eq_string("Hello, ğŸŒˆ!", greet("ğŸŒˆ"))
}

test "project_management_timeline" {
  // é¡¹ç›®ç®¡ç†æ—¶é—´çº¿æµ‹è¯•
  let total_tasks = 120
  let team_size = 8
  let tasks_per_person_per_day = 3
  let work_days_per_week = 5
  
  // è®¡ç®—æ—¥äº§èƒ½
  let daily_capacity = multiply(team_size, tasks_per_person_per_day)
  assert_eq(24, daily_capacity)
  
  // è®¡ç®—éœ€è¦çš„å·¥ä½œæ—¥
  let work_days_needed = divide_with_ceil(total_tasks, daily_capacity)
  assert_eq(5, work_days_needed)  // ceil(120/24)
  
  // è®¡ç®—éœ€è¦çš„å‘¨æ•°
  let weeks_needed = divide_with_ceil(work_days_needed, work_days_per_week)
  assert_eq(1, weeks_needed)  // ceil(5/5)
  
  // è®¡ç®—æ€»å·¥ä½œæ—¥ï¼ˆå«ç¼“å†²ï¼‰
  let buffer_days = 2
  let total_work_days = add(work_days_needed, buffer_days)
  assert_eq(7, total_work_days)
}

test "error_handling_comprehensive" {
  // ç»¼åˆé”™è¯¯å¤„ç†æµ‹è¯•
  // é™¤é›¶é”™è¯¯çš„å„ç§æƒ…å†µ
  assert_eq(0, divide_with_ceil(0, 0))
  assert_eq(0, divide_with_ceil(100, 0))
  assert_eq(0, divide_with_ceil(-100, 0))
  assert_eq(0, divide_with_ceil(2147483647, 0))
  assert_eq(0, divide_with_ceil(-2147483648, 0))
  
  // æå°é™¤æ•°æµ‹è¯•
  assert_eq(1000000, divide_with_ceil(999999, 1))
  assert_eq(-999999, divide_with_ceil(-999999, 1))
  assert_eq(500000, divide_with_ceil(999999, 2))
  assert_eq(-333333, divide_with_ceil(-999999, 3))
  
  // é›¶å€¼è¿ç®—æµ‹è¯•
  assert_eq(0, multiply(0, 2147483647))
  assert_eq(0, multiply(0, -2147483648))
  assert_eq(0, add(0, 0))
  assert_eq(2147483647, add(0, 2147483647))
  assert_eq(-2147483648, add(0, -2147483648))
}