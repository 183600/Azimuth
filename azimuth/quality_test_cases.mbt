// é«˜è´¨é‡ MoonBit æµ‹è¯•ç”¨ä¾‹
// è¦†ç›–è¾¹ç•Œæƒ…å†µã€ç‰¹æ®Šåœºæ™¯å’Œå®é™…åº”ç”¨

test "add_function_precision" {
  // æµ‹è¯•åŠ æ³•ç²¾åº¦å’Œè¾¹ç•Œæƒ…å†µ
  @azimuth.assert_eq(1000000000, @azimuth.add(500000000, 500000000))
  @azimuth.assert_eq(-1000000000, @azimuth.add(-500000000, -500000000))
  @azimuth.assert_eq(0, @azimuth.add(2147483647, -2147483647))
  @azimuth.assert_eq(-1, @azimuth.add(-2147483648, 2147483647))
}

test "multiply_function_large_scale" {
  // æµ‹è¯•å¤§è§„æ¨¡ä¹˜æ³•è¿ç®—
  @azimuth.assert_eq(100000000, @azimuth.multiply(10000, 10000))
  @azimuth.assert_eq(-100000000, @azimuth.multiply(-10000, 10000))
  @azimuth.assert_eq(100000000, @azimuth.multiply(-10000, -10000))
  @azimuth.assert_eq(46340, @azimuth.multiply(46340, 1))
}

test "divide_with_ceil_business_logic" {
  // æµ‹è¯•ä¸šåŠ¡é€»è¾‘åœºæ™¯ï¼šèµ„æºåˆ†é…
  let employees = 23
  let desks_per_row = 6
  let rows_needed = @azimuth.divide_with_ceil(employees, desks_per_row)
  @azimuth.assert_eq(4, rows_needed)
  
  // éªŒè¯æ€»å®¹é‡
  let total_capacity = @azimuth.multiply(rows_needed, desks_per_row)
  @azimuth.assert_eq(24, total_capacity)
}

test "greet_function_multilingual" {
  // æµ‹è¯•å¤šè¯­è¨€é—®å€™åŠŸèƒ½
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", @azimuth.greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  @azimuth.assert_eq_string("Hello, cafÃ©!", @azimuth.greet("cafÃ©"))
  @azimuth.assert_eq_string("Hello, Ã±oÃ±o!", @azimuth.greet("Ã±oÃ±o"))
  @azimuth.assert_eq_string("Hello, ğŸš€!", @azimuth.greet("ğŸš€"))
}

test "complex_calculation_pipeline" {
  // æµ‹è¯•å¤æ‚è®¡ç®—æµæ°´çº¿
  // åœºæ™¯ï¼šè®¡ç®—é¡¹ç›®æˆæœ¬
  let team_size = 5
  let daily_rate = 200
  let project_days = 12
  let overhead_rate = 15
  
  // è®¡ç®—åŸºç¡€æˆæœ¬
  let base_cost = @azimuth.multiply(team_size, @azimuth.multiply(daily_rate, project_days))
  
  // è®¡ç®—ç®¡ç†è´¹ç”¨
  let overhead_cost = @azimuth.multiply(base_cost, overhead_rate)
  
  // è®¡ç®—æ€»æˆæœ¬
  let total_cost = @azimuth.add(base_cost, overhead_cost)
  
  @azimuth.assert_eq(12000, base_cost)      // 5 * 200 * 12 = 12000
  @azimuth.assert_eq(180000, overhead_cost) // 12000 * 15 = 180000
  @azimuth.assert_eq(192000, total_cost)    // 12000 + 180000 = 192000
}

test "mathematical_properties_comprehensive" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨çš„ç»¼åˆéªŒè¯
  let a = 17
  let b = 23
  let c = 31
  
  // åŠ æ³•äº¤æ¢å¾‹å’Œç»“åˆå¾‹
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  @azimuth.assert_eq(@azimuth.add(@azimuth.add(a, b), c), @azimuth.add(a, @azimuth.add(b, c)))
  
  // ä¹˜æ³•äº¤æ¢å¾‹å’Œç»“åˆå¾‹
  @azimuth.assert_eq(@azimuth.multiply(a, b), @azimuth.multiply(b, a))
  @azimuth.assert_eq(@azimuth.multiply(@azimuth.multiply(a, b), c), @azimuth.multiply(a, @azimuth.multiply(b, c)))
  
  // åˆ†é…å¾‹
  let left = @azimuth.multiply(a, @azimuth.add(b, c))
  let right = @azimuth.add(@azimuth.multiply(a, b), @azimuth.multiply(a, c))
  @azimuth.assert_eq(left, right)
}

test "edge_case_zero_handling" {
  // æµ‹è¯•é›¶å€¼çš„å…¨é¢å¤„ç†
  // åŠ æ³•ä¸­çš„é›¶å€¼
  @azimuth.assert_eq(42, @azimuth.add(42, 0))
  @azimuth.assert_eq(-42, @azimuth.add(-42, 0))
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  
  // ä¹˜æ³•ä¸­çš„é›¶å€¼
  @azimuth.assert_eq(0, @azimuth.multiply(42, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(-42, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 42))
  @azimuth.assert_eq(0, @azimuth.multiply(0, -42))
  
  // é™¤æ³•ä¸­çš„é›¶å€¼
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 42))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, -42))
  @azimuth.assert_eq(0, @azimuth.divide_with_ceil(0, 1))
}

test "negative_number_comprehensive" {
  // æµ‹è¯•è´Ÿæ•°çš„å…¨é¢è¿ç®—
  // è´Ÿæ•°åŠ æ³•
  @azimuth.assert_eq(-15, @azimuth.add(-7, -8))
  @azimuth.assert_eq(-1, @azimuth.add(-7, 6))
  @azimuth.assert_eq(1, @azimuth.add(-6, 7))
  
  // è´Ÿæ•°ä¹˜æ³•
  @azimuth.assert_eq(56, @azimuth.multiply(-7, -8))
  @azimuth.assert_eq(-42, @azimuth.multiply(-7, 6))
  @azimuth.assert_eq(-42, @azimuth.multiply(7, -6))
  
  // è´Ÿæ•°é™¤æ³•
  @azimuth.assert_eq(-2, @azimuth.divide_with_ceil(-15, 8))
  @azimuth.assert_eq(-2, @azimuth.divide_with_ceil(15, -8))
  @azimuth.assert_eq(2, @azimuth.divide_with_ceil(-15, -8))
}

test "real_world_inventory_management" {
  // æµ‹è¯•çœŸå®ä¸–ç•Œåº“å­˜ç®¡ç†åœºæ™¯
  let total_products = 157
  let box_capacity = 24
  let warehouse_sections = 6
  
  // è®¡ç®—éœ€è¦çš„ç®±å­æ•°é‡
  let boxes_needed = @azimuth.divide_with_ceil(total_products, box_capacity)
  @azimuth.assert_eq(7, boxes_needed)
  
  // è®¡ç®—æ¯ä¸ªä»“åº“åŒºåŸŸçš„ç®±å­æ•°é‡
  let boxes_per_section = @azimuth.divide_with_ceil(boxes_needed, warehouse_sections)
  @azimuth.assert_eq(2, boxes_per_section)
  
  // è®¡ç®—æ€»å­˜å‚¨å®¹é‡
  let total_capacity = @azimuth.multiply(boxes_needed, box_capacity)
  @azimuth.assert_eq(168, total_capacity)
  
  // è®¡ç®—å‰©ä½™ç©ºé—´
  let remaining_space = @azimuth.add(total_capacity, -total_products)
  @azimuth.assert_eq(11, remaining_space)
}

test "string_processing_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
  // ç©ºå­—ç¬¦ä¸²å’Œç‰¹æ®Šå­—ç¬¦
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
  @azimuth.assert_eq_string("Hello,   !", @azimuth.greet("  "))
  @azimuth.assert_eq_string("Hello, \t\n\r!", @azimuth.greet("\t\n\r"))
  
  // ç‰¹æ®Šç¬¦å·å’Œè¡¨æƒ…ç¬¦å·
  @azimuth.assert_eq_string("Hello, @#$%^&*()!", @azimuth.greet("@#$%^&*()"))
  @azimuth.assert_eq_string("Hello, ğŸ‰ğŸš€ğŸŒŸ!", @azimuth.greet("ğŸ‰ğŸš€ğŸŒŸ"))
  
  // é•¿å­—ç¬¦ä¸²
  let long_string = "ThisIsAVeryLongStringThatTestsTheGreetingFunctionWithExtendedInput"
  let expected = "Hello, " + long_string + "!"
  @azimuth.assert_eq_string(expected, @azimuth.greet(long_string))
}