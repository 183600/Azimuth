// Azimuth é¡¹ç›®ç®€å•æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

test "add_basic" {
  @azimuth.assert_eq(5, @azimuth.add(2, 3))
  @azimuth.assert_eq(0, @azimuth.add(0, 0))
  @azimuth.assert_eq(-5, @azimuth.add(-2, -3))
}

test "multiply_basic" {
  @azimuth.assert_eq(6, @azimuth.multiply(2, 3))
  @azimuth.assert_eq(0, @azimuth.multiply(0, 5))
  @azimuth.assert_eq(15, @azimuth.multiply(-3, -5))
}

test "greet_basic" {
  @azimuth.assert_eq_string("Hello, World!", @azimuth.greet("World"))
  @azimuth.assert_eq_string("Hello, !", @azimuth.greet(""))
}

test "math_properties" {
  // åŠ æ³•äº¤æ¢å¾‹
  let a = 10
  let b = 20
  @azimuth.assert_eq(@azimuth.add(a, b), @azimuth.add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  @azimuth.assert_eq(@azimuth.multiply(a, b), @azimuth.multiply(b, a))
}

test "boundary_values" {
  let max_val = 2147483647
  let min_val = -2147483648
  
  // è¾¹ç•Œå€¼åŠ æ³•
  @azimuth.assert_eq(max_val, @azimuth.add(max_val, 1))
  @azimuth.assert_eq(min_val, @azimuth.add(min_val, -1))
  
  // è¾¹ç•Œå€¼ä¹˜æ³•
  @azimuth.assert_eq(0, @azimuth.multiply(max_val, 0))
  @azimuth.assert_eq(min_val, @azimuth.multiply(min_val, -1))
}

test "unicode_string_support" {
  // Unicode å­—ç¬¦ä¸²æ”¯æŒæµ‹è¯•
  @azimuth.assert_eq_string("Hello, ä¸–ç•Œ!", @azimuth.greet("ä¸–ç•Œ"))
  @azimuth.assert_eq_string("Hello, ğŸŒ™!", @azimuth.greet("ğŸŒ™"))
  @azimuth.assert_eq_string("Hello, Î±Î²Î³Î´Îµ!", @azimuth.greet("Î±Î²Î³Î´Îµ"))
}

test "mathematical_identities" {
  // æ•°å­¦æ’ç­‰å¼æµ‹è¯•
  let x = 42
  
  // åŠ æ³•æ’ç­‰å¼
  @azimuth.assert_eq(x, @azimuth.add(x, 0))
  @azimuth.assert_eq(x, @azimuth.add(0, x))
  
  // ä¹˜æ³•æ’ç­‰å¼
  @azimuth.assert_eq(x, @azimuth.multiply(x, 1))
  @azimuth.assert_eq(x, @azimuth.multiply(1, x))
  
  // é›¶ä¹˜æ³•
  @azimuth.assert_eq(0, @azimuth.multiply(x, 0))
  @azimuth.assert_eq(0, @azimuth.multiply(0, x))
}

test "real_world_calculations" {
  // å®é™…åº”ç”¨åœºæ™¯è®¡ç®—æµ‹è¯•
  
  // è®¡ç®—è´­ç‰©è½¦æ€»ä»·
  let item1_price = 299
  let item2_price = 199
  let item3_price = 99
  let tax_rate = 8  // 8%
  
  let subtotal = @azimuth.add(@azimuth.add(item1_price, item2_price), item3_price)
  let tax_amount = @azimuth.multiply(subtotal, tax_rate) / 100
  let total = @azimuth.add(subtotal, tax_amount)
  
  @azimuth.assert_eq(597, subtotal)
  @azimuth.assert_eq(47, tax_amount)
  @azimuth.assert_eq(644, total)
}

test "input_validation_edge_cases" {
  // è¾“å…¥éªŒè¯è¾¹ç•Œæƒ…å†µæµ‹è¯•
  let very_long_name = "ThisIsAVeryLongNameThatMightCauseIssuesInSomeSystems"
  let result1 = @azimuth.greet(very_long_name)
  @azimuth.assert_eq_string("Hello, " + very_long_name + "!", result1)
  
  // åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„åç§°
  let special_chars = "test@example.com"
  let result2 = @azimuth.greet(special_chars)
  @azimuth.assert_eq_string("Hello, test@example.com!", result2)
}