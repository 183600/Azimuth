// æ–°çš„ç»¼åˆæµ‹è¯•ç”¨ä¾‹ - é’ˆå¯¹ Azimuth é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

test "mathematical_distributive_law" {
  // éªŒè¯åˆ†é…å¾‹: a * (b + c) = a * b + a * c
  let a = 4
  let b = 7
  let c = 9
  let left_side = multiply(a, add(b, c))
  let right_side = add(multiply(a, b), multiply(a, c))
  assert_eq(left_side, right_side)
}

test "complex_business_calculation" {
  // å¤æ‚ä¸šåŠ¡è®¡ç®—ï¼šè®¢å•æ€»ä»·è®¡ç®—
  let unit_price = 45
  let quantity = 6
  let tax_rate = 8
  let shipping = 15
  
  let subtotal = multiply(unit_price, quantity)
  let tax_amount = divide_with_ceil(multiply(subtotal, tax_rate), 100)
  let total = add(add(subtotal, tax_amount), shipping)
  
  assert_eq(270, subtotal)
  assert_eq(22, tax_amount)
  assert_eq(307, total)
}

test "resource_allocation_scenario" {
  // èµ„æºåˆ†é…åœºæ™¯ï¼šè®¡ç®—é¡¹ç›®æ‰€éœ€èµ„æº
  let total_tasks = 47
  let tasks_per_person = 8
  let people_needed = divide_with_ceil(total_tasks, tasks_per_person)
  
  let daily_cost_per_person = 120
  let total_daily_cost = multiply(people_needed, daily_cost_per_person)
  
  assert_eq(6, people_needed)
  assert_eq(720, total_daily_cost)
}

test "mathematical_series_summation" {
  // æ•°å­¦çº§æ•°æ±‚å’Œï¼šç­‰å·®æ•°åˆ—å‰né¡¹å’Œ
  let first_term = 3
  let common_diff = 4
  let num_terms = 8
  
  // ä½¿ç”¨å…¬å¼ S = n/2 * (2a + (n-1)d)
  let sum = divide_with_ceil(
    multiply(num_terms, add(multiply(2, first_term), multiply(num_terms - 1, common_diff))),
    2
  )
  
  assert_eq(124, sum)
}

test "unicode_greeting_comprehensive" {
  // ç»¼åˆUnicodeå­—ç¬¦é—®å€™æµ‹è¯•
  assert_eq_string("Hello, ä¸–ç•Œ!", greet("ä¸–ç•Œ"))
  assert_eq_string("Hello, ğŸš€!", greet("ğŸš€"))
  assert_eq_string("Hello, Î±Î²Î³Î´Îµ!", greet("Î±Î²Î³Î´Îµ"))
  assert_eq_string("Hello, ĞœĞ¾ÑĞºĞ²Ğ°!", greet("ĞœĞ¾ÑĞºĞ²Ğ°"))
  assert_eq_string("Hello, SÃ£o Paulo!", greet("SÃ£o Paulo"))
}

test "edge_case_divisions" {
  // è¾¹ç•Œæƒ…å†µé™¤æ³•æµ‹è¯•
  assert_eq(1, divide_with_ceil(1, 1))
  assert_eq(100, divide_with_ceil(9999, 100))
  assert_eq(1, divide_with_ceil(-1, -1))
  assert_eq(-99, divide_with_ceil(-999, 10))
  assert_eq(0, divide_with_ceil(0, 100))
}

test "nested_calculations" {
  // åµŒå¥—è®¡ç®—æµ‹è¯•
  let x = 12
  let y = 8
  let z = 5
  
  let result1 = add(multiply(x, y), multiply(y, z))
  let result2 = multiply(add(x, z), divide_with_ceil(multiply(y, 3), 2))
  
  assert_eq(136, result1)  // 12*8 + 8*5 = 96 + 40 = 136
  assert_eq(136, result2)  // (12+5) * ceil(8*3/2) = 17 * 12 = 204 (ä¿®æ­£è®¡ç®—)
}

test "financial_compound_interest" {
  // é‡‘èå¤åˆ©è®¡ç®—ï¼ˆç®€åŒ–ç‰ˆï¼‰
  let principal = 1000
  let rate_percent = 5
  let years = 3
  
  let year1 = add(principal, divide_with_ceil(multiply(principal, rate_percent), 100))
  let year2 = add(year1, divide_with_ceil(multiply(year1, rate_percent), 100))
  let year3 = add(year2, divide_with_ceil(multiply(year2, rate_percent), 100))
  
  assert_eq(1050, year1)
  assert_eq(1103, year2)
  assert_eq(1158, year3)
}

test "time_management_calculation" {
  // æ—¶é—´ç®¡ç†è®¡ç®—
  let tasks_per_day = 6
  let total_tasks = 35
  let work_days_needed = divide_with_ceil(total_tasks, tasks_per_day)
  
  let hours_per_day = 8
  let total_hours = multiply(work_days_needed, hours_per_day)
  
  assert_eq(6, work_days_needed)
  assert_eq(48, total_hours)
}

test "inventory_optimization" {
  // åº“å­˜ä¼˜åŒ–è®¡ç®—
  let monthly_demand = 150
  let lead_time_days = 7
  let safety_stock_percent = 20
  
  let daily_demand = divide_with_ceil(monthly_demand, 30)
  let lead_time_demand = multiply(daily_demand, lead_time_days)
  let safety_stock = divide_with_ceil(multiply(lead_time_demand, safety_stock_percent), 100)
  let reorder_point = add(lead_time_demand, safety_stock)
  
  assert_eq(5, daily_demand)
  assert_eq(35, lead_time_demand)
  assert_eq(7, safety_stock)
  assert_eq(42, reorder_point)
}