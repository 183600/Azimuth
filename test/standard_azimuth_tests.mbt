// Azimuth é¡¹ç›®æ ‡å‡†æµ‹è¯•ç”¨ä¾‹
// ä½¿ç”¨æ ‡å‡† MoonBit æµ‹è¯•è¯­æ³•

// å¯¼å…¥ azimuth æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½
use "azimuth"

test "add_basic_functionality" {
  // æµ‹è¯•åŸºæœ¬çš„åŠ æ³•åŠŸèƒ½
  assert_eq(5, azimuth.add(2, 3))
  assert_eq(0, azimuth.add(0, 0))
  assert_eq(-2, azimuth.add(-5, 3))
}

test "add_overflow_protection" {
  // æµ‹è¯•åŠ æ³•æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  assert_eq(max_val, azimuth.add(max_val, 1))
  assert_eq(min_val, azimuth.add(min_val, -1))
}

test "multiply_basic_functionality" {
  // æµ‹è¯•åŸºæœ¬çš„ä¹˜æ³•åŠŸèƒ½
  assert_eq(6, azimuth.multiply(2, 3))
  assert_eq(0, azimuth.multiply(5, 0))
  assert_eq(-15, azimuth.multiply(-3, 5))
}

test "multiply_overflow_protection" {
  // æµ‹è¯•ä¹˜æ³•æº¢å‡ºä¿æŠ¤
  let max_val = 2147483647
  let min_val = -2147483648
  
  assert_eq(max_val, azimuth.multiply(max_val, 2))
  assert_eq(min_val, azimuth.multiply(min_val, -1))
}

test "greet_functionality" {
  // æµ‹è¯•é—®å€™åŠŸèƒ½
  assert_eq_string("Hello, World!", azimuth.greet("World"))
  assert_eq_string("Hello, MoonBit!", azimuth.greet("MoonBit"))
  assert_eq_string("Hello, !", azimuth.greet(""))
}

test "complex_calculation" {
  // æµ‹è¯•å¤åˆè®¡ç®—ï¼šçŸ©å½¢å‘¨é•¿
  let length = 10
  let width = 5
  let perimeter = azimuth.add(
    azimuth.multiply(2, length), 
    azimuth.multiply(2, width)
  )
  assert_eq(30, perimeter)
}

test "mathematical_properties" {
  // æµ‹è¯•æ•°å­¦æ€§è´¨
  let a = 7
  let b = 11
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(azimuth.add(a, b), azimuth.add(b, a))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(azimuth.multiply(a, b), azimuth.multiply(b, a))
}

test "boundary_value_combinations" {
  // æµ‹è¯•è¾¹ç•Œå€¼ç»„åˆ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // è¾¹ç•Œå€¼ç›¸åŠ 
  assert_eq(-1, azimuth.add(max_val, min_val))
  
  // è¾¹ç•Œå€¼ä¸0ç›¸ä¹˜
  assert_eq(0, azimuth.multiply(max_val, 0))
  assert_eq(0, azimuth.multiply(min_val, 0))
}

test "real_world_scenario" {
  // æµ‹è¯•å®é™…åº”ç”¨åœºæ™¯ï¼šè´­ç‰©è½¦è®¡ç®—
  let item_price = 199
  let quantity = 3
  let shipping = 20
  
  let subtotal = azimuth.multiply(item_price, quantity)
  let total = azimuth.add(subtotal, shipping)
  
  assert_eq(617, total)
}

test "unicode_string_handling" {
  // æµ‹è¯•Unicodeå­—ç¬¦ä¸²å¤„ç†
  assert_eq_string("Hello, æµ‹è¯•!", azimuth.greet("æµ‹è¯•"))
  assert_eq_string("Hello, ğŸŒ!", azimuth.greet("ğŸŒ"))
  assert_eq_string("Hello, ä¸­æ–‡123!", azimuth.greet("ä¸­æ–‡123"))
}