// ä¸“æ³¨çš„ç»¼åˆæµ‹è¯•ç”¨ä¾‹
// è¦†ç›– azimuth åŒ…çš„æ ¸å¿ƒåŠŸèƒ½å’Œè¾¹ç•Œæƒ…å†µ

test "add_overflow_protection" {
  // æµ‹è¯•åŠ æ³•æº¢å‡ºä¿æŠ¤æœºåˆ¶
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æ­£æ•°æº¢å‡ºæµ‹è¯•
  assert_eq(max_val, add(max_val, 1))
  assert_eq(max_val, add(max_val, max_val))
  assert_eq(max_val, add(1000000000, 1500000000))
  
  // è´Ÿæ•°æº¢å‡ºæµ‹è¯•
  assert_eq(min_val, add(min_val, -1))
  assert_eq(min_val, add(min_val, min_val))
  assert_eq(min_val, add(-1500000000, -1000000000))
}

test "multiply_edge_cases" {
  // æµ‹è¯•ä¹˜æ³•çš„è¾¹ç•Œæƒ…å†µ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // é›¶å€¼æµ‹è¯•
  assert_eq(0, multiply(0, max_val))
  assert_eq(0, multiply(0, min_val))
  assert_eq(0, multiply(0, 0))
  
  // å•ä½å€¼æµ‹è¯•
  assert_eq(max_val, multiply(max_val, 1))
  assert_eq(min_val, multiply(min_val, 1))
  assert_eq(max_val, multiply(1, max_val))
  assert_eq(min_val, multiply(1, min_val))
  
  // è´Ÿä¸€æµ‹è¯•ï¼ˆåŒ…æ‹¬æœ€å°å€¼ç‰¹æ®Šæƒ…å†µï¼‰
  assert_eq(min_val, multiply(min_val, -1))
  assert_eq(-max_val, multiply(max_val, -1))
}

test "mathematical_identities" {
  // æµ‹è¯•æ•°å­¦æ’ç­‰å¼
  let x = 42
  let y = 17
  
  // åŠ æ³•æ’ç­‰å¼
  assert_eq(x, add(x, 0))
  assert_eq(y, add(0, y))
  
  // ä¹˜æ³•æ’ç­‰å¼
  assert_eq(x, multiply(x, 1))
  assert_eq(y, multiply(1, y))
  
  // åŠ æ³•äº¤æ¢å¾‹
  assert_eq(add(x, y), add(y, x))
  
  // ä¹˜æ³•äº¤æ¢å¾‹
  assert_eq(multiply(x, y), multiply(y, x))
}

test "string_processing_edge_cases" {
  // æµ‹è¯•å­—ç¬¦ä¸²å¤„ç†çš„è¾¹ç•Œæƒ…å†µ
  // ç©ºå­—ç¬¦ä¸²
  assert_eq_string("Hello, !", greet(""))
  
  // å•å­—ç¬¦
  assert_eq_string("Hello, A!", greet("A"))
  
  // é•¿å­—ç¬¦ä¸²
  let long_name = "VeryLongNameThatTestsStringHandling"
  assert_eq_string("Hello, VeryLongNameThatTestsStringHandling!", greet(long_name))
  
  // ç‰¹æ®Šå­—ç¬¦
  assert_eq_string("Hello, @#$%^&*()!", greet("@#$%^&*()"))
  
  // Unicodeå­—ç¬¦
  assert_eq_string("Hello, ğŸŒŸ!", greet("ğŸŒŸ"))
}

test "complex_calculation_scenarios" {
  // æµ‹è¯•å¤æ‚è®¡ç®—åœºæ™¯
  // åœºæ™¯1ï¼šè®¡ç®—çŸ©å½¢å‘¨é•¿ (2 * (length + width))
  let length = 15
  let width = 8
  let perimeter = multiply(2, add(length, width))
  assert_eq(46, perimeter)
  
  // åœºæ™¯2ï¼šè®¡ç®—å¤åˆåˆ©æ¯ principal * (1 + rate * years)
  let principal = 1000
  let rate = 5
  let years = 3
  let total = multiply(principal, add(1, multiply(rate, years)))
  assert_eq(16000, total)
  
  // åœºæ™¯3ï¼šæ¸©åº¦è½¬æ¢ Celsius * 2 + 30
  let celsius = 25
  let fahrenheit = add(multiply(celsius, 2), 30)
  assert_eq(80, fahrenheit)
}

test "negative_number_operations" {
  // æµ‹è¯•è´Ÿæ•°è¿ç®—
  let a = -10
  let b = -20
  let c = 15
  
  // è´Ÿæ•°åŠ æ³•
  assert_eq(-30, add(a, b))
  assert_eq(5, add(a, c))
  
  // è´Ÿæ•°ä¹˜æ³•
  assert_eq(200, multiply(a, b))
  assert_eq(-150, multiply(a, c))
  assert_eq(-300, multiply(b, c))
  
  // æ··åˆç¬¦å·è¿ç®—
  assert_eq(-5, add(-10, 5))
  assert_eq(0, add(-20, 20))
}

test "sequential_operations" {
  // æµ‹è¯•è¿ç»­è¿ç®—
  // è¿ç»­åŠ æ³•ï¼š1 + 2 + 3 + 4 + 5
  let sum_result = add(add(add(add(1, 2), 3), 4), 5)
  assert_eq(15, sum_result)
  
  // è¿ç»­ä¹˜æ³•ï¼š2 * 3 * 4
  let product_result = multiply(multiply(2, 3), 4)
  assert_eq(24, product_result)
  
  // æ··åˆè¿ç»­è¿ç®—ï¼š(1 + 2) * (3 + 4)
  let mixed_result = multiply(add(1, 2), add(3, 4))
  assert_eq(21, mixed_result)
}

test "boundary_value_combinations" {
  // æµ‹è¯•è¾¹ç•Œå€¼ç»„åˆ
  let max_val = 2147483647
  let min_val = -2147483648
  
  // æœ€å¤§å€¼ä¸æœ€å°å€¼çš„è¿ç®—
  assert_eq(-1, add(max_val, min_val))
  assert_eq(0, add(max_val, add(min_val, 1)))
  
  // è¾¹ç•Œå€¼ä¸æ™®é€šå€¼çš„è¿ç®—
  assert_eq(2147483646, add(max_val, -1))
  assert_eq(-2147483647, add(min_val, 1))
  
  // è¾¹ç•Œå€¼ä¹˜æ³•æµ‹è¯•
  assert_eq(min_val, multiply(min_val, 1))
  assert_eq(0, multiply(max_val, 0))
}

test "assert_function_comprehensive" {
  // ç»¼åˆæµ‹è¯•æ–­è¨€å‡½æ•°
  // åŸºæœ¬æ–­è¨€
  assert_true(true)
  assert_false(false)
  
  // æ•°å€¼æ¯”è¾ƒæ–­è¨€
  assert_eq(0, 0)
  assert_eq(42, 42)
  assert_eq(-100, -100)
  
  // å­—ç¬¦ä¸²æ¯”è¾ƒæ–­è¨€
  assert_eq_string("", "")
  assert_eq_string("test", "test")
  assert_eq_string("Hello, World!", greet("World"))
  
  // å¸ƒå°”è¡¨è¾¾å¼æ–­è¨€
  assert_true(5 > 3)
  assert_true(10 >= 10)
  assert_false(3 > 5)
  assert_false(10 <= 9)
}

test "real_world_business_calculations" {
  // å®é™…ä¸šåŠ¡è®¡ç®—æµ‹è¯•
  // è®¢å•è®¡ç®—ï¼šå•†å“ä»·æ ¼ Ã— æ•°é‡ + è¿è´¹
  let item_price = 199
  let quantity = 3
  let shipping = 20
  
  let subtotal = multiply(item_price, quantity)
  let total = add(subtotal, shipping)
  assert_eq(617, total)
  
  // æŠ˜æ‰£è®¡ç®—ï¼šæ€»ä»· Ã— (100 - æŠ˜æ‰£ç‡) / 100
  let original_total = 1000
  let discount_rate = 15
  let discounted_total = multiply(original_total, add(100, -discount_rate)) / 100
  assert_eq(850, discounted_total)
  
  // ç¨è´¹è®¡ç®—ï¼šå‡€ä»· Ã— ç¨ç‡ / 100
  let net_price = 850
  let tax_rate = 8
  let tax_amount = multiply(net_price, tax_rate) / 100
  let final_price = add(net_price, tax_amount)
  assert_eq(918, final_price)
}