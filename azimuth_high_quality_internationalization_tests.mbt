// High Quality Internationalization Tests for Azimuth Telemetry System
// This file contains comprehensive tests for internationalization and localization support

// Test 1: Unicode String Handling in Attributes
test "unicode string handling in attributes" {
  // Test Chinese characters
  let chinese_attrs = Attributes::new()
  Attributes::set(chinese_attrs, "ç”¨æˆ·.æ ‡è¯†", StringValue("ç”¨æˆ·123"))
  Attributes::set(chinese_attrs, "ä¼šè¯.æ ‡è¯†", StringValue("ä¼šè¯456"))
  Attributes::set(chinese_attrs, "ç§Ÿæˆ·.æ ‡è¯†", StringValue("ç§Ÿæˆ·789"))
  Attributes::set(chinese_attrs, "æ“ä½œ.åç§°", StringValue("æ•°æ®å¤„ç†"))
  
  assert_eq(Attributes::get(chinese_attrs, "ç”¨æˆ·.æ ‡è¯†"), Some(StringValue("ç”¨æˆ·123")))
  assert_eq(Attributes::get(chinese_attrs, "ä¼šè¯.æ ‡è¯†"), Some(StringValue("ä¼šè¯456")))
  assert_eq(Attributes::get(chinese_attrs, "ç§Ÿæˆ·.æ ‡è¯†"), Some(StringValue("ç§Ÿæˆ·789")))
  assert_eq(Attributes::get(chinese_attrs, "æ“ä½œ.åç§°"), Some(StringValue("æ•°æ®å¤„ç†")))
  
  // Test Japanese characters
  let japanese_attrs = Attributes::new()
  Attributes::set(japanese_attrs, "ãƒ¦ãƒ¼ã‚¶ãƒ¼.ID", StringValue("ãƒ¦ãƒ¼ã‚¶ãƒ¼123"))
  Attributes::set(japanese_attrs, "ã‚»ãƒƒã‚·ãƒ§ãƒ³.ID", StringValue("ã‚»ãƒƒã‚·ãƒ§ãƒ³456"))
  Attributes::set(japanese_attrs, "ãƒ†ãƒŠãƒ³ãƒˆ.ID", StringValue("ãƒ†ãƒŠãƒ³ãƒˆ789"))
  Attributes::set(japanese_attrs, "æ“ä½œ.åå‰", StringValue("ãƒ‡ãƒ¼ã‚¿å‡¦ç†"))
  
  assert_eq(Attributes::get(japanese_attrs, "ãƒ¦ãƒ¼ã‚¶ãƒ¼.ID"), Some(StringValue("ãƒ¦ãƒ¼ã‚¶ãƒ¼123")))
  assert_eq(Attributes::get(japanese_attrs, "ã‚»ãƒƒã‚·ãƒ§ãƒ³.ID"), Some(StringValue("ã‚»ãƒƒã‚·ãƒ§ãƒ³456")))
  assert_eq(Attributes::get(japanese_attrs, "ãƒ†ãƒŠãƒ³ãƒˆ.ID"), Some(StringValue("ãƒ†ãƒŠãƒ³ãƒˆ789")))
  assert_eq(Attributes::get(japanese_attrs, "æ“ä½œ.åå‰"), Some(StringValue("ãƒ‡ãƒ¼ã‚¿å‡¦ç†")))
  
  // Test Korean characters
  let korean_attrs = Attributes::new()
  Attributes::set(korean_attrs, "ì‚¬ìš©ì.ID", StringValue("ì‚¬ìš©ì123"))
  Attributes::set(korean_attrs, "ì„¸ì…˜.ID", StringValue("ì„¸ì…˜456"))
  Attributes::set(korean_attrs, "í…Œë„ŒíŠ¸.ID", StringValue("í…Œë„ŒíŠ¸789"))
  Attributes::set(korean_attrs, "ì‘ì—….ì´ë¦„", StringValue("ë°ì´í„°ì²˜ë¦¬"))
  
  assert_eq(Attributes::get(korean_attrs, "ì‚¬ìš©ì.ID"), Some(StringValue("ì‚¬ìš©ì123")))
  assert_eq(Attributes::get(korean_attrs, "ì„¸ì…˜.ID"), Some(StringValue("ì„¸ì…˜456")))
  assert_eq(Attributes::get(korean_attrs, "í…Œë„ŒíŠ¸.ID"), Some(StringValue("í…Œë„ŒíŠ¸789")))
  assert_eq(Attributes::get(korean_attrs, "ì‘ì—….ì´ë¦„"), Some(StringValue("ë°ì´í„°ì²˜ë¦¬")))
  
  // Test Arabic characters
  let arabic_attrs = Attributes::new()
  Attributes::set(arabic_attrs, "Ù…Ø¹Ø±Ù.Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…", StringValue("Ù…Ø³ØªØ®Ø¯Ù…123"))
  Attributes::set(arabic_attrs, "Ù…Ø¹Ø±Ù.Ø§Ù„Ø¬Ù„Ø³Ø©", StringValue("Ø¬Ù„Ø³Ø©456"))
  Attributes::set(arabic_attrs, "Ù…Ø¹Ø±Ù.Ø§Ù„Ù…Ø³ØªØ£Ø¬Ø±", StringValue("Ù…Ø³ØªØ£Ø¬Ø±789"))
  Attributes::set(arabic_attrs, "Ø§Ø³Ù….Ø§Ù„Ø¹Ù…Ù„ÙŠØ©", StringValue("Ù…Ø¹Ø§Ù„Ø¬Ø©.Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"))
  
  assert_eq(Attributes::get(arabic_attrs, "Ù…Ø¹Ø±Ù.Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"), Some(StringValue("Ù…Ø³ØªØ®Ø¯Ù…123")))
  assert_eq(Attributes::get(arabic_attrs, "Ù…Ø¹Ø±Ù.Ø§Ù„Ø¬Ù„Ø³Ø©"), Some(StringValue("Ø¬Ù„Ø³Ø©456")))
  assert_eq(Attributes::get(arabic_attrs, "Ù…Ø¹Ø±Ù.Ø§Ù„Ù…Ø³ØªØ£Ø¬Ø±"), Some(StringValue("Ù…Ø³ØªØ£Ø¬Ø±789")))
  assert_eq(Attributes::get(arabic_attrs, "Ø§Ø³Ù….Ø§Ù„Ø¹Ù…Ù„ÙŠØ©"), Some(StringValue("Ù…Ø¹Ø§Ù„Ø¬Ø©.Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")))
}

// Test 2: Unicode String Handling in Baggage
test "unicode string handling in baggage" {
  // Test Chinese baggage entries
  let chinese_baggage = Baggage::new()
  let with_user = Baggage::set_entry(chinese_baggage, "ç”¨æˆ·æ ‡è¯†", "ç”¨æˆ·123")
  let with_session = Baggage::set_entry(with_user, "ä¼šè¯æ ‡è¯†", "ä¼šè¯456")
  let with_tenant = Baggage::set_entry(with_session, "ç§Ÿæˆ·æ ‡è¯†", "ç§Ÿæˆ·789")
  
  assert_eq(Baggage::get_entry(with_tenant, "ç”¨æˆ·æ ‡è¯†"), Some("ç”¨æˆ·123"))
  assert_eq(Baggage::get_entry(with_tenant, "ä¼šè¯æ ‡è¯†"), Some("ä¼šè¯456"))
  assert_eq(Baggage::get_entry(with_tenant, "ç§Ÿæˆ·æ ‡è¯†"), Some("ç§Ÿæˆ·789"))
  
  // Test Japanese baggage entries
  let japanese_baggage = Baggage::new()
  let with_jp_user = Baggage::set_entry(japanese_baggage, "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID", "ãƒ¦ãƒ¼ã‚¶ãƒ¼123")
  let with_jp_session = Baggage::set_entry(with_jp_user, "ã‚»ãƒƒã‚·ãƒ§ãƒ³ID", "ã‚»ãƒƒã‚·ãƒ§ãƒ³456")
  let with_jp_tenant = Baggage::set_entry(with_jp_session, "ãƒ†ãƒŠãƒ³ãƒˆID", "ãƒ†ãƒŠãƒ³ãƒˆ789")
  
  assert_eq(Baggage::get_entry(with_jp_tenant, "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID"), Some("ãƒ¦ãƒ¼ã‚¶ãƒ¼123"))
  assert_eq(Baggage::get_entry(with_jp_tenant, "ã‚»ãƒƒã‚·ãƒ§ãƒ³ID"), Some("ã‚»ãƒƒã‚·ãƒ§ãƒ³456"))
  assert_eq(Baggage::get_entry(with_jp_tenant, "ãƒ†ãƒŠãƒ³ãƒˆID"), Some("ãƒ†ãƒŠãƒ³ãƒˆ789"))
  
  // Test mixed language baggage entries
  let mixed_baggage = Baggage::new()
  let with_chinese = Baggage::set_entry(mixed_baggage, "ä¸­æ–‡é”®", "ä¸­æ–‡å€¼")
  let with_japanese = Baggage::set_entry(with_chinese, "æ—¥æœ¬èªã‚­ãƒ¼", "æ—¥æœ¬èªå€¤")
  let with_english = Baggage::set_entry(with_japanese, "english.key", "english.value")
  let with_emoji = Baggage::set_entry(with_english, "è¡¨æƒ…ç¬¦å·é”®", "è¡¨æƒ…ç¬¦å·å€¼ğŸš€")
  
  assert_eq(Baggage::get_entry(with_emoji, "ä¸­æ–‡é”®"), Some("ä¸­æ–‡å€¼"))
  assert_eq(Baggage::get_entry(with_emoji, "æ—¥æœ¬èªã‚­ãƒ¼"), Some("æ—¥æœ¬èªå€¤"))
  assert_eq(Baggage::get_entry(with_emoji, "english.key"), Some("english.value"))
  assert_eq(Baggage::get_entry(with_emoji, "è¡¨æƒ…ç¬¦å·é”®"), Some("è¡¨æƒ…ç¬¦å·å€¼ğŸš€"))
}

// Test 3: Unicode String Handling in Context
test "unicode string handling in context" {
  // Test context keys with Unicode characters
  let ctx = Context::root()
  
  let chinese_key = ContextKey::new("ä¸­æ–‡é”®")
  let ctx_with_chinese = Context::with_value(ctx, chinese_key, "ä¸­æ–‡å€¼")
  assert_eq(Context::get(ctx_with_chinese, chinese_key), Some("ä¸­æ–‡å€¼"))
  
  let japanese_key = ContextKey::new("æ—¥æœ¬èªã‚­ãƒ¼")
  let ctx_with_japanese = Context::with_value(ctx_with_chinese, japanese_key, "æ—¥æœ¬èªå€¤")
  assert_eq(Context::get(ctx_with_japanese, japanese_key), Some("æ—¥æœ¬èªå€¤"))
  
  let korean_key = ContextKey::new("í•œêµ­ì–´í‚¤")
  let ctx_with_korean = Context::with_value(ctx_with_japanese, korean_key, "í•œêµ­ì–´ê°’")
  assert_eq(Context::get(ctx_with_korean, korean_key), Some("í•œêµ­ì–´ê°’"))
  
  let arabic_key = ContextKey::new("Ù…ÙØªØ§Ø­.Ø¹Ø±Ø¨ÙŠ")
  let ctx_with_arabic = Context::with_value(ctx_with_korean, arabic_key, "Ù‚ÙŠÙ…Ø©.Ø¹Ø±Ø¨ÙŠØ©")
  assert_eq(Context::get(ctx_with_arabic, arabic_key), Some("Ù‚ÙŠÙ…Ø©.Ø¹Ø±Ø¨ÙŠØ©"))
  
  // Test context values with Unicode characters
  let emoji_key = ContextKey::new("emoji.test")
  let ctx_with_emoji = Context::with_value(ctx_with_arabic, emoji_key, "æµ‹è¯•å€¼ğŸš€ğŸ˜€ğŸ‰")
  assert_eq(Context::get(ctx_with_emoji, emoji_key), Some("æµ‹è¯•å€¼ğŸš€ğŸ˜€ğŸ‰"))
}

// Test 4: Unicode String Handling in Span Names and Attributes
test "unicode string handling in span names and attributes" {
  // Test span names with Unicode characters
  let tracer = TracerProvider::get_tracer(TracerProvider::new(), "å›½é™…åŒ–æµ‹è¯•")
  
  let chinese_span = Tracer::start_span(tracer, "ä¸­æ–‡æ“ä½œ")
  assert_eq(Span::name(chinese_span), "ä¸­æ–‡æ“ä½œ")
  
  let japanese_span = Tracer::start_span(tracer, "æ—¥æœ¬èªæ“ä½œ")
  assert_eq(Span::name(japanese_span), "æ—¥æœ¬èªæ“ä½œ")
  
  let korean_span = Tracer::start_span(tracer, "í•œêµ­ì–´ì‘ì—…")
  assert_eq(Span::name(korean_span), "í•œêµ­ì–´ì‘ì—…")
  
  let emoji_span = Tracer::start_span(tracer, "è¡¨æƒ…ç¬¦å·æ“ä½œğŸš€")
  assert_eq(Span::name(emoji_span), "è¡¨æƒ…ç¬¦å·æ“ä½œğŸš€")
  
  // Test span attributes with Unicode characters
  Span::set_attribute(chinese_span, "ç”¨æˆ·æ ‡è¯†", StringValue("ç”¨æˆ·123"))
  Span::set_attribute(chinese_span, "æ“ä½œç»“æœ", StringValue("æˆåŠŸ"))
  Span::set_attribute(chinese_span, "é”™è¯¯ä¿¡æ¯", StringValue("æ— é”™è¯¯"))
  
  Span::set_attribute(japanese_span, "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID", StringValue("ãƒ¦ãƒ¼ã‚¶ãƒ¼123"))
  Span::set_attribute(japanese_span, "æ“ä½œçµæœ", StringValue("æˆåŠŸ"))
  Span::set_attribute(japanese_span, "ã‚¨ãƒ©ãƒ¼æƒ…å ±", StringValue("ã‚¨ãƒ©ãƒ¼ãªã—"))
  
  Span::set_attribute(korean_span, "ì‚¬ìš©ìID", StringValue("ì‚¬ìš©ì123"))
  Span::set_attribute(korean_span, "ì‘ì—…ê²°ê³¼", StringValue("ì„±ê³µ"))
  Span::set_attribute(korean_span, "ì˜¤ë¥˜ì •ë³´", StringValue("ì˜¤ë¥˜ì—†ìŒ"))
  
  Span::set_attribute(emoji_span, "user.id", StringValue("user123"))
  Span::set_attribute(emoji_span, "operation.result", StringValue("success ğŸ‰"))
  Span::set_attribute(emoji_span, "error.message", StringValue("no error ğŸ˜Š"))
}

// Test 5: Unicode String Handling in Log Records
test "unicode string handling in log records" {
  // Test log records with Unicode characters
  let logger = LoggerProvider::get_logger(LoggerProvider::new(), "å›½é™…åŒ–æ—¥å¿—å™¨")
  
  // Chinese log record
  let chinese_log = LogRecord::new()
  LogRecord::set_body(chinese_log, "å¤„ç†ç”¨æˆ·è¯·æ±‚")
  LogRecord::set_severity(chinese_log, Info)
  LogRecord::set_attribute(chinese_log, "ç”¨æˆ·æ ‡è¯†", StringValue("ç”¨æˆ·123"))
  LogRecord::set_attribute(chinese_log, "æ“ä½œç±»å‹", StringValue("æ•°æ®æŸ¥è¯¢"))
  LogRecord::set_attribute(chinese_log, "ç»“æœ", StringValue("æˆåŠŸ"))
  
  assert_eq(LogRecord::body(chinese_log), "å¤„ç†ç”¨æˆ·è¯·æ±‚")
  assert_eq(LogRecord::severity(chinese_log), Info)
  
  // Japanese log record
  let japanese_log = LogRecord::new()
  LogRecord::set_body(japanese_log, "ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†")
  LogRecord::set_severity(japanese_log, Info)
  LogRecord::set_attribute(japanese_log, "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID", StringValue("ãƒ¦ãƒ¼ã‚¶ãƒ¼123"))
  LogRecord::set_attribute(japanese_log, "æ“ä½œã‚¿ã‚¤ãƒ—", StringValue("ãƒ‡ãƒ¼ã‚¿ã‚¯ã‚¨ãƒª"))
  LogRecord::set_attribute(japanese_log, "çµæœ", StringValue("æˆåŠŸ"))
  
  assert_eq(LogRecord::body(japanese_log), "ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†")
  assert_eq(LogRecord::severity(japanese_log), Info)
  
  // Korean log record
  let korean_log = LogRecord::new()
  LogRecord::set_body(korean_log, "ì‚¬ìš©ì ìš”ì²­ ì²˜ë¦¬")
  LogRecord::set_severity(korean_log, Info)
  LogRecord::set_attribute(korean_log, "ì‚¬ìš©ìID", StringValue("ì‚¬ìš©ì123"))
  LogRecord::set_attribute(korean_log, "ì‘ì—…ìœ í˜•", StringValue("ë°ì´í„°ì¡°íšŒ"))
  LogRecord::set_attribute(korean_log, "ê²°ê³¼", StringValue("ì„±ê³µ"))
  
  assert_eq(LogRecord::body(korean_log), "ì‚¬ìš©ì ìš”ì²­ ì²˜ë¦¬")
  assert_eq(LogRecord::severity(korean_log), Info)
  
  // Emoji log record
  let emoji_log = LogRecord::new()
  LogRecord::set_body(emoji_log, "Processing request with emojis ğŸš€")
  LogRecord::set_severity(emoji_log, Info)
  LogRecord::set_attribute(emoji_log, "user.id", StringValue("user123"))
  LogRecord::set_attribute(emoji_log, "operation.type", StringValue("data query"))
  LogRecord::set_attribute(emoji_log, "result", StringValue("success ğŸ‰"))
  
  assert_eq(LogRecord::body(emoji_log), "Processing request with emojis ğŸš€")
  assert_eq(LogRecord::severity(emoji_log), Info)
}

// Test 6: Unicode String Handling in Resource Attributes
test "unicode string handling in resource attributes" {
  // Test resource with Unicode attributes
  let chinese_resource = Resource::new()
  Resource::set_attribute(chinese_resource, "æœåŠ¡åç§°", StringValue("ä¸­æ–‡æœåŠ¡"))
  Resource::set_attribute(chinese_resource, "æœåŠ¡ç‰ˆæœ¬", StringValue("1.0.0"))
  Resource::set_attribute(chinese_resource, "å®ä¾‹æ ‡è¯†", StringValue("å®ä¾‹123"))
  Resource::set_attribute(chinese_resource, "éƒ¨ç½²ç¯å¢ƒ", StringValue("ç”Ÿäº§ç¯å¢ƒ"))
  
  assert_eq(Resource::get_attribute(chinese_resource, "æœåŠ¡åç§°"), Some(StringValue("ä¸­æ–‡æœåŠ¡")))
  assert_eq(Resource::get_attribute(chinese_resource, "æœåŠ¡ç‰ˆæœ¬"), Some(StringValue("1.0.0")))
  assert_eq(Resource::get_attribute(chinese_resource, "å®ä¾‹æ ‡è¯†"), Some(StringValue("å®ä¾‹123")))
  assert_eq(Resource::get_attribute(chinese_resource, "éƒ¨ç½²ç¯å¢ƒ"), Some(StringValue("ç”Ÿäº§ç¯å¢ƒ")))
  
  // Test resource with Japanese attributes
  let japanese_resource = Resource::new()
  Resource::set_attribute(japanese_resource, "ã‚µãƒ¼ãƒ“ã‚¹å", StringValue("æ—¥æœ¬èªã‚µãƒ¼ãƒ“ã‚¹"))
  Resource::set_attribute(japanese_resource, "ã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³", StringValue("1.0.0"))
  Resource::set_attribute(japanese_resource, "ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ID", StringValue("ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹123"))
  Resource::set_attribute(japanese_resource, "é…å‚™ç’°å¢ƒ", StringValue("æœ¬ç•ªç’°å¢ƒ"))
  
  assert_eq(Resource::get_attribute(japanese_resource, "ã‚µãƒ¼ãƒ“ã‚¹å"), Some(StringValue("æ—¥æœ¬èªã‚µãƒ¼ãƒ“ã‚¹")))
  assert_eq(Resource::get_attribute(japanese_resource, "ã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³"), Some(StringValue("1.0.0")))
  assert_eq(Resource::get_attribute(japanese_resource, "ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ID"), Some(StringValue("ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹123")))
  assert_eq(Resource::get_attribute(japanese_resource, "é…å‚™ç’°å¢ƒ"), Some(StringValue("æœ¬ç•ªç’°å¢ƒ")))
  
  // Test resource with Korean attributes
  let korean_resource = Resource::new()
  Resource::set_attribute(korean_resource, "ì„œë¹„ìŠ¤ëª…", StringValue("í•œêµ­ì–´ì„œë¹„ìŠ¤"))
  Resource::set_attribute(korean_resource, "ì„œë¹„ìŠ¤ë²„ì „", StringValue("1.0.0"))
  Resource::set_attribute(korean_resource, "ì¸ìŠ¤í„´ìŠ¤ID", StringValue("ì¸ìŠ¤í„´ìŠ¤123"))
  Resource::set_attribute(korean_resource, "ë°°í¬í™˜ê²½", StringValue("í”„ë¡œë•ì…˜"))
  
  assert_eq(Resource::get_attribute(korean_resource, "ì„œë¹„ìŠ¤ëª…"), Some(StringValue("í•œêµ­ì–´ì„œë¹„ìŠ¤")))
  assert_eq(Resource::get_attribute(korean_resource, "ì„œë¹„ìŠ¤ë²„ì „"), Some(StringValue("1.0.0")))
  assert_eq(Resource::get_attribute(korean_resource, "ì¸ìŠ¤í„´ìŠ¤ID"), Some(StringValue("ì¸ìŠ¤í„´ìŠ¤123")))
  assert_eq(Resource::get_attribute(korean_resource, "ë°°í¬í™˜ê²½"), Some(StringValue("í”„ë¡œë•ì…˜")))
}

// Test 7: Unicode String Handling in Instrumentation Scope
test "unicode string handling in instrumentation scope" {
  // Test instrumentation scope with Unicode characters
  let chinese_scope = InstrumentationScope::new(
    "ä¸­æ–‡é¥æµ‹åº“",
    Some("1.0.0"),
    Some("https://example.com/ä¸­æ–‡/æ¨¡å¼/v1")
  )
  
  assert_eq(chinese_scope.name, "ä¸­æ–‡é¥æµ‹åº“")
  assert_eq(chinese_scope.version, Some("1.0.0"))
  assert_eq(chinese_scope.schema_url, Some("https://example.com/ä¸­æ–‡/æ¨¡å¼/v1"))
  
  let japanese_scope = InstrumentationScope::new(
    "æ—¥æœ¬èªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒª",
    Some("1.0.0"),
    Some("https://example.com/æ—¥æœ¬èª/ã‚¹ã‚­ãƒ¼ãƒ/v1")
  )
  
  assert_eq(japanese_scope.name, "æ—¥æœ¬èªãƒ†ãƒ¬ãƒ¡ãƒˆãƒªãƒ¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒª")
  assert_eq(japanese_scope.version, Some("1.0.0"))
  assert_eq(japanese_scope.schema_url, Some("https://example.com/æ—¥æœ¬èª/ã‚¹ã‚­ãƒ¼ãƒ/v1"))
  
  let korean_scope = InstrumentationScope::new(
    "í•œêµ­ì–´ì›ê²©ì¸¡ì •ë¼ì´ë¸ŒëŸ¬ë¦¬",
    Some("1.0.0"),
    Some("https://example.com/í•œêµ­ì–´/ìŠ¤í‚¤ë§ˆ/v1")
  )
  
  assert_eq(korean_scope.name, "í•œêµ­ì–´ì›ê²©ì¸¡ì •ë¼ì´ë¸ŒëŸ¬ë¦¬")
  assert_eq(korean_scope.version, Some("1.0.0"))
  assert_eq(korean_scope.schema_url, Some("https://example.com/í•œêµ­ì–´/ìŠ¤í‚¤ë§ˆ/v1"))
}

// Test 8: Unicode String Handling in Text Map Carrier
test "unicode string handling in text map carrier" {
  // Test carrier with Unicode headers
  let carrier = TextMapCarrier::new()
  
  // Set headers with Unicode characters
  TextMapCarrier::set(carrier, "traceparent", "00-0af7651916cd43dd8448eb211c80319c-b7ad6b7169203331-01")
  TextMapCarrier::set(carrier, "ä¸­æ–‡ baggage", "ç”¨æˆ·æ ‡è¯†=ç”¨æˆ·123,ä¼šè¯æ ‡è¯†=ä¼šè¯456")
  TextMapCarrier::set(carrier, "æ—¥æœ¬èª baggage", "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID=ãƒ¦ãƒ¼ã‚¶ãƒ¼123,ã‚»ãƒƒã‚·ãƒ§ãƒ³ID=ã‚»ãƒƒã‚·ãƒ§ãƒ³456")
  TextMapCarrier::set(carrier, "í•œêµ­ì–´ baggage", "ì‚¬ìš©ìID=ì‚¬ìš©ì123,ì„¸ì…˜ID=ì„¸ì…˜456")
  TextMapCarrier::set(carrier, "emoji baggage", "user=user123,emoji=ğŸš€ğŸ˜€ğŸ‰")
  
  // Verify headers are stored correctly
  assert_eq(TextMapCarrier::get(carrier, "traceparent"), Some("00-0af7651916cd43dd8448eb211c80319c-b7ad6b7169203331-01"))
  assert_eq(TextMapCarrier::get(carrier, "ä¸­æ–‡ baggage"), Some("ç”¨æˆ·æ ‡è¯†=ç”¨æˆ·123,ä¼šè¯æ ‡è¯†=ä¼šè¯456"))
  assert_eq(TextMapCarrier::get(carrier, "æ—¥æœ¬èª baggage"), Some("ãƒ¦ãƒ¼ã‚¶ãƒ¼ID=ãƒ¦ãƒ¼ã‚¶ãƒ¼123,ã‚»ãƒƒã‚·ãƒ§ãƒ³ID=ã‚»ãƒƒã‚·ãƒ§ãƒ³456"))
  assert_eq(TextMapCarrier::get(carrier, "í•œêµ­ì–´ baggage"), Some("ì‚¬ìš©ìID=ì‚¬ìš©ì123,ì„¸ì…˜ID=ì„¸ì…˜456"))
  assert_eq(TextMapCarrier::get(carrier, "emoji baggage"), Some("user=user123,emoji=ğŸš€ğŸ˜€ğŸ‰"))
  
  // Test propagation with Unicode baggage
  let baggage_propagator = W3CBaggagePropagator::new()
  let ctx = Context::root()
  
  // Create context with Unicode baggage
  let unicode_baggage = Baggage::new()
  let with_chinese = Baggage::set_entry(unicode_baggage, "ä¸­æ–‡é”®", "ä¸­æ–‡å€¼")
  let with_japanese = Baggage::set_entry(with_chinese, "æ—¥æœ¬èªã‚­ãƒ¼", "æ—¥æœ¬èªå€¤")
  let with_korean = Baggage::set_entry(with_japanese, "í•œêµ­ì–´í‚¤", "í•œêµ­ì–´ê°’")
  let with_emoji = Baggage::set_entry(with_korean, "emojií‚¤", "emojiê°’ğŸš€")
  
  let ctx_with_unicode = Context::with_value(ctx, ContextKey::new("baggage"), with_emoji)
  
  // Inject Unicode baggage
  let unicode_carrier = TextMapCarrier::new()
  W3CBaggagePropagator::inject(baggage_propagator, ctx_with_unicode, unicode_carrier)
  
  // Extract Unicode baggage
  let extracted_ctx = W3CBaggagePropagator::extract(baggage_propagator, unicode_carrier)
  let extracted_baggage = Context::get(extracted_ctx, ContextKey::new("baggage"))
  
  // Verify Unicode baggage is extracted correctly
  match (extracted_baggage) {
    Some(baggage) => {
      assert_eq(Baggage::get_entry(baggage, "ä¸­æ–‡é”®"), Some("ä¸­æ–‡å€¼"))
      assert_eq(Baggage::get_entry(baggage, "æ—¥æœ¬èªã‚­ãƒ¼"), Some("æ—¥æœ¬èªå€¤"))
      assert_eq(Baggage::get_entry(baggage, "í•œêµ­ì–´í‚¤"), Some("í•œêµ­ì–´ê°’"))
      assert_eq(Baggage::get_entry(baggage, "emojií‚¤"), Some("emojiê°’ğŸš€"))
    }
    None => assert_true(false) // Should not happen
  }
}

// Test 9: Unicode String Handling in Metrics
test "unicode string handling in metrics" {
  // Test metrics with Unicode characters
  let meter = MeterProvider::get_meter(MeterProvider::new(), "å›½é™…åŒ–ä»ªè¡¨")
  
  // Create instruments with Unicode names
  let chinese_counter = Meter::create_counter(meter, "ä¸­æ–‡è®¡æ•°å™¨")
  let japanese_counter = Meter::create_counter(meter, "æ—¥æœ¬èªã‚«ã‚¦ãƒ³ã‚¿ãƒ¼")
  let korean_counter = Meter::create_counter(meter, "í•œêµ­ì–´ì¹´ìš´í„°")
  let emoji_counter = Meter::create_counter(meter, "emoji counter ğŸš€")
  
  assert_eq(chinese_counter.name, "ä¸­æ–‡è®¡æ•°å™¨")
  assert_eq(japanese_counter.name, "æ—¥æœ¬èªã‚«ã‚¦ãƒ³ã‚¿ãƒ¼")
  assert_eq(korean_counter.name, "í•œêµ­ì–´ì¹´ìš´í„°")
  assert_eq(emoji_counter.name, "emoji counter ğŸš€")
  
  // Record metrics with Unicode attributes
  Counter::add(chinese_counter, 1, [ ("æ“ä½œç±»å‹", StringValue("æ•°æ®æŸ¥è¯¢")), ("ç”¨æˆ·ç±»å‹", StringValue("ç®¡ç†å‘˜")) ])
  Counter::add(japanese_counter, 1, [ ("æ“ä½œã‚¿ã‚¤ãƒ—", StringValue("ãƒ‡ãƒ¼ã‚¿ã‚¯ã‚¨ãƒª")), ("ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—", StringValue("ç®¡ç†è€…")) ])
  Counter::add(korean_counter, 1, [ ("ì‘ì—…ìœ í˜•", StringValue("ë°ì´í„°ì¡°íšŒ")), ("ì‚¬ìš©ììœ í˜•", StringValue("ê´€ë¦¬ì")) ])
  Counter::add(emoji_counter, 1, [ ("operation.type", StringValue("data query")), ("user.type", StringValue("admin ğŸ˜Š")) ])
  
  // Test histogram with Unicode names
  let chinese_histogram = Meter::create_histogram(meter, "ä¸­æ–‡ç›´æ–¹å›¾")
  let japanese_histogram = Meter::create_histogram(meter, "æ—¥æœ¬èªãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ")
  let korean_histogram = Meter::create_histogram(meter, "í•œêµ­ì–´íˆìŠ¤í† ê·¸ë¨")
  
  assert_eq(chinese_histogram.name, "ä¸­æ–‡ç›´æ–¹å›¾")
  assert_eq(japanese_histogram.name, "æ—¥æœ¬èªãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ")
  assert_eq(korean_histogram.name, "í•œêµ­ì–´íˆìŠ¤í† ê·¸ë¨")
  
  // Record histogram values with Unicode attributes
  Histogram::record(chinese_histogram, 150.0, [ ("æ“ä½œç±»å‹", StringValue("æ•°æ®æŸ¥è¯¢")), ("å“åº”æ—¶é—´", StringValue("æ­£å¸¸")) ])
  Histogram::record(japanese_histogram, 200.0, [ ("æ“ä½œã‚¿ã‚¤ãƒ—", StringValue("ãƒ‡ãƒ¼ã‚¿ã‚¯ã‚¨ãƒª")), ("å¿œç­”æ™‚é–“", StringValue("æ­£å¸¸")) ])
  Histogram::record(korean_histogram, 100.0, [ ("ì‘ì—…ìœ í˜•", StringValue("ë°ì´í„°ì¡°íšŒ")), ("ì‘ë‹µì‹œê°„", StringValue("ì •ìƒ")) ])
}

// Test 10: Locale-Specific Formatting and Handling
test "locale-specific formatting and handling" {
  // Test locale-specific number formatting
  let chinese_attrs = Attributes::new()
  Attributes::set(chinese_attrs, "æ•°å€¼", IntValue(1234567))
  Attributes::set(chinese_attrs, "å°æ•°", FloatValue(1234.5678))
  Attributes::set(chinese_attrs, "ç™¾åˆ†æ¯”", FloatValue(0.1234))
  
  assert_eq(Attributes::get(chinese_attrs, "æ•°å€¼"), Some(IntValue(1234567)))
  assert_eq(Attributes::get(chinese_attrs, "å°æ•°"), Some(FloatValue(1234.5678)))
  assert_eq(Attributes::get(chinese_attrs, "ç™¾åˆ†æ¯”"), Some(FloatValue(0.1234)))
  
  // Test locale-specific date/time formatting
  let japanese_attrs = Attributes::new()
  Attributes::set(japanese_attrs, "æ—¥ä»˜", StringValue("2023-12-31"))
  Attributes::set(japanese_attrs, "æ™‚åˆ»", StringValue("23:59:59"))
  Attributes::set(japanese_attrs, "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—", StringValue("2023-12-31T23:59:59.999Z"))
  
  assert_eq(Attributes::get(japanese_attrs, "æ—¥ä»˜"), Some(StringValue("2023-12-31")))
  assert_eq(Attributes::get(japanese_attrs, "æ™‚åˆ»"), Some(StringValue("23:59:59")))
  assert_eq(Attributes::get(japanese_attrs, "ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—"), Some(StringValue("2023-12-31T23:59:59.999Z")))
  
  // Test locale-specific currency formatting
  let korean_attrs = Attributes::new()
  Attributes::set(korean_attrs, "í†µí™”", StringValue("KRW"))
  Attributes::set(korean_attrs, "ê¸ˆì•¡", IntValue(50000))
  Attributes::set(korean_attrs, "í˜•ì‹í™”ëœê¸ˆì•¡", StringValue("â‚©50,000"))
  
  assert_eq(Attributes::get(korean_attrs, "í†µí™”"), Some(StringValue("KRW")))
  assert_eq(Attributes::get(korean_attrs, "ê¸ˆì•¡"), Some(IntValue(50000)))
  assert_eq(Attributes::get(korean_attrs, "í˜•ì‹í™”ëœê¸ˆì•¡"), Some(StringValue("â‚©50,000")))
  
  // Test locale-specific address formatting
  let address_attrs = Attributes::new()
  Attributes::set(address_attrs, "ä¸­æ–‡åœ°å€", StringValue("åŒ—äº¬å¸‚æœé˜³åŒºå»ºå›½é—¨å¤–å¤§è¡—1å·"))
  Attributes::set(address_attrs, "æ—¥æœ¬èªä½æ‰€", StringValue("æ±äº¬éƒ½åƒä»£ç”°åŒºä¸¸ã®å†…1-2-3"))
  Attributes::set(address_attrs, "í•œêµ­ì–´ì£¼ì†Œ", StringValue("ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ ì„¸ì¢…ëŒ€ë¡œ 1"))
  Attributes::set(address_attrs, "English Address", StringValue("123 Main St, New York, NY 10001"))
  
  assert_eq(Attributes::get(address_attrs, "ä¸­æ–‡åœ°å€"), Some(StringValue("åŒ—äº¬å¸‚æœé˜³åŒºå»ºå›½é—¨å¤–å¤§è¡—1å·")))
  assert_eq(Attributes::get(address_attrs, "æ—¥æœ¬èªä½æ‰€"), Some(StringValue("æ±äº¬éƒ½åƒä»£ç”°åŒºä¸¸ã®å†…1-2-3")))
  assert_eq(Attributes::get(address_attrs, "í•œêµ­ì–´ì£¼ì†Œ"), Some(StringValue("ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ ì„¸ì¢…ëŒ€ë¡œ 1")))
  assert_eq(Attributes::get(address_attrs, "English Address"), Some(StringValue("123 Main St, New York, NY 10001")))
}